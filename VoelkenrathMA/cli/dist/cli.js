"use strict";var kh=Object.create;var jo=Object.defineProperty;var Uh=Object.getOwnPropertyDescriptor;var Bh=Object.getOwnPropertyNames;var zh=Object.getPrototypeOf,Hh=Object.prototype.hasOwnProperty;var Y=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var Vh=(t,r,e,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Bh(r))!Hh.call(t,a)&&a!==e&&jo(t,a,{get:()=>r[a],enumerable:!(i=Uh(r,a))||i.enumerable});return t};var Ct=(t,r,e)=>(e=t!=null?kh(zh(t)):{},Vh(r||!t||!t.__esModule?jo(e,"default",{value:t,enumerable:!0}):e,t));var Mo=Y((os,qo)=>{(function(t,r){typeof os=="object"&&typeof qo<"u"?r(os):typeof define=="function"&&define.amd?define(["exports"],r):r(t.URI=t.URI||{})})(os,function(t){"use strict";function r(){for(var D=arguments.length,b=Array(D),R=0;R<D;R++)b[R]=arguments[R];if(b.length>1){b[0]=b[0].slice(0,-1);for(var j=b.length-1,T=1;T<j;++T)b[T]=b[T].slice(1,-1);return b[j]=b[j].slice(1),b.join("")}else return b[0]}function e(D){return"(?:"+D+")"}function i(D){return D===void 0?"undefined":D===null?"null":Object.prototype.toString.call(D).split(" ").pop().split("]").shift().toLowerCase()}function a(D){return D.toUpperCase()}function o(D){return D!=null?D instanceof Array?D:typeof D.length!="number"||D.split||D.setInterval||D.call?[D]:Array.prototype.slice.call(D):[]}function l(D,b){var R=D;if(b)for(var j in b)R[j]=b[j];return R}function u(D){var b="[A-Za-z]",R="[\\x0D]",j="[0-9]",T="[\\x22]",ne=r(j,"[A-Fa-f]"),ge="[\\x0A]",$e="[\\x20]",De=e(e("%[EFef]"+ne+"%"+ne+ne+"%"+ne+ne)+"|"+e("%[89A-Fa-f]"+ne+"%"+ne+ne)+"|"+e("%"+ne+ne)),je="[\\:\\/\\?\\#\\[\\]\\@]",ce="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ne=r(je,ce),qe=D?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ke=D?"[\\uE000-\\uF8FF]":"[]",_e=r(b,j,"[\\-\\.\\_\\~]",qe),Me=e(b+r(b,j,"[\\+\\-\\.]")+"*"),E=e(e(De+"|"+r(_e,ce,"[\\:]"))+"*"),$=e(e("25[0-5]")+"|"+e("2[0-4]"+j)+"|"+e("1"+j+j)+"|"+e("[1-9]"+j)+"|"+j),F=e(e("25[0-5]")+"|"+e("2[0-4]"+j)+"|"+e("1"+j+j)+"|"+e("0?[1-9]"+j)+"|0?0?"+j),L=e(F+"\\."+F+"\\."+F+"\\."+F),W=e(ne+"{1,4}"),ie=e(e(W+"\\:"+W)+"|"+L),me=e(e(W+"\\:")+"{6}"+ie),ue=e("\\:\\:"+e(W+"\\:")+"{5}"+ie),Pe=e(e(W)+"?\\:\\:"+e(W+"\\:")+"{4}"+ie),Se=e(e(e(W+"\\:")+"{0,1}"+W)+"?\\:\\:"+e(W+"\\:")+"{3}"+ie),ar=e(e(e(W+"\\:")+"{0,2}"+W)+"?\\:\\:"+e(W+"\\:")+"{2}"+ie),Jt=e(e(e(W+"\\:")+"{0,3}"+W)+"?\\:\\:"+W+"\\:"+ie),Kr=e(e(e(W+"\\:")+"{0,4}"+W)+"?\\:\\:"+ie),Qr=e(e(e(W+"\\:")+"{0,5}"+W)+"?\\:\\:"+W),Tr=e(e(e(W+"\\:")+"{0,6}"+W)+"?\\:\\:"),xr=e([me,ue,Pe,Se,ar,Jt,Kr,Qr,Tr].join("|")),Jr=e(e(_e+"|"+De)+"+"),Wt=e(xr+"\\%25"+Jr),Wr=e(xr+e("\\%25|\\%(?!"+ne+"{2})")+Jr),li=e("[vV]"+ne+"+\\."+r(_e,ce,"[\\:]")+"+"),ci=e("\\["+e(Wr+"|"+xr+"|"+li)+"\\]"),Ka=e(e(De+"|"+r(_e,ce))+"*"),Dt=e(ci+"|"+L+"(?!"+Ka+")|"+Ka),Rt=e(j+"*"),Qa=e(e(E+"@")+"?"+Dt+e("\\:"+Rt)+"?"),xt=e(De+"|"+r(_e,ce,"[\\:\\@]")),ui=e(xt+"*"),Ja=e(xt+"+"),Wa=e(e(De+"|"+r(_e,ce,"[\\@]"))+"+"),Nr=e(e("\\/"+ui)+"*"),it=e("\\/"+e(Ja+Nr)+"?"),ya=e(Wa+Nr),Yt=e(Ja+Nr),nt="(?!"+xt+")",ro=e(Nr+"|"+it+"|"+ya+"|"+Yt+"|"+nt),ot=e(e(xt+"|"+r("[\\/\\?]",ke))+"*"),ft=e(e(xt+"|[\\/\\?]")+"*"),Ya=e(e("\\/\\/"+Qa+Nr)+"|"+it+"|"+Yt+"|"+nt),pi=e(Me+"\\:"+Ya+e("\\?"+ot)+"?"+e("\\#"+ft)+"?"),Xa=e(e("\\/\\/"+Qa+Nr)+"|"+it+"|"+ya+"|"+nt),mi=e(Xa+e("\\?"+ot)+"?"+e("\\#"+ft)+"?"),to=e(pi+"|"+mi),ao=e(Me+"\\:"+Ya+e("\\?"+ot)+"?"),so="^("+Me+")\\:"+e(e("\\/\\/("+e("("+E+")@")+"?("+Dt+")"+e("\\:("+Rt+")")+"?)")+"?("+Nr+"|"+it+"|"+Yt+"|"+nt+")")+e("\\?("+ot+")")+"?"+e("\\#("+ft+")")+"?$",io="^(){0}"+e(e("\\/\\/("+e("("+E+")@")+"?("+Dt+")"+e("\\:("+Rt+")")+"?)")+"?("+Nr+"|"+it+"|"+ya+"|"+nt+")")+e("\\?("+ot+")")+"?"+e("\\#("+ft+")")+"?$",no="^("+Me+")\\:"+e(e("\\/\\/("+e("("+E+")@")+"?("+Dt+")"+e("\\:("+Rt+")")+"?)")+"?("+Nr+"|"+it+"|"+Yt+"|"+nt+")")+e("\\?("+ot+")")+"?$",oo="^"+e("\\#("+ft+")")+"?$",fo="^"+e("("+E+")@")+"?("+Dt+")"+e("\\:("+Rt+")")+"?$";return{NOT_SCHEME:new RegExp(r("[^]",b,j,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",_e,ce),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",_e,ce),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",_e,ce),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",_e,ce),"g"),NOT_QUERY:new RegExp(r("[^\\%]",_e,ce,"[\\:\\@\\/\\?]",ke),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",_e,ce,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",_e,ce),"g"),UNRESERVED:new RegExp(_e,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",_e,Ne),"g"),PCT_ENCODED:new RegExp(De,"g"),IPV4ADDRESS:new RegExp("^("+L+")$"),IPV6ADDRESS:new RegExp("^\\[?("+xr+")"+e(e("\\%25|\\%(?!"+ne+"{2})")+"("+Jr+")")+"?\\]?$")}}var g=u(!1),d=u(!0),m=function(){function D(b,R){var j=[],T=!0,ne=!1,ge=void 0;try{for(var $e=b[Symbol.iterator](),De;!(T=(De=$e.next()).done)&&(j.push(De.value),!(R&&j.length===R));T=!0);}catch(je){ne=!0,ge=je}finally{try{!T&&$e.return&&$e.return()}finally{if(ne)throw ge}}return j}return function(b,R){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return D(b,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(D){if(Array.isArray(D)){for(var b=0,R=Array(D.length);b<D.length;b++)R[b]=D[b];return R}else return Array.from(D)},S=2147483647,h=36,w=1,_=26,I=38,O=700,k=72,q=128,K="-",Z=/^xn--/,X=/[^\0-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=h-w,re=Math.floor,ae=String.fromCharCode;function ee(D){throw new RangeError(G[D])}function B(D,b){for(var R=[],j=D.length;j--;)R[j]=b(D[j]);return R}function V(D,b){var R=D.split("@"),j="";R.length>1&&(j=R[0]+"@",D=R[1]),D=D.replace(H,".");var T=D.split("."),ne=B(T,b).join(".");return j+ne}function se(D){for(var b=[],R=0,j=D.length;R<j;){var T=D.charCodeAt(R++);if(T>=55296&&T<=56319&&R<j){var ne=D.charCodeAt(R++);(ne&64512)==56320?b.push(((T&1023)<<10)+(ne&1023)+65536):(b.push(T),R--)}else b.push(T)}return b}var de=function(b){return String.fromCodePoint.apply(String,v(b))},we=function(b){return b-48<10?b-22:b-65<26?b-65:b-97<26?b-97:h},ve=function(b,R){return b+22+75*(b<26)-((R!=0)<<5)},le=function(b,R,j){var T=0;for(b=j?re(b/O):b>>1,b+=re(b/R);b>M*_>>1;T+=h)b=re(b/M);return re(T+(M+1)*b/(b+I))},ye=function(b){var R=[],j=b.length,T=0,ne=q,ge=k,$e=b.lastIndexOf(K);$e<0&&($e=0);for(var De=0;De<$e;++De)b.charCodeAt(De)>=128&&ee("not-basic"),R.push(b.charCodeAt(De));for(var je=$e>0?$e+1:0;je<j;){for(var ce=T,Ne=1,qe=h;;qe+=h){je>=j&&ee("invalid-input");var ke=we(b.charCodeAt(je++));(ke>=h||ke>re((S-T)/Ne))&&ee("overflow"),T+=ke*Ne;var _e=qe<=ge?w:qe>=ge+_?_:qe-ge;if(ke<_e)break;var Me=h-_e;Ne>re(S/Me)&&ee("overflow"),Ne*=Me}var E=R.length+1;ge=le(T-ce,E,ce==0),re(T/E)>S-ne&&ee("overflow"),ne+=re(T/E),T%=E,R.splice(T++,0,ne)}return String.fromCodePoint.apply(String,R)},Ue=function(b){var R=[];b=se(b);var j=b.length,T=q,ne=0,ge=k,$e=!0,De=!1,je=void 0;try{for(var ce=b[Symbol.iterator](),Ne;!($e=(Ne=ce.next()).done);$e=!0){var qe=Ne.value;qe<128&&R.push(ae(qe))}}catch(Wr){De=!0,je=Wr}finally{try{!$e&&ce.return&&ce.return()}finally{if(De)throw je}}var ke=R.length,_e=ke;for(ke&&R.push(K);_e<j;){var Me=S,E=!0,$=!1,F=void 0;try{for(var L=b[Symbol.iterator](),W;!(E=(W=L.next()).done);E=!0){var ie=W.value;ie>=T&&ie<Me&&(Me=ie)}}catch(Wr){$=!0,F=Wr}finally{try{!E&&L.return&&L.return()}finally{if($)throw F}}var me=_e+1;Me-T>re((S-ne)/me)&&ee("overflow"),ne+=(Me-T)*me,T=Me;var ue=!0,Pe=!1,Se=void 0;try{for(var ar=b[Symbol.iterator](),Jt;!(ue=(Jt=ar.next()).done);ue=!0){var Kr=Jt.value;if(Kr<T&&++ne>S&&ee("overflow"),Kr==T){for(var Qr=ne,Tr=h;;Tr+=h){var xr=Tr<=ge?w:Tr>=ge+_?_:Tr-ge;if(Qr<xr)break;var Jr=Qr-xr,Wt=h-xr;R.push(ae(ve(xr+Jr%Wt,0))),Qr=re(Jr/Wt)}R.push(ae(ve(Qr,0))),ge=le(ne,me,_e==ke),ne=0,++_e}}}catch(Wr){Pe=!0,Se=Wr}finally{try{!ue&&ar.return&&ar.return()}finally{if(Pe)throw Se}}++ne,++T}return R.join("")},Ze=function(b){return V(b,function(R){return Z.test(R)?ye(R.slice(4).toLowerCase()):R})},Be=function(b){return V(b,function(R){return X.test(R)?"xn--"+Ue(R):R})},xe={version:"2.1.0",ucs2:{decode:se,encode:de},decode:ye,encode:Ue,toASCII:Be,toUnicode:Ze},Je={};function Qe(D){var b=D.charCodeAt(0),R=void 0;return b<16?R="%0"+b.toString(16).toUpperCase():b<128?R="%"+b.toString(16).toUpperCase():b<2048?R="%"+(b>>6|192).toString(16).toUpperCase()+"%"+(b&63|128).toString(16).toUpperCase():R="%"+(b>>12|224).toString(16).toUpperCase()+"%"+(b>>6&63|128).toString(16).toUpperCase()+"%"+(b&63|128).toString(16).toUpperCase(),R}function dr(D){for(var b="",R=0,j=D.length;R<j;){var T=parseInt(D.substr(R+1,2),16);if(T<128)b+=String.fromCharCode(T),R+=3;else if(T>=194&&T<224){if(j-R>=6){var ne=parseInt(D.substr(R+4,2),16);b+=String.fromCharCode((T&31)<<6|ne&63)}else b+=D.substr(R,6);R+=6}else if(T>=224){if(j-R>=9){var ge=parseInt(D.substr(R+4,2),16),$e=parseInt(D.substr(R+7,2),16);b+=String.fromCharCode((T&15)<<12|(ge&63)<<6|$e&63)}else b+=D.substr(R,9);R+=9}else b+=D.substr(R,3),R+=3}return b}function ze(D,b){function R(j){var T=dr(j);return T.match(b.UNRESERVED)?T:j}return D.scheme&&(D.scheme=String(D.scheme).replace(b.PCT_ENCODED,R).toLowerCase().replace(b.NOT_SCHEME,"")),D.userinfo!==void 0&&(D.userinfo=String(D.userinfo).replace(b.PCT_ENCODED,R).replace(b.NOT_USERINFO,Qe).replace(b.PCT_ENCODED,a)),D.host!==void 0&&(D.host=String(D.host).replace(b.PCT_ENCODED,R).toLowerCase().replace(b.NOT_HOST,Qe).replace(b.PCT_ENCODED,a)),D.path!==void 0&&(D.path=String(D.path).replace(b.PCT_ENCODED,R).replace(D.scheme?b.NOT_PATH:b.NOT_PATH_NOSCHEME,Qe).replace(b.PCT_ENCODED,a)),D.query!==void 0&&(D.query=String(D.query).replace(b.PCT_ENCODED,R).replace(b.NOT_QUERY,Qe).replace(b.PCT_ENCODED,a)),D.fragment!==void 0&&(D.fragment=String(D.fragment).replace(b.PCT_ENCODED,R).replace(b.NOT_FRAGMENT,Qe).replace(b.PCT_ENCODED,a)),D}function Le(D){return D.replace(/^0*(.*)/,"$1")||"0"}function fr(D,b){var R=D.match(b.IPV4ADDRESS)||[],j=m(R,2),T=j[1];return T?T.split(".").map(Le).join("."):D}function lr(D,b){var R=D.match(b.IPV6ADDRESS)||[],j=m(R,3),T=j[1],ne=j[2];if(T){for(var ge=T.toLowerCase().split("::").reverse(),$e=m(ge,2),De=$e[0],je=$e[1],ce=je?je.split(":").map(Le):[],Ne=De.split(":").map(Le),qe=b.IPV4ADDRESS.test(Ne[Ne.length-1]),ke=qe?7:8,_e=Ne.length-ke,Me=Array(ke),E=0;E<ke;++E)Me[E]=ce[E]||Ne[_e+E]||"";qe&&(Me[ke-1]=fr(Me[ke-1],b));var $=Me.reduce(function(me,ue,Pe){if(!ue||ue==="0"){var Se=me[me.length-1];Se&&Se.index+Se.length===Pe?Se.length++:me.push({index:Pe,length:1})}return me},[]),F=$.sort(function(me,ue){return ue.length-me.length})[0],L=void 0;if(F&&F.length>1){var W=Me.slice(0,F.index),ie=Me.slice(F.index+F.length);L=W.join(":")+"::"+ie.join(":")}else L=Me.join(":");return ne&&(L+="%"+ne),L}else return D}var Ae=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Te="".match(/(){0}/)[1]===void 0;function er(D){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R={},j=b.iri!==!1?d:g;b.reference==="suffix"&&(D=(b.scheme?b.scheme+":":"")+"//"+D);var T=D.match(Ae);if(T){Te?(R.scheme=T[1],R.userinfo=T[3],R.host=T[4],R.port=parseInt(T[5],10),R.path=T[6]||"",R.query=T[7],R.fragment=T[8],isNaN(R.port)&&(R.port=T[5])):(R.scheme=T[1]||void 0,R.userinfo=D.indexOf("@")!==-1?T[3]:void 0,R.host=D.indexOf("//")!==-1?T[4]:void 0,R.port=parseInt(T[5],10),R.path=T[6]||"",R.query=D.indexOf("?")!==-1?T[7]:void 0,R.fragment=D.indexOf("#")!==-1?T[8]:void 0,isNaN(R.port)&&(R.port=D.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?T[4]:void 0)),R.host&&(R.host=lr(fr(R.host,j),j)),R.scheme===void 0&&R.userinfo===void 0&&R.host===void 0&&R.port===void 0&&!R.path&&R.query===void 0?R.reference="same-document":R.scheme===void 0?R.reference="relative":R.fragment===void 0?R.reference="absolute":R.reference="uri",b.reference&&b.reference!=="suffix"&&b.reference!==R.reference&&(R.error=R.error||"URI is not a "+b.reference+" reference.");var ne=Je[(b.scheme||R.scheme||"").toLowerCase()];if(!b.unicodeSupport&&(!ne||!ne.unicodeSupport)){if(R.host&&(b.domainHost||ne&&ne.domainHost))try{R.host=xe.toASCII(R.host.replace(j.PCT_ENCODED,dr).toLowerCase())}catch(ge){R.error=R.error||"Host's domain name can not be converted to ASCII via punycode: "+ge}ze(R,g)}else ze(R,j);ne&&ne.parse&&ne.parse(R,b)}else R.error=R.error||"URI can not be parsed.";return R}function Dr(D,b){var R=b.iri!==!1?d:g,j=[];return D.userinfo!==void 0&&(j.push(D.userinfo),j.push("@")),D.host!==void 0&&j.push(lr(fr(String(D.host),R),R).replace(R.IPV6ADDRESS,function(T,ne,ge){return"["+ne+(ge?"%25"+ge:"")+"]"})),typeof D.port=="number"&&(j.push(":"),j.push(D.port.toString(10))),j.length?j.join(""):void 0}var mr=/^\.\.?\//,Pr=/^\/\.(\/|$)/,nr=/^\/\.\.(\/|$)/,x=/^\/?(?:.|\n)*?(?=\/|$)/;function Ie(D){for(var b=[];D.length;)if(D.match(mr))D=D.replace(mr,"");else if(D.match(Pr))D=D.replace(Pr,"/");else if(D.match(nr))D=D.replace(nr,"/"),b.pop();else if(D==="."||D==="..")D="";else{var R=D.match(x);if(R){var j=R[0];D=D.slice(j.length),b.push(j)}else throw new Error("Unexpected dot segment condition")}return b.join("")}function He(D){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=b.iri?d:g,j=[],T=Je[(b.scheme||D.scheme||"").toLowerCase()];if(T&&T.serialize&&T.serialize(D,b),D.host&&!R.IPV6ADDRESS.test(D.host)){if(b.domainHost||T&&T.domainHost)try{D.host=b.iri?xe.toUnicode(D.host):xe.toASCII(D.host.replace(R.PCT_ENCODED,dr).toLowerCase())}catch($e){D.error=D.error||"Host's domain name can not be converted to "+(b.iri?"Unicode":"ASCII")+" via punycode: "+$e}}ze(D,R),b.reference!=="suffix"&&D.scheme&&(j.push(D.scheme),j.push(":"));var ne=Dr(D,b);if(ne!==void 0&&(b.reference!=="suffix"&&j.push("//"),j.push(ne),D.path&&D.path.charAt(0)!=="/"&&j.push("/")),D.path!==void 0){var ge=D.path;!b.absolutePath&&(!T||!T.absolutePath)&&(ge=Ie(ge)),ne===void 0&&(ge=ge.replace(/^\/\//,"/%2F")),j.push(ge)}return D.query!==void 0&&(j.push("?"),j.push(D.query)),D.fragment!==void 0&&(j.push("#"),j.push(D.fragment)),j.join("")}function rr(D,b){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments[3],T={};return j||(D=er(He(D,R),R),b=er(He(b,R),R)),R=R||{},!R.tolerant&&b.scheme?(T.scheme=b.scheme,T.userinfo=b.userinfo,T.host=b.host,T.port=b.port,T.path=Ie(b.path||""),T.query=b.query):(b.userinfo!==void 0||b.host!==void 0||b.port!==void 0?(T.userinfo=b.userinfo,T.host=b.host,T.port=b.port,T.path=Ie(b.path||""),T.query=b.query):(b.path?(b.path.charAt(0)==="/"?T.path=Ie(b.path):((D.userinfo!==void 0||D.host!==void 0||D.port!==void 0)&&!D.path?T.path="/"+b.path:D.path?T.path=D.path.slice(0,D.path.lastIndexOf("/")+1)+b.path:T.path=b.path,T.path=Ie(T.path)),T.query=b.query):(T.path=D.path,b.query!==void 0?T.query=b.query:T.query=D.query),T.userinfo=D.userinfo,T.host=D.host,T.port=D.port),T.scheme=D.scheme),T.fragment=b.fragment,T}function or(D,b,R){var j=l({scheme:"null"},R);return He(rr(er(D,j),er(b,j),j,!0),j)}function pe(D,b){return typeof D=="string"?D=He(er(D,b),b):i(D)==="object"&&(D=er(He(D,b),b)),D}function cr(D,b,R){return typeof D=="string"?D=He(er(D,R),R):i(D)==="object"&&(D=He(D,R)),typeof b=="string"?b=He(er(b,R),R):i(b)==="object"&&(b=He(b,R)),D===b}function vr(D,b){return D&&D.toString().replace(!b||!b.iri?g.ESCAPE:d.ESCAPE,Qe)}function tr(D,b){return D&&D.toString().replace(!b||!b.iri?g.PCT_ENCODED:d.PCT_ENCODED,dr)}var Or={scheme:"http",domainHost:!0,parse:function(b,R){return b.host||(b.error=b.error||"HTTP URIs must have a host."),b},serialize:function(b,R){return(b.port===(String(b.scheme).toLowerCase()!=="https"?80:443)||b.port==="")&&(b.port=void 0),b.path||(b.path="/"),b}},tt={scheme:"https",domainHost:Or.domainHost,parse:Or.parse,serialize:Or.serialize},ur={},Ht=!0,Vr="[A-Za-z0-9\\-\\.\\_\\~"+(Ht?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",wr="[0-9A-Fa-f]",br=e(e("%[EFef]"+wr+"%"+wr+wr+"%"+wr+wr)+"|"+e("%[89A-Fa-f]"+wr+"%"+wr+wr)+"|"+e("%"+wr+wr)),at="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Fr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ce=r(Fr,'[\\"\\\\]'),va="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Vt=new RegExp(Vr,"g"),$r=new RegExp(br,"g"),Ga=new RegExp(r("[^]",at,"[\\.]",'[\\"]',Ce),"g"),We=new RegExp(r("[^]",Vr,va),"g"),st=We;function qr(D){var b=dr(D);return b.match(Vt)?b:D}var Gt={scheme:"mailto",parse:function(b,R){var j=b,T=j.to=j.path?j.path.split(","):[];if(j.path=void 0,j.query){for(var ne=!1,ge={},$e=j.query.split("&"),De=0,je=$e.length;De<je;++De){var ce=$e[De].split("=");switch(ce[0]){case"to":for(var Ne=ce[1].split(","),qe=0,ke=Ne.length;qe<ke;++qe)T.push(Ne[qe]);break;case"subject":j.subject=tr(ce[1],R);break;case"body":j.body=tr(ce[1],R);break;default:ne=!0,ge[tr(ce[0],R)]=tr(ce[1],R);break}}ne&&(j.headers=ge)}j.query=void 0;for(var _e=0,Me=T.length;_e<Me;++_e){var E=T[_e].split("@");if(E[0]=tr(E[0]),R.unicodeSupport)E[1]=tr(E[1],R).toLowerCase();else try{E[1]=xe.toASCII(tr(E[1],R).toLowerCase())}catch($){j.error=j.error||"Email address's domain name can not be converted to ASCII via punycode: "+$}T[_e]=E.join("@")}return j},serialize:function(b,R){var j=b,T=o(b.to);if(T){for(var ne=0,ge=T.length;ne<ge;++ne){var $e=String(T[ne]),De=$e.lastIndexOf("@"),je=$e.slice(0,De).replace($r,qr).replace($r,a).replace(Ga,Qe),ce=$e.slice(De+1);try{ce=R.iri?xe.toUnicode(ce):xe.toASCII(tr(ce,R).toLowerCase())}catch(_e){j.error=j.error||"Email address's domain name can not be converted to "+(R.iri?"Unicode":"ASCII")+" via punycode: "+_e}T[ne]=je+"@"+ce}j.path=T.join(",")}var Ne=b.headers=b.headers||{};b.subject&&(Ne.subject=b.subject),b.body&&(Ne.body=b.body);var qe=[];for(var ke in Ne)Ne[ke]!==ur[ke]&&qe.push(ke.replace($r,qr).replace($r,a).replace(We,Qe)+"="+Ne[ke].replace($r,qr).replace($r,a).replace(st,Qe));return qe.length&&(j.query=qe.join("&")),j}},ga=/^([^\:]+)\:(.*)/,Gr={scheme:"urn",parse:function(b,R){var j=b.path&&b.path.match(ga),T=b;if(j){var ne=R.scheme||T.scheme||"urn",ge=j[1].toLowerCase(),$e=j[2],De=ne+":"+(R.nid||ge),je=Je[De];T.nid=ge,T.nss=$e,T.path=void 0,je&&(T=je.parse(T,R))}else T.error=T.error||"URN can not be parsed.";return T},serialize:function(b,R){var j=R.scheme||b.scheme||"urn",T=b.nid,ne=j+":"+(R.nid||T),ge=Je[ne];ge&&(b=ge.serialize(b,R));var $e=b,De=b.nss;return $e.path=(T||R.nid)+":"+De,$e}},Kt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Qt={scheme:"urn:uuid",parse:function(b,R){var j=b;return j.uuid=j.nss,j.nss=void 0,!R.tolerant&&(!j.uuid||!j.uuid.match(Kt))&&(j.error=j.error||"UUID is not valid."),j},serialize:function(b,R){var j=b;return j.nss=(b.uuid||"").toLowerCase(),j}};Je[Or.scheme]=Or,Je[tt.scheme]=tt,Je[Gt.scheme]=Gt,Je[Gr.scheme]=Gr,Je[Qt.scheme]=Qt,t.SCHEMES=Je,t.pctEncChar=Qe,t.pctDecChars=dr,t.parse=er,t.removeDotSegments=Ie,t.serialize=He,t.resolveComponents=rr,t.resolve=or,t.normalize=pe,t.equal=cr,t.escapeComponent=vr,t.unescapeComponent=tr,Object.defineProperty(t,"__esModule",{value:!0})})});var fs=Y((JS,Bo)=>{"use strict";var ko=Array.isArray,Uo=Object.keys,Kh=Object.prototype.hasOwnProperty;Bo.exports=function t(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){var i=ko(r),a=ko(e),o,l,u;if(i&&a){if(l=r.length,l!=e.length)return!1;for(o=l;o--!==0;)if(!t(r[o],e[o]))return!1;return!0}if(i!=a)return!1;var g=r instanceof Date,d=e instanceof Date;if(g!=d)return!1;if(g&&d)return r.getTime()==e.getTime();var m=r instanceof RegExp,v=e instanceof RegExp;if(m!=v)return!1;if(m&&v)return r.toString()==e.toString();var S=Uo(r);if(l=S.length,l!==Uo(e).length)return!1;for(o=l;o--!==0;)if(!Kh.call(e,S[o]))return!1;for(o=l;o--!==0;)if(u=S[o],!t(r[u],e[u]))return!1;return!0}return r!==r&&e!==e}});var Ho=Y((WS,zo)=>{"use strict";zo.exports=function(r){for(var e=0,i=r.length,a=0,o;a<i;)e++,o=r.charCodeAt(a++),o>=55296&&o<=56319&&a<i&&(o=r.charCodeAt(a),(o&64512)==56320&&a++);return e}});var Ot=Y((YS,Ko)=>{"use strict";Ko.exports={copy:Qh,checkDataType:Ci,checkDataTypes:Jh,coerceToTypes:Wh,toHash:Fi,getProperty:Ti,escapeQuotes:Ni,equal:fs(),ucs2length:Ho(),varOccurences:Zh,varReplace:ed,cleanUpCode:sd,finalCleanUpCode:hd,schemaHasRules:dd,schemaHasRulesExcept:vd,schemaUnknownRules:gd,toQuotedString:Oi,getPathExpr:yd,getPath:Ed,getData:wd,unescapeFragment:bd,unescapeJsonPointer:Li,escapeFragment:$d,escapeJsonPointer:ji};function Qh(t,r){r=r||{};for(var e in t)r[e]=t[e];return r}function Ci(t,r,e){var i=e?" !== ":" === ",a=e?" || ":" && ",o=e?"!":"",l=e?"":"!";switch(t){case"null":return r+i+"null";case"array":return o+"Array.isArray("+r+")";case"object":return"("+o+r+a+"typeof "+r+i+'"object"'+a+l+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+i+'"number"'+a+l+"("+r+" % 1)"+a+r+i+r+")";default:return"typeof "+r+i+'"'+t+'"'}}function Jh(t,r){switch(t.length){case 1:return Ci(t[0],r,!0);default:var e="",i=Fi(t);i.array&&i.object&&(e=i.null?"(":"(!"+r+" || ",e+="typeof "+r+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer;for(var a in i)e+=(e?" && ":"")+Ci(a,r,!0);return e}}var Vo=Fi(["string","number","integer","boolean","null"]);function Wh(t,r){if(Array.isArray(r)){for(var e=[],i=0;i<r.length;i++){var a=r[i];(Vo[a]||t==="array"&&a==="array")&&(e[e.length]=a)}if(e.length)return e}else{if(Vo[r])return[r];if(t==="array"&&r==="array")return["array"]}}function Fi(t){for(var r={},e=0;e<t.length;e++)r[t[e]]=!0;return r}var Yh=/^[a-z$_][a-z$_0-9]*$/i,Xh=/'|\\/g;function Ti(t){return typeof t=="number"?"["+t+"]":Yh.test(t)?"."+t:"['"+Ni(t)+"']"}function Ni(t){return t.replace(Xh,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Zh(t,r){r+="[^0-9]";var e=t.match(new RegExp(r,"g"));return e?e.length:0}function ed(t,r,e){return r+="([^0-9])",e=e.replace(/\$/g,"$$$$"),t.replace(new RegExp(r,"g"),e+"$1")}var rd=/else\s*{\s*}/g,td=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,ad=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;function sd(t){return t.replace(rd,"").replace(td,"").replace(ad,"if (!($1))")}var id=/[^v.]errors/g,nd=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,od=/var errors = 0;|var vErrors = null;/g,fd="return errors === 0;",ld="validate.errors = null; return true;",cd=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,ud="return data;",pd=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,md=/if \(rootData === undefined\) rootData = data;/;function hd(t,r){var e=t.match(id);return e&&e.length==2&&(t=r?t.replace(od,"").replace(cd,ud):t.replace(nd,"").replace(fd,ld)),e=t.match(pd),!e||e.length!==3?t:t.replace(md,"")}function dd(t,r){if(typeof t=="boolean")return!t;for(var e in t)if(r[e])return!0}function vd(t,r,e){if(typeof t=="boolean")return!t&&e!="not";for(var i in t)if(i!=e&&r[i])return!0}function gd(t,r){if(typeof t!="boolean"){for(var e in t)if(!r[e])return e}}function Oi(t){return"'"+Ni(t)+"'"}function yd(t,r,e,i){var a=e?"'/' + "+r+(i?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):i?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'";return Go(t,a)}function Ed(t,r,e){var i=Oi(e?"/"+ji(r):Ti(r));return Go(t,i)}var Sd=/^\/(?:[^~]|~0|~1)*$/,Pd=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function wd(t,r,e){var i,a,o,l;if(t==="")return"rootData";if(t[0]=="/"){if(!Sd.test(t))throw new Error("Invalid JSON-pointer: "+t);a=t,o="rootData"}else{if(l=t.match(Pd),!l)throw new Error("Invalid JSON-pointer: "+t);if(i=+l[1],a=l[2],a=="#"){if(i>=r)throw new Error("Cannot access property/index "+i+" levels up, current level is "+r);return e[r-i]}if(i>r)throw new Error("Cannot access data "+i+" levels up, current level is "+r);if(o="data"+(r-i||""),!a)return o}for(var u=o,g=a.split("/"),d=0;d<g.length;d++){var m=g[d];m&&(o+=Ti(Li(m)),u+=" && "+o)}return u}function Go(t,r){return t=='""'?r:(t+" + "+r).replace(/' \+ '/g,"")}function bd(t){return Li(decodeURIComponent(t))}function $d(t){return encodeURIComponent(ji(t))}function ji(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function Li(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}});var qi=Y((XS,Qo)=>{"use strict";var Id=Ot();Qo.exports=_d;function _d(t){Id.copy(t,this)}});var Wo=Y((ZS,Jo)=>{"use strict";var mt=Jo.exports=function(t,r,e){typeof r=="function"&&(e=r,r={}),e=r.cb||e;var i=typeof e=="function"?e:e.pre||function(){},a=e.post||function(){};ls(r,i,a,t,"",t)};mt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};mt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};mt.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};mt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ls(t,r,e,i,a,o,l,u,g,d){if(i&&typeof i=="object"&&!Array.isArray(i)){r(i,a,o,l,u,g,d);for(var m in i){var v=i[m];if(Array.isArray(v)){if(m in mt.arrayKeywords)for(var S=0;S<v.length;S++)ls(t,r,e,v[S],a+"/"+m+"/"+S,o,a,m,i,S)}else if(m in mt.propsKeywords){if(v&&typeof v=="object")for(var h in v)ls(t,r,e,v[h],a+"/"+m+"/"+Dd(h),o,a,m,i,h)}else(m in mt.keywords||t.allKeys&&!(m in mt.skipKeywords))&&ls(t,r,e,v,a+"/"+m,o,a,m,i)}e(i,a,o,l,u,g,d)}}function Dd(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var ds=Y((eP,ef)=>{"use strict";var Pa=Mo(),Yo=fs(),ms=Ot(),cs=qi(),Rd=Wo();ef.exports=dt;dt.normalizeId=ht;dt.fullPath=us;dt.url=ps;dt.ids=Fd;dt.inlineRef=Mi;dt.schema=hs;function dt(t,r,e){var i=this._refs[e];if(typeof i=="string")if(this._refs[i])i=this._refs[i];else return dt.call(this,t,r,i);if(i=i||this._schemas[e],i instanceof cs)return Mi(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var a=hs.call(this,r,e),o,l,u;return a&&(o=a.schema,r=a.root,u=a.baseId),o instanceof cs?l=o.validate||t.call(this,o.schema,r,void 0,u):o!==void 0&&(l=Mi(o,this._opts.inlineRefs)?o:t.call(this,o,r,void 0,u)),l}function hs(t,r){var e=Pa.parse(r),i=Zo(e),a=us(this._getId(t.schema));if(Object.keys(t.schema).length===0||i!==a){var o=ht(i),l=this._refs[o];if(typeof l=="string")return xd.call(this,t,l,e);if(l instanceof cs)l.validate||this._compile(l),t=l;else if(l=this._schemas[o],l instanceof cs){if(l.validate||this._compile(l),o==ht(r))return{schema:l,root:t,baseId:a};t=l}else return;if(!t.schema)return;a=us(this._getId(t.schema))}return Xo.call(this,e,a,t.schema,t)}function xd(t,r,e){var i=hs.call(this,t,r);if(i){var a=i.schema,o=i.baseId;t=i.root;var l=this._getId(a);return l&&(o=ps(o,l)),Xo.call(this,e,o,a,t)}}var Ad=ms.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Xo(t,r,e,i){if(t.fragment=t.fragment||"",t.fragment.slice(0,1)=="/"){for(var a=t.fragment.split("/"),o=1;o<a.length;o++){var l=a[o];if(l){if(l=ms.unescapeFragment(l),e=e[l],e===void 0)break;var u;if(!Ad[l]&&(u=this._getId(e),u&&(r=ps(r,u)),e.$ref)){var g=ps(r,e.$ref),d=hs.call(this,i,g);d&&(e=d.schema,i=d.root,r=d.baseId)}}}if(e!==void 0&&e!==i.schema)return{schema:e,root:i,baseId:r}}}var Cd=ms.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Mi(t,r){if(r===!1)return!1;if(r===void 0||r===!0)return ki(t);if(r)return Ui(t)<=r}function ki(t){var r;if(Array.isArray(t)){for(var e=0;e<t.length;e++)if(r=t[e],typeof r=="object"&&!ki(r))return!1}else for(var i in t)if(i=="$ref"||(r=t[i],typeof r=="object"&&!ki(r)))return!1;return!0}function Ui(t){var r=0,e;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if(e=t[i],typeof e=="object"&&(r+=Ui(e)),r==1/0)return 1/0}else for(var a in t){if(a=="$ref")return 1/0;if(Cd[a])r++;else if(e=t[a],typeof e=="object"&&(r+=Ui(e)+1),r==1/0)return 1/0}return r}function us(t,r){r!==!1&&(t=ht(t));var e=Pa.parse(t);return Zo(e)}function Zo(t){return Pa.serialize(t).split("#")[0]+"#"}var Od=/#\/?$/;function ht(t){return t?t.replace(Od,""):""}function ps(t,r){return r=ht(r),Pa.resolve(t,r)}function Fd(t){var r=ht(this._getId(t)),e={"":r},i={"":us(r,!1)},a={},o=this;return Rd(t,{allKeys:!0},function(l,u,g,d,m,v,S){if(u!==""){var h=o._getId(l),w=e[d],_=i[d]+"/"+m;if(S!==void 0&&(_+="/"+(typeof S=="number"?S:ms.escapeFragment(S))),typeof h=="string"){h=w=ht(w?Pa.resolve(w,h):h);var I=o._refs[h];if(typeof I=="string"&&(I=o._refs[I]),I&&I.schema){if(!Yo(l,I.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=ht(_))if(h[0]=="#"){if(a[h]&&!Yo(l,a[h]))throw new Error('id "'+h+'" resolves to more than one schema');a[h]=l}else o._refs[h]=_}e[u]=w,i[u]=_}}),a}});var vs=Y((rP,tf)=>{"use strict";var Bi=ds();tf.exports={Validation:rf(Td),MissingRef:rf(zi)};function Td(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}zi.message=function(t,r){return"can't resolve reference "+r+" from id "+t};function zi(t,r,e){this.message=e||zi.message(t,r),this.missingRef=Bi.url(t,r),this.missingSchema=Bi.normalizeId(Bi.fullPath(this.missingRef))}function rf(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}});var Hi=Y((tP,af)=>{"use strict";af.exports=function(t,r){r||(r={}),typeof r=="function"&&(r={cmp:r});var e=typeof r.cycles=="boolean"?r.cycles:!1,i=r.cmp&&function(o){return function(l){return function(u,g){var d={key:u,value:l[u]},m={key:g,value:l[g]};return o(d,m)}}}(r.cmp),a=[];return function o(l){if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l!==void 0){if(typeof l=="number")return isFinite(l)?""+l:"null";if(typeof l!="object")return JSON.stringify(l);var u,g;if(Array.isArray(l)){for(g="[",u=0;u<l.length;u++)u&&(g+=","),g+=o(l[u])||"null";return g+"]"}if(l===null)return"null";if(a.indexOf(l)!==-1){if(e)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var d=a.push(l)-1,m=Object.keys(l).sort(i&&i(l));for(g="",u=0;u<m.length;u++){var v=m[u],S=o(l[v]);S&&(g&&(g+=","),g+=JSON.stringify(v)+":"+S)}return a.splice(d,1),"{"+g+"}"}}(t)}});var Vi=Y((aP,sf)=>{"use strict";sf.exports=function(r,e,i){var a="",o=r.schema.$async===!0,l=r.util.schemaHasRulesExcept(r.schema,r.RULES.all,"$ref"),u=r.self._getId(r.schema);if(r.opts.strictKeywords){var g=r.util.schemaUnknownRules(r.schema,r.RULES.keywords);if(g){var d="unknown keyword: "+g;if(r.opts.strictKeywords==="log")r.logger.warn(d);else throw new Error(d)}}if(r.isTop&&(a+=" var validate = ",o&&(r.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",u&&(r.opts.sourceCode||r.opts.processCode)&&(a+=" "+("/*# sourceURL="+u+" */")+" ")),typeof r.schema=="boolean"||!(l||r.schema.$ref)){var e="false schema",m=r.level,v=r.dataLevel,S=r.schema[e],h=r.schemaPath+r.util.getProperty(e),w=r.errSchemaPath+"/"+e,Z=!r.opts.allErrors,G,_="data"+(v||""),K="valid"+m;if(r.schema===!1){r.isTop?Z=!0:a+=" var "+K+" = false; ";var I=I||[];I.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(G||"false schema")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(w)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: 'boolean schema is false' "),r.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+_+" "),a+=" } "):a+=" {} ";var O=a;a=I.pop(),!r.compositeRule&&Z?r.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else r.isTop?o?a+=" return data; ":a+=" validate.errors = null; return true; ":a+=" var "+K+" = true; ";return r.isTop&&(a+=" }; return validate; "),a}if(r.isTop){var k=r.isTop,m=r.level=0,v=r.dataLevel=0,_="data";if(r.rootId=r.resolve.fullPath(r.self._getId(r.root.schema)),r.baseId=r.baseId||r.rootId,delete r.isTop,r.dataPathArr=[void 0],r.schema.default!==void 0&&r.opts.useDefaults&&r.opts.strictDefaults){var q="default is ignored in the schema root";if(r.opts.strictDefaults==="log")r.logger.warn(q);else throw new Error(q)}a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{var m=r.level,v=r.dataLevel,_="data"+(v||"");if(u&&(r.baseId=r.resolve.url(r.baseId,u)),o&&!r.async)throw new Error("async schema in sync schema");a+=" var errs_"+m+" = errors;"}var K="valid"+m,Z=!r.opts.allErrors,X="",H="",G,M=r.schema.type,re=Array.isArray(M);if(M&&r.opts.nullable&&r.schema.nullable===!0&&(re?M.indexOf("null")==-1&&(M=M.concat("null")):M!="null"&&(M=[M,"null"],re=!0)),re&&M.length==1&&(M=M[0],re=!1),r.schema.$ref&&l){if(r.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+r.errSchemaPath+'" (see option extendRefs)');r.opts.extendRefs!==!0&&(l=!1,r.logger.warn('$ref: keywords ignored in schema at path "'+r.errSchemaPath+'"'))}if(r.schema.$comment&&r.opts.$comment&&(a+=" "+r.RULES.all.$comment.code(r,"$comment")),M){if(r.opts.coerceTypes)var ae=r.util.coerceToTypes(r.opts.coerceTypes,M);var ee=r.RULES.types[M];if(ae||re||ee===!0||ee&&!Ie(ee)){var h=r.schemaPath+".type",w=r.errSchemaPath+"/type",h=r.schemaPath+".type",w=r.errSchemaPath+"/type",B=re?"checkDataTypes":"checkDataType";if(a+=" if ("+r.util[B](M,_,!0)+") { ",ae){var V="dataType"+m,se="coerced"+m;a+=" var "+V+" = typeof "+_+"; ",r.opts.coerceTypes=="array"&&(a+=" if ("+V+" == 'object' && Array.isArray("+_+")) "+V+" = 'array'; "),a+=" var "+se+" = undefined; ";var de="",we=ae;if(we)for(var ve,le=-1,ye=we.length-1;le<ye;)ve=we[le+=1],le&&(a+=" if ("+se+" === undefined) { ",de+="}"),r.opts.coerceTypes=="array"&&ve!="array"&&(a+=" if ("+V+" == 'array' && "+_+".length == 1) { "+se+" = "+_+" = "+_+"[0]; "+V+" = typeof "+_+";  } "),ve=="string"?a+=" if ("+V+" == 'number' || "+V+" == 'boolean') "+se+" = '' + "+_+"; else if ("+_+" === null) "+se+" = ''; ":ve=="number"||ve=="integer"?(a+=" if ("+V+" == 'boolean' || "+_+" === null || ("+V+" == 'string' && "+_+" && "+_+" == +"+_+" ",ve=="integer"&&(a+=" && !("+_+" % 1)"),a+=")) "+se+" = +"+_+"; "):ve=="boolean"?a+=" if ("+_+" === 'false' || "+_+" === 0 || "+_+" === null) "+se+" = false; else if ("+_+" === 'true' || "+_+" === 1) "+se+" = true; ":ve=="null"?a+=" if ("+_+" === '' || "+_+" === 0 || "+_+" === false) "+se+" = null; ":r.opts.coerceTypes=="array"&&ve=="array"&&(a+=" if ("+V+" == 'string' || "+V+" == 'number' || "+V+" == 'boolean' || "+_+" == null) "+se+" = ["+_+"]; ");a+=" "+de+" if ("+se+" === undefined) {   ";var I=I||[];I.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(G||"type")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(w)+" , params: { type: '",re?a+=""+M.join(","):a+=""+M,a+="' } ",r.opts.messages!==!1&&(a+=" , message: 'should be ",re?a+=""+M.join(","):a+=""+M,a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+_+" "),a+=" } "):a+=" {} ";var O=a;a=I.pop(),!r.compositeRule&&Z?r.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  ";var Ue=v?"data"+(v-1||""):"parentData",Ze=v?r.dataPathArr[v]:"parentDataProperty";a+=" "+_+" = "+se+"; ",v||(a+="if ("+Ue+" !== undefined)"),a+=" "+Ue+"["+Ze+"] = "+se+"; } "}else{var I=I||[];I.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(G||"type")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(w)+" , params: { type: '",re?a+=""+M.join(","):a+=""+M,a+="' } ",r.opts.messages!==!1&&(a+=" , message: 'should be ",re?a+=""+M.join(","):a+=""+M,a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+_+" "),a+=" } "):a+=" {} ";var O=a;a=I.pop(),!r.compositeRule&&Z?r.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" } "}}if(r.schema.$ref&&!l)a+=" "+r.RULES.all.$ref.code(r,"$ref")+" ",Z&&(a+=" } if (errors === ",k?a+="0":a+="errs_"+m,a+=") { ",H+="}");else{var Be=r.RULES;if(Be){for(var ee,xe=-1,Je=Be.length-1;xe<Je;)if(ee=Be[xe+=1],Ie(ee)){if(ee.type&&(a+=" if ("+r.util.checkDataType(ee.type,_)+") { "),r.opts.useDefaults){if(ee.type=="object"&&r.schema.properties){var S=r.schema.properties,Qe=Object.keys(S),dr=Qe;if(dr)for(var ze,Le=-1,fr=dr.length-1;Le<fr;){ze=dr[Le+=1];var lr=S[ze];if(lr.default!==void 0){var Ae=_+r.util.getProperty(ze);if(r.compositeRule){if(r.opts.strictDefaults){var q="default is ignored for: "+Ae;if(r.opts.strictDefaults==="log")r.logger.warn(q);else throw new Error(q)}}else a+=" if ("+Ae+" === undefined ",r.opts.useDefaults=="empty"&&(a+=" || "+Ae+" === null || "+Ae+" === '' "),a+=" ) "+Ae+" = ",r.opts.useDefaults=="shared"?a+=" "+r.useDefault(lr.default)+" ":a+=" "+JSON.stringify(lr.default)+" ",a+="; "}}}else if(ee.type=="array"&&Array.isArray(r.schema.items)){var Te=r.schema.items;if(Te){for(var lr,le=-1,er=Te.length-1;le<er;)if(lr=Te[le+=1],lr.default!==void 0){var Ae=_+"["+le+"]";if(r.compositeRule){if(r.opts.strictDefaults){var q="default is ignored for: "+Ae;if(r.opts.strictDefaults==="log")r.logger.warn(q);else throw new Error(q)}}else a+=" if ("+Ae+" === undefined ",r.opts.useDefaults=="empty"&&(a+=" || "+Ae+" === null || "+Ae+" === '' "),a+=" ) "+Ae+" = ",r.opts.useDefaults=="shared"?a+=" "+r.useDefault(lr.default)+" ":a+=" "+JSON.stringify(lr.default)+" ",a+="; "}}}}var Dr=ee.rules;if(Dr){for(var mr,Pr=-1,nr=Dr.length-1;Pr<nr;)if(mr=Dr[Pr+=1],He(mr)){var x=mr.code(r,mr.keyword,ee.type);x&&(a+=" "+x+" ",Z&&(X+="}"))}}if(Z&&(a+=" "+X+" ",X=""),ee.type&&(a+=" } ",M&&M===ee.type&&!ae)){a+=" else { ";var h=r.schemaPath+".type",w=r.errSchemaPath+"/type",I=I||[];I.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(G||"type")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(w)+" , params: { type: '",re?a+=""+M.join(","):a+=""+M,a+="' } ",r.opts.messages!==!1&&(a+=" , message: 'should be ",re?a+=""+M.join(","):a+=""+M,a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+_+" "),a+=" } "):a+=" {} ";var O=a;a=I.pop(),!r.compositeRule&&Z?r.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}Z&&(a+=" if (errors === ",k?a+="0":a+="errs_"+m,a+=") { ",H+="}")}}}Z&&(a+=" "+H+" "),k?(o?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+K+" = errors === errs_"+m+";",a=r.util.cleanUpCode(a),k&&(a=r.util.finalCleanUpCode(a,o));function Ie(or){for(var pe=or.rules,cr=0;cr<pe.length;cr++)if(He(pe[cr]))return!0}function He(or){return r.schema[or.keyword]!==void 0||or.implements&&rr(or)}function rr(or){for(var pe=or.implements,cr=0;cr<pe.length;cr++)if(r.schema[pe[cr]]!==void 0)return!0}return a}});var cf=Y((sP,lf)=>{"use strict";var gs=ds(),Es=Ot(),of=vs(),Nd=Hi(),nf=Vi(),jd=Es.ucs2length,Ld=fs(),qd=of.Validation;lf.exports=Gi;function Gi(t,r,e,i){var a=this,o=this._opts,l=[void 0],u={},g=[],d={},m=[],v={},S=[];r=r||{schema:t,refVal:l,refs:u};var h=Md.call(this,t,r,i),w=this._compilations[h.index];if(h.compiling)return w.callValidate=q;var _=this._formats,I=this.RULES;try{var O=K(t,r,e,i);w.validate=O;var k=w.callValidate;return k&&(k.schema=O.schema,k.errors=null,k.refs=O.refs,k.refVal=O.refVal,k.root=O.root,k.$async=O.$async,o.sourceCode&&(k.source=O.source)),O}finally{kd.call(this,t,r,i)}function q(){var B=w.validate,V=B.apply(this,arguments);return q.errors=B.errors,V}function K(B,V,se,de){var we=!V||V&&V.schema==B;if(V.schema!=r.schema)return Gi.call(a,B,V,se,de);var ve=B.$async===!0,le=nf({isTop:!0,schema:B,isRoot:we,baseId:de,root:V,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:of.MissingRef,RULES:I,validate:nf,util:Es,resolve:gs,resolveRef:Z,usePattern:re,useDefault:ae,useCustomRule:ee,opts:o,formats:_,logger:a.logger,self:a});le=ys(l,zd)+ys(g,Ud)+ys(m,Bd)+ys(S,Hd)+le,o.processCode&&(le=o.processCode(le));var ye;try{var Ue=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",le);ye=Ue(a,I,_,r,l,m,S,Ld,jd,qd),l[0]=ye}catch(Ze){throw a.logger.error("Error compiling schema, function code:",le),Ze}return ye.schema=B,ye.errors=null,ye.refs=u,ye.refVal=l,ye.root=we?ye:V,ve&&(ye.$async=!0),o.sourceCode===!0&&(ye.source={code:le,patterns:g,defaults:m}),ye}function Z(B,V,se){V=gs.url(B,V);var de=u[V],we,ve;if(de!==void 0)return we=l[de],ve="refVal["+de+"]",M(we,ve);if(!se&&r.refs){var le=r.refs[V];if(le!==void 0)return we=r.refVal[le],ve=X(V,we),M(we,ve)}ve=X(V);var ye=gs.call(a,K,r,V);if(ye===void 0){var Ue=e&&e[V];Ue&&(ye=gs.inlineRef(Ue,o.inlineRefs)?Ue:Gi.call(a,Ue,r,e,B))}if(ye===void 0)H(V);else return G(V,ye),M(ye,ve)}function X(B,V){var se=l.length;return l[se]=V,u[B]=se,"refVal"+se}function H(B){delete u[B]}function G(B,V){var se=u[B];l[se]=V}function M(B,V){return typeof B=="object"||typeof B=="boolean"?{code:V,schema:B,inline:!0}:{code:V,$async:B&&!!B.$async}}function re(B){var V=d[B];return V===void 0&&(V=d[B]=g.length,g[V]=B),"pattern"+V}function ae(B){switch(typeof B){case"boolean":case"number":return""+B;case"string":return Es.toQuotedString(B);case"object":if(B===null)return"null";var V=Nd(B),se=v[V];return se===void 0&&(se=v[V]=m.length,m[se]=B),"default"+se}}function ee(B,V,se,de){if(a._opts.validateSchema!==!1){var we=B.definition.dependencies;if(we&&!we.every(function(Qe){return Object.prototype.hasOwnProperty.call(se,Qe)}))throw new Error("parent schema must have all required keywords: "+we.join(","));var ve=B.definition.validateSchema;if(ve){var le=ve(V);if(!le){var ye="keyword schema is invalid: "+a.errorsText(ve.errors);if(a._opts.validateSchema=="log")a.logger.error(ye);else throw new Error(ye)}}}var Ue=B.definition.compile,Ze=B.definition.inline,Be=B.definition.macro,xe;if(Ue)xe=Ue.call(a,V,se,de);else if(Be)xe=Be.call(a,V,se,de),o.validateSchema!==!1&&a.validateSchema(xe,!0);else if(Ze)xe=Ze.call(a,de,B.keyword,V,se);else if(xe=B.definition.validate,!xe)return;if(xe===void 0)throw new Error('custom keyword "'+B.keyword+'"failed to compile');var Je=S.length;return S[Je]=xe,{code:"customRule"+Je,validate:xe}}}function Md(t,r,e){var i=ff.call(this,t,r,e);return i>=0?{index:i,compiling:!0}:(i=this._compilations.length,this._compilations[i]={schema:t,root:r,baseId:e},{index:i,compiling:!1})}function kd(t,r,e){var i=ff.call(this,t,r,e);i>=0&&this._compilations.splice(i,1)}function ff(t,r,e){for(var i=0;i<this._compilations.length;i++){var a=this._compilations[i];if(a.schema==t&&a.root==r&&a.baseId==e)return i}return-1}function Ud(t,r){return"var pattern"+t+" = new RegExp("+Es.toQuotedString(r[t])+");"}function Bd(t){return"var default"+t+" = defaults["+t+"];"}function zd(t,r){return r[t]===void 0?"":"var refVal"+t+" = refVal["+t+"];"}function Hd(t){return"var customRule"+t+" = customRules["+t+"];"}function ys(t,r){if(!t.length)return"";for(var e="",i=0;i<t.length;i++)e+=r(i,t);return e}});var pf=Y((iP,uf)=>{"use strict";var Ss=uf.exports=function(){this._cache={}};Ss.prototype.put=function(r,e){this._cache[r]=e};Ss.prototype.get=function(r){return this._cache[r]};Ss.prototype.del=function(r){delete this._cache[r]};Ss.prototype.clear=function(){this._cache={}}});var $f=Y((nP,bf)=>{"use strict";var Vd=Ot(),Gd=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Kd=[0,31,28,31,30,31,30,31,31,30,31,30,31],Qd=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,mf=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,Jd=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Wd=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,hf=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,df=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,vf=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,gf=/^(?:\/(?:[^~/]|~0|~1)*)*$/,yf=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Ef=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;bf.exports=Ps;function Ps(t){return t=t=="full"?"full":"fast",Vd.copy(Ps[t])}Ps.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":hf,url:df,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:mf,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:wf,uuid:vf,"json-pointer":gf,"json-pointer-uri-fragment":yf,"relative-json-pointer":Ef};Ps.full={date:Sf,time:Pf,"date-time":Zd,uri:tv,"uri-reference":Wd,"uri-template":hf,url:df,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:ev,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:wf,uuid:vf,"json-pointer":gf,"json-pointer-uri-fragment":yf,"relative-json-pointer":Ef};function Yd(t){return t%4===0&&(t%100!==0||t%400===0)}function Sf(t){var r=t.match(Gd);if(!r)return!1;var e=+r[1],i=+r[2],a=+r[3];return i>=1&&i<=12&&a>=1&&a<=(i==2&&Yd(e)?29:Kd[i])}function Pf(t,r){var e=t.match(Qd);if(!e)return!1;var i=e[1],a=e[2],o=e[3],l=e[5];return(i<=23&&a<=59&&o<=59||i==23&&a==59&&o==60)&&(!r||l)}var Xd=/t|\s/i;function Zd(t){var r=t.split(Xd);return r.length==2&&Sf(r[0])&&Pf(r[1],!0)}function ev(t){return t.length<=255&&mf.test(t)}var rv=/\/|:/;function tv(t){return rv.test(t)&&Jd.test(t)}var av=/[^\\]\\Z/;function wf(t){if(av.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var _f=Y((oP,If)=>{"use strict";If.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.errSchemaPath+"/"+e,d=!r.opts.allErrors,m="data"+(l||""),v="valid"+o,S,h;if(u=="#"||u=="#/")r.isRoot?(S=r.async,h="validate"):(S=r.root.schema.$async===!0,h="root.refVal[0]");else{var w=r.resolveRef(r.baseId,u,r.isRoot);if(w===void 0){var _=r.MissingRefError.message(r.baseId,u);if(r.opts.missingRefs=="fail"){r.logger.error(_);var I=I||[];I.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(g)+" , params: { ref: '"+r.util.escapeQuotes(u)+"' } ",r.opts.messages!==!1&&(a+=" , message: 'can\\'t resolve reference "+r.util.escapeQuotes(u)+"' "),r.opts.verbose&&(a+=" , schema: "+r.util.toQuotedString(u)+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ";var O=a;a=I.pop(),!r.compositeRule&&d?r.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(a+=" if (false) { ")}else if(r.opts.missingRefs=="ignore")r.logger.warn(_),d&&(a+=" if (true) { ");else throw new r.MissingRefError(r.baseId,u,_)}else if(w.inline){var k=r.util.copy(r);k.level++;var q="valid"+k.level;k.schema=w.schema,k.schemaPath="",k.errSchemaPath=u;var K=r.validate(k).replace(/validate\.schema/g,w.code);a+=" "+K+" ",d&&(a+=" if ("+q+") { ")}else S=w.$async===!0||r.async&&w.$async!==!1,h=w.code}if(h){var I=I||[];I.push(a),a="",r.opts.passContext?a+=" "+h+".call(this, ":a+=" "+h+"( ",a+=" "+m+", (dataPath || '')",r.errorPath!='""'&&(a+=" + "+r.errorPath);var Z=l?"data"+(l-1||""):"parentData",X=l?r.dataPathArr[l]:"parentDataProperty";a+=" , "+Z+" , "+X+", rootData)  ";var H=a;if(a=I.pop(),S){if(!r.async)throw new Error("async schema referenced by sync schema");d&&(a+=" var "+v+"; "),a+=" try { await "+H+"; ",d&&(a+=" "+v+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",d&&(a+=" "+v+" = false; "),a+=" } ",d&&(a+=" if ("+v+") { ")}else a+=" if (!"+H+") { if (vErrors === null) vErrors = "+h+".errors; else vErrors = vErrors.concat("+h+".errors); errors = vErrors.length; } ",d&&(a+=" else { ")}return a}});var Rf=Y((fP,Df)=>{"use strict";Df.exports=function(r,e,i){var a=" ",o=r.schema[e],l=r.schemaPath+r.util.getProperty(e),u=r.errSchemaPath+"/"+e,g=!r.opts.allErrors,d=r.util.copy(r),m="";d.level++;var v="valid"+d.level,S=d.baseId,h=!0,w=o;if(w)for(var _,I=-1,O=w.length-1;I<O;)_=w[I+=1],(r.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0:r.util.schemaHasRules(_,r.RULES.all))&&(h=!1,d.schema=_,d.schemaPath=l+"["+I+"]",d.errSchemaPath=u+"/"+I,a+="  "+r.validate(d)+" ",d.baseId=S,g&&(a+=" if ("+v+") { ",m+="}"));return g&&(h?a+=" if (true) { ":a+=" "+m.slice(0,-1)+" "),a=r.util.cleanUpCode(a),a}});var Af=Y((lP,xf)=>{"use strict";xf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="valid"+o,h="errs__"+o,w=r.util.copy(r),_="";w.level++;var I="valid"+w.level,O=u.every(function(G){return r.opts.strictKeywords?typeof G=="object"&&Object.keys(G).length>0:r.util.schemaHasRules(G,r.RULES.all)});if(O){var k=w.baseId;a+=" var "+h+" = errors; var "+S+" = false;  ";var q=r.compositeRule;r.compositeRule=w.compositeRule=!0;var K=u;if(K)for(var Z,X=-1,H=K.length-1;X<H;)Z=K[X+=1],w.schema=Z,w.schemaPath=g+"["+X+"]",w.errSchemaPath=d+"/"+X,a+="  "+r.validate(w)+" ",w.baseId=k,a+=" "+S+" = "+S+" || "+I+"; if (!"+S+") { ",_+="}";r.compositeRule=w.compositeRule=q,a+=" "+_+" if (!"+S+") {   var err =   ",r.createErrors!==!1?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: 'should match some schema in anyOf' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&m&&(r.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",r.opts.allErrors&&(a+=" } "),a=r.util.cleanUpCode(a)}else m&&(a+=" if (true) { ");return a}});var Of=Y((cP,Cf)=>{"use strict";Cf.exports=function(r,e,i){var a=" ",o=r.schema[e],l=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,g=r.util.toQuotedString(o);return r.opts.$comment===!0?a+=" console.log("+g+");":typeof r.opts.$comment=="function"&&(a+=" self._opts.$comment("+g+", "+r.util.toQuotedString(l)+", validate.root.schema);"),a}});var Tf=Y((uP,Ff)=>{"use strict";Ff.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="valid"+o,h=r.opts.$data&&u&&u.$data,w;h?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",w="schema"+o):w=u,h||(a+=" var schema"+o+" = validate.schema"+g+";"),a+="var "+S+" = equal("+v+", schema"+o+"); if (!"+S+") {   ";var _=_||[];_.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { allowedValue: schema"+o+" } ",r.opts.messages!==!1&&(a+=" , message: 'should be equal to constant' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var I=a;return a=_.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+I+"]); ":a+=" validate.errors = ["+I+"]; return false; ":a+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",m&&(a+=" else { "),a}});var jf=Y((pP,Nf)=>{"use strict";Nf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="valid"+o,h="errs__"+o,w=r.util.copy(r),_="";w.level++;var I="valid"+w.level,O="i"+o,k=w.dataLevel=r.dataLevel+1,q="data"+k,K=r.baseId,Z=r.opts.strictKeywords?typeof u=="object"&&Object.keys(u).length>0:r.util.schemaHasRules(u,r.RULES.all);if(a+="var "+h+" = errors;var "+S+";",Z){var X=r.compositeRule;r.compositeRule=w.compositeRule=!0,w.schema=u,w.schemaPath=g,w.errSchemaPath=d,a+=" var "+I+" = false; for (var "+O+" = 0; "+O+" < "+v+".length; "+O+"++) { ",w.errorPath=r.util.getPathExpr(r.errorPath,O,r.opts.jsonPointers,!0);var H=v+"["+O+"]";w.dataPathArr[k]=O;var G=r.validate(w);w.baseId=K,r.util.varOccurences(G,q)<2?a+=" "+r.util.varReplace(G,q,H)+" ":a+=" var "+q+" = "+H+"; "+G+" ",a+=" if ("+I+") break; }  ",r.compositeRule=w.compositeRule=X,a+=" "+_+" if (!"+I+") {"}else a+=" if ("+v+".length == 0) {";var M=M||[];M.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: 'should contain a valid item' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var re=a;return a=M.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+re+"]); ":a+=" validate.errors = ["+re+"]; return false; ":a+=" var err = "+re+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",Z&&(a+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),r.opts.allErrors&&(a+=" } "),a=r.util.cleanUpCode(a),a}});var qf=Y((mP,Lf)=>{"use strict";Lf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="errs__"+o,h=r.util.copy(r),w="";h.level++;var _="valid"+h.level,I={},O={},k=r.opts.ownProperties;for(X in u){var q=u[X],K=Array.isArray(q)?O:I;K[X]=q}a+="var "+S+" = errors;";var Z=r.errorPath;a+="var missing"+o+";";for(var X in O)if(K=O[X],K.length){if(a+=" if ( "+v+r.util.getProperty(X)+" !== undefined ",k&&(a+=" && Object.prototype.hasOwnProperty.call("+v+", '"+r.util.escapeQuotes(X)+"') "),m){a+=" && ( ";var H=K;if(H)for(var G,M=-1,re=H.length-1;M<re;){G=H[M+=1],M&&(a+=" || ");var ae=r.util.getProperty(G),ee=v+ae;a+=" ( ( "+ee+" === undefined ",k&&(a+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+r.util.escapeQuotes(G)+"') "),a+=") && (missing"+o+" = "+r.util.toQuotedString(r.opts.jsonPointers?G:ae)+") ) "}a+=")) {  ";var B="missing"+o,V="' + "+B+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(Z,B,!0):Z+" + "+B);var se=se||[];se.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { property: '"+r.util.escapeQuotes(X)+"', missingProperty: '"+V+"', depsCount: "+K.length+", deps: '"+r.util.escapeQuotes(K.length==1?K[0]:K.join(", "))+"' } ",r.opts.messages!==!1&&(a+=" , message: 'should have ",K.length==1?a+="property "+r.util.escapeQuotes(K[0]):a+="properties "+r.util.escapeQuotes(K.join(", ")),a+=" when property "+r.util.escapeQuotes(X)+" is present' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var de=a;a=se.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+de+"]); ":a+=" validate.errors = ["+de+"]; return false; ":a+=" var err = "+de+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var we=K;if(we)for(var G,ve=-1,le=we.length-1;ve<le;){G=we[ve+=1];var ae=r.util.getProperty(G),V=r.util.escapeQuotes(G),ee=v+ae;r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(Z,G,r.opts.jsonPointers)),a+=" if ( "+ee+" === undefined ",k&&(a+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+r.util.escapeQuotes(G)+"') "),a+=") {  var err =   ",r.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { property: '"+r.util.escapeQuotes(X)+"', missingProperty: '"+V+"', depsCount: "+K.length+", deps: '"+r.util.escapeQuotes(K.length==1?K[0]:K.join(", "))+"' } ",r.opts.messages!==!1&&(a+=" , message: 'should have ",K.length==1?a+="property "+r.util.escapeQuotes(K[0]):a+="properties "+r.util.escapeQuotes(K.join(", ")),a+=" when property "+r.util.escapeQuotes(X)+" is present' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",m&&(w+="}",a+=" else { ")}r.errorPath=Z;var ye=h.baseId;for(var X in I){var q=I[X];(r.opts.strictKeywords?typeof q=="object"&&Object.keys(q).length>0:r.util.schemaHasRules(q,r.RULES.all))&&(a+=" "+_+" = true; if ( "+v+r.util.getProperty(X)+" !== undefined ",k&&(a+=" && Object.prototype.hasOwnProperty.call("+v+", '"+r.util.escapeQuotes(X)+"') "),a+=") { ",h.schema=q,h.schemaPath=g+r.util.getProperty(X),h.errSchemaPath=d+"/"+r.util.escapeFragment(X),a+="  "+r.validate(h)+" ",h.baseId=ye,a+=" }  ",m&&(a+=" if ("+_+") { ",w+="}"))}return m&&(a+="   "+w+" if ("+S+" == errors) {"),a=r.util.cleanUpCode(a),a}});var kf=Y((hP,Mf)=>{"use strict";Mf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="valid"+o,h=r.opts.$data&&u&&u.$data,w;h?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",w="schema"+o):w=u;var _="i"+o,I="schema"+o;h||(a+=" var "+I+" = validate.schema"+g+";"),a+="var "+S+";",h&&(a+=" if (schema"+o+" === undefined) "+S+" = true; else if (!Array.isArray(schema"+o+")) "+S+" = false; else {"),a+=""+S+" = false;for (var "+_+"=0; "+_+"<"+I+".length; "+_+"++) if (equal("+v+", "+I+"["+_+"])) { "+S+" = true; break; }",h&&(a+="  }  "),a+=" if (!"+S+") {   ";var O=O||[];O.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { allowedValues: schema"+o+" } ",r.opts.messages!==!1&&(a+=" , message: 'should be equal to one of the allowed values' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var k=a;return a=O.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+k+"]); ":a+=" validate.errors = ["+k+"]; return false; ":a+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",m&&(a+=" else { "),a}});var Bf=Y((dP,Uf)=>{"use strict";Uf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||"");if(r.opts.format===!1)return m&&(a+=" if (true) { "),a;var S=r.opts.$data&&u&&u.$data,h;S?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",h="schema"+o):h=u;var w=r.opts.unknownFormats,_=Array.isArray(w);if(S){var I="format"+o,O="isObject"+o,k="formatType"+o;a+=" var "+I+" = formats["+h+"]; var "+O+" = typeof "+I+" == 'object' && !("+I+" instanceof RegExp) && "+I+".validate; var "+k+" = "+O+" && "+I+".type || 'string'; if ("+O+") { ",r.async&&(a+=" var async"+o+" = "+I+".async; "),a+=" "+I+" = "+I+".validate; } if (  ",S&&(a+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),a+=" (",w!="ignore"&&(a+=" ("+h+" && !"+I+" ",_&&(a+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),a+=") || "),a+=" ("+I+" && "+k+" == '"+i+"' && !(typeof "+I+" == 'function' ? ",r.async?a+=" (async"+o+" ? await "+I+"("+v+") : "+I+"("+v+")) ":a+=" "+I+"("+v+") ",a+=" : "+I+".test("+v+"))))) {"}else{var I=r.formats[u];if(!I){if(w=="ignore")return r.logger.warn('unknown format "'+u+'" ignored in schema at path "'+r.errSchemaPath+'"'),m&&(a+=" if (true) { "),a;if(_&&w.indexOf(u)>=0)return m&&(a+=" if (true) { "),a;throw new Error('unknown format "'+u+'" is used in schema at path "'+r.errSchemaPath+'"')}var O=typeof I=="object"&&!(I instanceof RegExp)&&I.validate,k=O&&I.type||"string";if(O){var q=I.async===!0;I=I.validate}if(k!=i)return m&&(a+=" if (true) { "),a;if(q){if(!r.async)throw new Error("async format in sync schema");var K="formats"+r.util.getProperty(u)+".validate";a+=" if (!(await "+K+"("+v+"))) { "}else{a+=" if (! ";var K="formats"+r.util.getProperty(u);O&&(K+=".validate"),typeof I=="function"?a+=" "+K+"("+v+") ":a+=" "+K+".test("+v+") ",a+=") { "}}var Z=Z||[];Z.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { format:  ",S?a+=""+h:a+=""+r.util.toQuotedString(u),a+="  } ",r.opts.messages!==!1&&(a+=` , message: 'should match format "`,S?a+="' + "+h+" + '":a+=""+r.util.escapeQuotes(u),a+=`"' `),r.opts.verbose&&(a+=" , schema:  ",S?a+="validate.schema"+g:a+=""+r.util.toQuotedString(u),a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var X=a;return a=Z.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+X+"]); ":a+=" validate.errors = ["+X+"]; return false; ":a+=" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",m&&(a+=" else { "),a}});var Hf=Y((vP,zf)=>{"use strict";zf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="valid"+o,h="errs__"+o,w=r.util.copy(r);w.level++;var _="valid"+w.level,I=r.schema.then,O=r.schema.else,k=I!==void 0&&(r.opts.strictKeywords?typeof I=="object"&&Object.keys(I).length>0:r.util.schemaHasRules(I,r.RULES.all)),q=O!==void 0&&(r.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0:r.util.schemaHasRules(O,r.RULES.all)),K=w.baseId;if(k||q){var Z;w.createErrors=!1,w.schema=u,w.schemaPath=g,w.errSchemaPath=d,a+=" var "+h+" = errors; var "+S+" = true;  ";var X=r.compositeRule;r.compositeRule=w.compositeRule=!0,a+="  "+r.validate(w)+" ",w.baseId=K,w.createErrors=!0,a+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",r.compositeRule=w.compositeRule=X,k?(a+=" if ("+_+") {  ",w.schema=r.schema.then,w.schemaPath=r.schemaPath+".then",w.errSchemaPath=r.errSchemaPath+"/then",a+="  "+r.validate(w)+" ",w.baseId=K,a+=" "+S+" = "+_+"; ",k&&q?(Z="ifClause"+o,a+=" var "+Z+" = 'then'; "):Z="'then'",a+=" } ",q&&(a+=" else { ")):a+=" if (!"+_+") { ",q&&(w.schema=r.schema.else,w.schemaPath=r.schemaPath+".else",w.errSchemaPath=r.errSchemaPath+"/else",a+="  "+r.validate(w)+" ",w.baseId=K,a+=" "+S+" = "+_+"; ",k&&q?(Z="ifClause"+o,a+=" var "+Z+" = 'else'; "):Z="'else'",a+=" } "),a+=" if (!"+S+") {   var err =   ",r.createErrors!==!1?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { failingKeyword: "+Z+" } ",r.opts.messages!==!1&&(a+=` , message: 'should match "' + `+Z+` + '" schema' `),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&m&&(r.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",m&&(a+=" else { "),a=r.util.cleanUpCode(a)}else m&&(a+=" if (true) { ");return a}});var Gf=Y((gP,Vf)=>{"use strict";Vf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="valid"+o,h="errs__"+o,w=r.util.copy(r),_="";w.level++;var I="valid"+w.level,O="i"+o,k=w.dataLevel=r.dataLevel+1,q="data"+k,K=r.baseId;if(a+="var "+h+" = errors;var "+S+";",Array.isArray(u)){var Z=r.schema.additionalItems;if(Z===!1){a+=" "+S+" = "+v+".length <= "+u.length+"; ";var X=d;d=r.errSchemaPath+"/additionalItems",a+="  if (!"+S+") {   ";var H=H||[];H.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { limit: "+u.length+" } ",r.opts.messages!==!1&&(a+=" , message: 'should NOT have more than "+u.length+" items' "),r.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var G=a;a=H.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+G+"]); ":a+=" validate.errors = ["+G+"]; return false; ":a+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",d=X,m&&(_+="}",a+=" else { ")}var M=u;if(M){for(var re,ae=-1,ee=M.length-1;ae<ee;)if(re=M[ae+=1],r.opts.strictKeywords?typeof re=="object"&&Object.keys(re).length>0:r.util.schemaHasRules(re,r.RULES.all)){a+=" "+I+" = true; if ("+v+".length > "+ae+") { ";var B=v+"["+ae+"]";w.schema=re,w.schemaPath=g+"["+ae+"]",w.errSchemaPath=d+"/"+ae,w.errorPath=r.util.getPathExpr(r.errorPath,ae,r.opts.jsonPointers,!0),w.dataPathArr[k]=ae;var V=r.validate(w);w.baseId=K,r.util.varOccurences(V,q)<2?a+=" "+r.util.varReplace(V,q,B)+" ":a+=" var "+q+" = "+B+"; "+V+" ",a+=" }  ",m&&(a+=" if ("+I+") { ",_+="}")}}if(typeof Z=="object"&&(r.opts.strictKeywords?typeof Z=="object"&&Object.keys(Z).length>0:r.util.schemaHasRules(Z,r.RULES.all))){w.schema=Z,w.schemaPath=r.schemaPath+".additionalItems",w.errSchemaPath=r.errSchemaPath+"/additionalItems",a+=" "+I+" = true; if ("+v+".length > "+u.length+") {  for (var "+O+" = "+u.length+"; "+O+" < "+v+".length; "+O+"++) { ",w.errorPath=r.util.getPathExpr(r.errorPath,O,r.opts.jsonPointers,!0);var B=v+"["+O+"]";w.dataPathArr[k]=O;var V=r.validate(w);w.baseId=K,r.util.varOccurences(V,q)<2?a+=" "+r.util.varReplace(V,q,B)+" ":a+=" var "+q+" = "+B+"; "+V+" ",m&&(a+=" if (!"+I+") break; "),a+=" } }  ",m&&(a+=" if ("+I+") { ",_+="}")}}else if(r.opts.strictKeywords?typeof u=="object"&&Object.keys(u).length>0:r.util.schemaHasRules(u,r.RULES.all)){w.schema=u,w.schemaPath=g,w.errSchemaPath=d,a+="  for (var "+O+" = 0; "+O+" < "+v+".length; "+O+"++) { ",w.errorPath=r.util.getPathExpr(r.errorPath,O,r.opts.jsonPointers,!0);var B=v+"["+O+"]";w.dataPathArr[k]=O;var V=r.validate(w);w.baseId=K,r.util.varOccurences(V,q)<2?a+=" "+r.util.varReplace(V,q,B)+" ":a+=" var "+q+" = "+B+"; "+V+" ",m&&(a+=" if (!"+I+") break; "),a+=" }"}return m&&(a+=" "+_+" if ("+h+" == errors) {"),a=r.util.cleanUpCode(a),a}});var Ki=Y((yP,Kf)=>{"use strict";Kf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,K,v="data"+(l||""),S=r.opts.$data&&u&&u.$data,h;S?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",h="schema"+o):h=u;var w=e=="maximum",_=w?"exclusiveMaximum":"exclusiveMinimum",I=r.schema[_],O=r.opts.$data&&I&&I.$data,k=w?"<":">",q=w?">":"<",K=void 0;if(O){var Z=r.util.getData(I.$data,l,r.dataPathArr),X="exclusive"+o,H="exclType"+o,G="exclIsNumber"+o,M="op"+o,re="' + "+M+" + '";a+=" var schemaExcl"+o+" = "+Z+"; ",Z="schemaExcl"+o,a+=" var "+X+"; var "+H+" = typeof "+Z+"; if ("+H+" != 'boolean' && "+H+" != 'undefined' && "+H+" != 'number') { ";var K=_,ae=ae||[];ae.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(K||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: '"+_+" should be boolean' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var ee=a;a=ae.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+ee+"]); ":a+=" validate.errors = ["+ee+"]; return false; ":a+=" var err = "+ee+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",S&&(a+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),a+=" "+H+" == 'number' ? ( ("+X+" = "+h+" === undefined || "+Z+" "+k+"= "+h+") ? "+v+" "+q+"= "+Z+" : "+v+" "+q+" "+h+" ) : ( ("+X+" = "+Z+" === true) ? "+v+" "+q+"= "+h+" : "+v+" "+q+" "+h+" ) || "+v+" !== "+v+") { var op"+o+" = "+X+" ? '"+k+"' : '"+k+"='; ",u===void 0&&(K=_,d=r.errSchemaPath+"/"+_,h=Z,S=O)}else{var G=typeof I=="number",re=k;if(G&&S){var M="'"+re+"'";a+=" if ( ",S&&(a+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),a+=" ( "+h+" === undefined || "+I+" "+k+"= "+h+" ? "+v+" "+q+"= "+I+" : "+v+" "+q+" "+h+" ) || "+v+" !== "+v+") { "}else{G&&u===void 0?(X=!0,K=_,d=r.errSchemaPath+"/"+_,h=I,q+="="):(G&&(h=Math[w?"min":"max"](I,u)),I===(G?h:!0)?(X=!0,K=_,d=r.errSchemaPath+"/"+_,q+="="):(X=!1,re+="="));var M="'"+re+"'";a+=" if ( ",S&&(a+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),a+=" "+v+" "+q+" "+h+" || "+v+" !== "+v+") { "}}K=K||e;var ae=ae||[];ae.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(K||"_limit")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { comparison: "+M+", limit: "+h+", exclusive: "+X+" } ",r.opts.messages!==!1&&(a+=" , message: 'should be "+re+" ",S?a+="' + "+h:a+=""+h+"'"),r.opts.verbose&&(a+=" , schema:  ",S?a+="validate.schema"+g:a+=""+u,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var ee=a;return a=ae.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+ee+"]); ":a+=" validate.errors = ["+ee+"]; return false; ":a+=" var err = "+ee+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",m&&(a+=" else { "),a}});var Qi=Y((EP,Qf)=>{"use strict";Qf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,_,v="data"+(l||""),S=r.opts.$data&&u&&u.$data,h;S?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",h="schema"+o):h=u;var w=e=="maxItems"?">":"<";a+="if ( ",S&&(a+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),a+=" "+v+".length "+w+" "+h+") { ";var _=e,I=I||[];I.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(_||"_limitItems")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { limit: "+h+" } ",r.opts.messages!==!1&&(a+=" , message: 'should NOT have ",e=="maxItems"?a+="more":a+="fewer",a+=" than ",S?a+="' + "+h+" + '":a+=""+u,a+=" items' "),r.opts.verbose&&(a+=" , schema:  ",S?a+="validate.schema"+g:a+=""+u,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var O=a;return a=I.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",m&&(a+=" else { "),a}});var Ji=Y((SP,Jf)=>{"use strict";Jf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,_,v="data"+(l||""),S=r.opts.$data&&u&&u.$data,h;S?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",h="schema"+o):h=u;var w=e=="maxLength"?">":"<";a+="if ( ",S&&(a+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),r.opts.unicode===!1?a+=" "+v+".length ":a+=" ucs2length("+v+") ",a+=" "+w+" "+h+") { ";var _=e,I=I||[];I.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(_||"_limitLength")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { limit: "+h+" } ",r.opts.messages!==!1&&(a+=" , message: 'should NOT be ",e=="maxLength"?a+="longer":a+="shorter",a+=" than ",S?a+="' + "+h+" + '":a+=""+u,a+=" characters' "),r.opts.verbose&&(a+=" , schema:  ",S?a+="validate.schema"+g:a+=""+u,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var O=a;return a=I.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",m&&(a+=" else { "),a}});var Wi=Y((PP,Wf)=>{"use strict";Wf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,_,v="data"+(l||""),S=r.opts.$data&&u&&u.$data,h;S?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",h="schema"+o):h=u;var w=e=="maxProperties"?">":"<";a+="if ( ",S&&(a+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),a+=" Object.keys("+v+").length "+w+" "+h+") { ";var _=e,I=I||[];I.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(_||"_limitProperties")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { limit: "+h+" } ",r.opts.messages!==!1&&(a+=" , message: 'should NOT have ",e=="maxProperties"?a+="more":a+="fewer",a+=" than ",S?a+="' + "+h+" + '":a+=""+u,a+=" properties' "),r.opts.verbose&&(a+=" , schema:  ",S?a+="validate.schema"+g:a+=""+u,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var O=a;return a=I.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",m&&(a+=" else { "),a}});var Xf=Y((wP,Yf)=>{"use strict";Yf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S=r.opts.$data&&u&&u.$data,h;S?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",h="schema"+o):h=u,a+="var division"+o+";if (",S&&(a+=" "+h+" !== undefined && ( typeof "+h+" != 'number' || "),a+=" (division"+o+" = "+v+" / "+h+", ",r.opts.multipleOfPrecision?a+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+r.opts.multipleOfPrecision+" ":a+=" division"+o+" !== parseInt(division"+o+") ",a+=" ) ",S&&(a+="  )  "),a+=" ) {   ";var w=w||[];w.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { multipleOf: "+h+" } ",r.opts.messages!==!1&&(a+=" , message: 'should be multiple of ",S?a+="' + "+h:a+=""+h+"'"),r.opts.verbose&&(a+=" , schema:  ",S?a+="validate.schema"+g:a+=""+u,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var _=a;return a=w.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+_+"]); ":a+=" validate.errors = ["+_+"]; return false; ":a+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",m&&(a+=" else { "),a}});var el=Y((bP,Zf)=>{"use strict";Zf.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="errs__"+o,h=r.util.copy(r);h.level++;var w="valid"+h.level;if(r.opts.strictKeywords?typeof u=="object"&&Object.keys(u).length>0:r.util.schemaHasRules(u,r.RULES.all)){h.schema=u,h.schemaPath=g,h.errSchemaPath=d,a+=" var "+S+" = errors;  ";var _=r.compositeRule;r.compositeRule=h.compositeRule=!0,h.createErrors=!1;var I;h.opts.allErrors&&(I=h.opts.allErrors,h.opts.allErrors=!1),a+=" "+r.validate(h)+" ",h.createErrors=!0,I&&(h.opts.allErrors=I),r.compositeRule=h.compositeRule=_,a+=" if ("+w+") {   ";var O=O||[];O.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var k=a;a=O.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+k+"]); ":a+=" validate.errors = ["+k+"]; return false; ":a+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+S+"; if (vErrors !== null) { if ("+S+") vErrors.length = "+S+"; else vErrors = null; } ",r.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",r.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m&&(a+=" if (false) { ");return a}});var tl=Y(($P,rl)=>{"use strict";rl.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="valid"+o,h="errs__"+o,w=r.util.copy(r),_="";w.level++;var I="valid"+w.level,O=w.baseId,k="prevValid"+o,q="passingSchemas"+o;a+="var "+h+" = errors , "+k+" = false , "+S+" = false , "+q+" = null; ";var K=r.compositeRule;r.compositeRule=w.compositeRule=!0;var Z=u;if(Z)for(var X,H=-1,G=Z.length-1;H<G;)X=Z[H+=1],(r.opts.strictKeywords?typeof X=="object"&&Object.keys(X).length>0:r.util.schemaHasRules(X,r.RULES.all))?(w.schema=X,w.schemaPath=g+"["+H+"]",w.errSchemaPath=d+"/"+H,a+="  "+r.validate(w)+" ",w.baseId=O):a+=" var "+I+" = true; ",H&&(a+=" if ("+I+" && "+k+") { "+S+" = false; "+q+" = ["+q+", "+H+"]; } else { ",_+="}"),a+=" if ("+I+") { "+S+" = "+k+" = true; "+q+" = "+H+"; }";return r.compositeRule=w.compositeRule=K,a+=""+_+"if (!"+S+") {   var err =   ",r.createErrors!==!1?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { passingSchemas: "+q+" } ",r.opts.messages!==!1&&(a+=" , message: 'should match exactly one schema in oneOf' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&m&&(r.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",r.opts.allErrors&&(a+=" } "),a}});var sl=Y((IP,al)=>{"use strict";al.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S=r.opts.$data&&u&&u.$data,h;S?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",h="schema"+o):h=u;var w=S?"(new RegExp("+h+"))":r.usePattern(u);a+="if ( ",S&&(a+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),a+=" !"+w+".test("+v+") ) {   ";var _=_||[];_.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { pattern:  ",S?a+=""+h:a+=""+r.util.toQuotedString(u),a+="  } ",r.opts.messages!==!1&&(a+=` , message: 'should match pattern "`,S?a+="' + "+h+" + '":a+=""+r.util.escapeQuotes(u),a+=`"' `),r.opts.verbose&&(a+=" , schema:  ",S?a+="validate.schema"+g:a+=""+r.util.toQuotedString(u),a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var I=a;return a=_.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+I+"]); ":a+=" validate.errors = ["+I+"]; return false; ":a+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",m&&(a+=" else { "),a}});var nl=Y((_P,il)=>{"use strict";il.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="errs__"+o,h=r.util.copy(r),w="";h.level++;var _="valid"+h.level,I="key"+o,O="idx"+o,k=h.dataLevel=r.dataLevel+1,q="data"+k,K="dataProperties"+o,Z=Object.keys(u||{}),X=r.schema.patternProperties||{},H=Object.keys(X),G=r.schema.additionalProperties,M=Z.length||H.length,re=G===!1,ae=typeof G=="object"&&Object.keys(G).length,ee=r.opts.removeAdditional,B=re||ae||ee,V=r.opts.ownProperties,se=r.baseId,de=r.schema.required;if(de&&!(r.opts.$data&&de.$data)&&de.length<r.opts.loopRequired)var we=r.util.toHash(de);if(a+="var "+S+" = errors;var "+_+" = true;",V&&(a+=" var "+K+" = undefined;"),B){if(V?a+=" "+K+" = "+K+" || Object.keys("+v+"); for (var "+O+"=0; "+O+"<"+K+".length; "+O+"++) { var "+I+" = "+K+"["+O+"]; ":a+=" for (var "+I+" in "+v+") { ",M){if(a+=" var isAdditional"+o+" = !(false ",Z.length)if(Z.length>8)a+=" || validate.schema"+g+".hasOwnProperty("+I+") ";else{var ve=Z;if(ve)for(var le,ye=-1,Ue=ve.length-1;ye<Ue;)le=ve[ye+=1],a+=" || "+I+" == "+r.util.toQuotedString(le)+" "}if(H.length){var Ze=H;if(Ze)for(var Be,xe=-1,Je=Ze.length-1;xe<Je;)Be=Ze[xe+=1],a+=" || "+r.usePattern(Be)+".test("+I+") "}a+=" ); if (isAdditional"+o+") { "}if(ee=="all")a+=" delete "+v+"["+I+"]; ";else{var Qe=r.errorPath,dr="' + "+I+" + '";if(r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(r.errorPath,I,r.opts.jsonPointers)),re)if(ee)a+=" delete "+v+"["+I+"]; ";else{a+=" "+_+" = false; ";var ze=d;d=r.errSchemaPath+"/additionalProperties";var Le=Le||[];Le.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { additionalProperty: '"+dr+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),r.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var fr=a;a=Le.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+fr+"]); ":a+=" validate.errors = ["+fr+"]; return false; ":a+=" var err = "+fr+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=ze,m&&(a+=" break; ")}else if(ae)if(ee=="failing"){a+=" var "+S+" = errors;  ";var lr=r.compositeRule;r.compositeRule=h.compositeRule=!0,h.schema=G,h.schemaPath=r.schemaPath+".additionalProperties",h.errSchemaPath=r.errSchemaPath+"/additionalProperties",h.errorPath=r.opts._errorDataPathProperty?r.errorPath:r.util.getPathExpr(r.errorPath,I,r.opts.jsonPointers);var Ae=v+"["+I+"]";h.dataPathArr[k]=I;var Te=r.validate(h);h.baseId=se,r.util.varOccurences(Te,q)<2?a+=" "+r.util.varReplace(Te,q,Ae)+" ":a+=" var "+q+" = "+Ae+"; "+Te+" ",a+=" if (!"+_+") { errors = "+S+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+v+"["+I+"]; }  ",r.compositeRule=h.compositeRule=lr}else{h.schema=G,h.schemaPath=r.schemaPath+".additionalProperties",h.errSchemaPath=r.errSchemaPath+"/additionalProperties",h.errorPath=r.opts._errorDataPathProperty?r.errorPath:r.util.getPathExpr(r.errorPath,I,r.opts.jsonPointers);var Ae=v+"["+I+"]";h.dataPathArr[k]=I;var Te=r.validate(h);h.baseId=se,r.util.varOccurences(Te,q)<2?a+=" "+r.util.varReplace(Te,q,Ae)+" ":a+=" var "+q+" = "+Ae+"; "+Te+" ",m&&(a+=" if (!"+_+") break; ")}r.errorPath=Qe}M&&(a+=" } "),a+=" }  ",m&&(a+=" if ("+_+") { ",w+="}")}var er=r.opts.useDefaults&&!r.compositeRule;if(Z.length){var Dr=Z;if(Dr)for(var le,mr=-1,Pr=Dr.length-1;mr<Pr;){le=Dr[mr+=1];var nr=u[le];if(r.opts.strictKeywords?typeof nr=="object"&&Object.keys(nr).length>0:r.util.schemaHasRules(nr,r.RULES.all)){var x=r.util.getProperty(le),Ae=v+x,Ie=er&&nr.default!==void 0;h.schema=nr,h.schemaPath=g+x,h.errSchemaPath=d+"/"+r.util.escapeFragment(le),h.errorPath=r.util.getPath(r.errorPath,le,r.opts.jsonPointers),h.dataPathArr[k]=r.util.toQuotedString(le);var Te=r.validate(h);if(h.baseId=se,r.util.varOccurences(Te,q)<2){Te=r.util.varReplace(Te,q,Ae);var He=Ae}else{var He=q;a+=" var "+q+" = "+Ae+"; "}if(Ie)a+=" "+Te+" ";else{if(we&&we[le]){a+=" if ( "+He+" === undefined ",V&&(a+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+r.util.escapeQuotes(le)+"') "),a+=") { "+_+" = false; ";var Qe=r.errorPath,ze=d,rr=r.util.escapeQuotes(le);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(Qe,le,r.opts.jsonPointers)),d=r.errSchemaPath+"/required";var Le=Le||[];Le.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { missingProperty: '"+rr+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+rr+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var fr=a;a=Le.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+fr+"]); ":a+=" validate.errors = ["+fr+"]; return false; ":a+=" var err = "+fr+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=ze,r.errorPath=Qe,a+=" } else { "}else m?(a+=" if ( "+He+" === undefined ",V&&(a+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+r.util.escapeQuotes(le)+"') "),a+=") { "+_+" = true; } else { "):(a+=" if ("+He+" !== undefined ",V&&(a+=" &&   Object.prototype.hasOwnProperty.call("+v+", '"+r.util.escapeQuotes(le)+"') "),a+=" ) { ");a+=" "+Te+" } "}}m&&(a+=" if ("+_+") { ",w+="}")}}if(H.length){var or=H;if(or)for(var Be,pe=-1,cr=or.length-1;pe<cr;){Be=or[pe+=1];var nr=X[Be];if(r.opts.strictKeywords?typeof nr=="object"&&Object.keys(nr).length>0:r.util.schemaHasRules(nr,r.RULES.all)){h.schema=nr,h.schemaPath=r.schemaPath+".patternProperties"+r.util.getProperty(Be),h.errSchemaPath=r.errSchemaPath+"/patternProperties/"+r.util.escapeFragment(Be),V?a+=" "+K+" = "+K+" || Object.keys("+v+"); for (var "+O+"=0; "+O+"<"+K+".length; "+O+"++) { var "+I+" = "+K+"["+O+"]; ":a+=" for (var "+I+" in "+v+") { ",a+=" if ("+r.usePattern(Be)+".test("+I+")) { ",h.errorPath=r.util.getPathExpr(r.errorPath,I,r.opts.jsonPointers);var Ae=v+"["+I+"]";h.dataPathArr[k]=I;var Te=r.validate(h);h.baseId=se,r.util.varOccurences(Te,q)<2?a+=" "+r.util.varReplace(Te,q,Ae)+" ":a+=" var "+q+" = "+Ae+"; "+Te+" ",m&&(a+=" if (!"+_+") break; "),a+=" } ",m&&(a+=" else "+_+" = true; "),a+=" }  ",m&&(a+=" if ("+_+") { ",w+="}")}}}return m&&(a+=" "+w+" if ("+S+" == errors) {"),a=r.util.cleanUpCode(a),a}});var fl=Y((DP,ol)=>{"use strict";ol.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="errs__"+o,h=r.util.copy(r),w="";h.level++;var _="valid"+h.level;if(a+="var "+S+" = errors;",r.opts.strictKeywords?typeof u=="object"&&Object.keys(u).length>0:r.util.schemaHasRules(u,r.RULES.all)){h.schema=u,h.schemaPath=g,h.errSchemaPath=d;var I="key"+o,O="idx"+o,k="i"+o,q="' + "+I+" + '",K=h.dataLevel=r.dataLevel+1,Z="data"+K,X="dataProperties"+o,H=r.opts.ownProperties,G=r.baseId;H&&(a+=" var "+X+" = undefined; "),H?a+=" "+X+" = "+X+" || Object.keys("+v+"); for (var "+O+"=0; "+O+"<"+X+".length; "+O+"++) { var "+I+" = "+X+"["+O+"]; ":a+=" for (var "+I+" in "+v+") { ",a+=" var startErrs"+o+" = errors; ";var M=I,re=r.compositeRule;r.compositeRule=h.compositeRule=!0;var ae=r.validate(h);h.baseId=G,r.util.varOccurences(ae,Z)<2?a+=" "+r.util.varReplace(ae,Z,M)+" ":a+=" var "+Z+" = "+M+"; "+ae+" ",r.compositeRule=h.compositeRule=re,a+=" if (!"+_+") { for (var "+k+"=startErrs"+o+"; "+k+"<errors; "+k+"++) { vErrors["+k+"].propertyName = "+I+"; }   var err =   ",r.createErrors!==!1?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { propertyName: '"+q+"' } ",r.opts.messages!==!1&&(a+=" , message: 'property name \\'"+q+"\\' is invalid' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&m&&(r.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),m&&(a+=" break; "),a+=" } }"}return m&&(a+=" "+w+" if ("+S+" == errors) {"),a=r.util.cleanUpCode(a),a}});var cl=Y((RP,ll)=>{"use strict";ll.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="valid"+o,h=r.opts.$data&&u&&u.$data,w;h?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",w="schema"+o):w=u;var _="schema"+o;if(!h)if(u.length<r.opts.loopRequired&&r.schema.properties&&Object.keys(r.schema.properties).length){var I=[],O=u;if(O)for(var k,q=-1,K=O.length-1;q<K;){k=O[q+=1];var Z=r.schema.properties[k];Z&&(r.opts.strictKeywords?typeof Z=="object"&&Object.keys(Z).length>0:r.util.schemaHasRules(Z,r.RULES.all))||(I[I.length]=k)}}else var I=u;if(h||I.length){var X=r.errorPath,H=h||I.length>=r.opts.loopRequired,G=r.opts.ownProperties;if(m)if(a+=" var missing"+o+"; ",H){h||(a+=" var "+_+" = validate.schema"+g+"; ");var M="i"+o,re="schema"+o+"["+M+"]",ae="' + "+re+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(X,re,r.opts.jsonPointers)),a+=" var "+S+" = true; ",h&&(a+=" if (schema"+o+" === undefined) "+S+" = true; else if (!Array.isArray(schema"+o+")) "+S+" = false; else {"),a+=" for (var "+M+" = 0; "+M+" < "+_+".length; "+M+"++) { "+S+" = "+v+"["+_+"["+M+"]] !== undefined ",G&&(a+=" &&   Object.prototype.hasOwnProperty.call("+v+", "+_+"["+M+"]) "),a+="; if (!"+S+") break; } ",h&&(a+="  }  "),a+="  if (!"+S+") {   ";var ee=ee||[];ee.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { missingProperty: '"+ae+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var B=a;a=ee.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+B+"]); ":a+=" validate.errors = ["+B+"]; return false; ":a+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var V=I;if(V)for(var se,M=-1,de=V.length-1;M<de;){se=V[M+=1],M&&(a+=" || ");var we=r.util.getProperty(se),ve=v+we;a+=" ( ( "+ve+" === undefined ",G&&(a+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+r.util.escapeQuotes(se)+"') "),a+=") && (missing"+o+" = "+r.util.toQuotedString(r.opts.jsonPointers?se:we)+") ) "}a+=") {  ";var re="missing"+o,ae="' + "+re+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(X,re,!0):X+" + "+re);var ee=ee||[];ee.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { missingProperty: '"+ae+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var B=a;a=ee.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+B+"]); ":a+=" validate.errors = ["+B+"]; return false; ":a+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(H){h||(a+=" var "+_+" = validate.schema"+g+"; ");var M="i"+o,re="schema"+o+"["+M+"]",ae="' + "+re+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(X,re,r.opts.jsonPointers)),h&&(a+=" if ("+_+" && !Array.isArray("+_+")) {  var err =   ",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { missingProperty: '"+ae+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+_+" !== undefined) { "),a+=" for (var "+M+" = 0; "+M+" < "+_+".length; "+M+"++) { if ("+v+"["+_+"["+M+"]] === undefined ",G&&(a+=" || ! Object.prototype.hasOwnProperty.call("+v+", "+_+"["+M+"]) "),a+=") {  var err =   ",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { missingProperty: '"+ae+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(a+="  }  ")}else{var le=I;if(le)for(var se,ye=-1,Ue=le.length-1;ye<Ue;){se=le[ye+=1];var we=r.util.getProperty(se),ae=r.util.escapeQuotes(se),ve=v+we;r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(X,se,r.opts.jsonPointers)),a+=" if ( "+ve+" === undefined ",G&&(a+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+r.util.escapeQuotes(se)+"') "),a+=") {  var err =   ",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { missingProperty: '"+ae+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r.errorPath=X}else m&&(a+=" if (true) {");return a}});var pl=Y((xP,ul)=>{"use strict";ul.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v="data"+(l||""),S="valid"+o,h=r.opts.$data&&u&&u.$data,w;if(h?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",w="schema"+o):w=u,(u||h)&&r.opts.uniqueItems!==!1){h&&(a+=" var "+S+"; if ("+w+" === false || "+w+" === undefined) "+S+" = true; else if (typeof "+w+" != 'boolean') "+S+" = false; else { "),a+=" var i = "+v+".length , "+S+" = true , j; if (i > 1) { ";var _=r.schema.items&&r.schema.items.type,I=Array.isArray(_);if(!_||_=="object"||_=="array"||I&&(_.indexOf("object")>=0||_.indexOf("array")>=0))a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+v+"[i], "+v+"[j])) { "+S+" = false; break outer; } } } ";else{a+=" var itemIndices = {}, item; for (;i--;) { var item = "+v+"[i]; ";var O="checkDataType"+(I?"s":"");a+=" if ("+r.util[O](_,"item",!0)+") continue; ",I&&(a+=` if (typeof item == 'string') item = '"' + item; `),a+=" if (typeof itemIndices[item] == 'number') { "+S+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}a+=" } ",h&&(a+="  }  "),a+=" if (!"+S+") {   ";var k=k||[];k.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { i: i, j: j } ",r.opts.messages!==!1&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),r.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+g:a+=""+u,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),a+=" } "):a+=" {} ";var q=a;a=k.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+q+"]); ":a+=" validate.errors = ["+q+"]; return false; ":a+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",m&&(a+=" else { ")}else m&&(a+=" if (true) { ");return a}});var hl=Y((AP,ml)=>{"use strict";ml.exports={$ref:_f(),allOf:Rf(),anyOf:Af(),$comment:Of(),const:Tf(),contains:jf(),dependencies:qf(),enum:kf(),format:Bf(),if:Hf(),items:Gf(),maximum:Ki(),minimum:Ki(),maxItems:Qi(),minItems:Qi(),maxLength:Ji(),minLength:Ji(),maxProperties:Wi(),minProperties:Wi(),multipleOf:Xf(),not:el(),oneOf:tl(),pattern:sl(),properties:nl(),propertyNames:fl(),required:cl(),uniqueItems:pl(),validate:Vi()}});var gl=Y((CP,vl)=>{"use strict";var dl=hl(),Yi=Ot().toHash;vl.exports=function(){var r=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],e=["type","$comment"],i=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],a=["number","integer","string","array","object","boolean","null"];return r.all=Yi(e),r.types=Yi(a),r.forEach(function(o){o.rules=o.rules.map(function(l){var u;if(typeof l=="object"){var g=Object.keys(l)[0];u=l[g],l=g,u.forEach(function(m){e.push(m),r.all[m]=!0})}e.push(l);var d=r.all[l]={keyword:l,code:dl[l],implements:u};return d}),r.all.$comment={keyword:"$comment",code:dl.$comment},o.type&&(r.types[o.type]=o)}),r.keywords=Yi(e.concat(i)),r.custom={},r}});var Sl=Y((OP,El)=>{"use strict";var yl=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];El.exports=function(t,r){for(var e=0;e<r.length;e++){t=JSON.parse(JSON.stringify(t));var i=r[e].split("/"),a=t,o;for(o=1;o<i.length;o++)a=a[i[o]];for(o=0;o<yl.length;o++){var l=yl[o],u=a[l];u&&(a[l]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return t}});var bl=Y((FP,wl)=>{"use strict";var sv=vs().MissingRef;wl.exports=Pl;function Pl(t,r,e){var i=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof r=="function"&&(e=r,r=void 0);var a=o(t).then(function(){var u=i._addSchema(t,void 0,r);return u.validate||l(u)});return e&&a.then(function(u){e(null,u)},e),a;function o(u){var g=u.$schema;return g&&!i.getSchema(g)?Pl.call(i,{$ref:g},!0):Promise.resolve()}function l(u){try{return i._compile(u)}catch(d){if(d instanceof sv)return g(d);throw d}function g(d){var m=d.missingSchema;if(h(m))throw new Error("Schema "+m+" is loaded but "+d.missingRef+" cannot be resolved");var v=i._loadingSchemas[m];return v||(v=i._loadingSchemas[m]=i._opts.loadSchema(m),v.then(S,S)),v.then(function(w){if(!h(m))return o(w).then(function(){h(m)||i.addSchema(w,m,void 0,r)})}).then(function(){return l(u)});function S(){delete i._loadingSchemas[m]}function h(w){return i._refs[w]||i._schemas[w]}}}}});var Il=Y((TP,$l)=>{"use strict";$l.exports=function(r,e,i){var a=" ",o=r.level,l=r.dataLevel,u=r.schema[e],g=r.schemaPath+r.util.getProperty(e),d=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,v,S="data"+(l||""),h="valid"+o,w="errs__"+o,_=r.opts.$data&&u&&u.$data,I;_?(a+=" var schema"+o+" = "+r.util.getData(u.$data,l,r.dataPathArr)+"; ",I="schema"+o):I=u;var O=this,k="definition"+o,q=O.definition,K="",Z,X,H,G,M;if(_&&q.$data){M="keywordValidate"+o;var re=q.validateSchema;a+=" var "+k+" = RULES.custom['"+e+"'].definition; var "+M+" = "+k+".validate;"}else{if(G=r.useCustomRule(O,u,r.schema,r),!G)return;I="validate.schema"+g,M=G.code,Z=q.compile,X=q.inline,H=q.macro}var ae=M+".errors",ee="i"+o,B="ruleErr"+o,V=q.async;if(V&&!r.async)throw new Error("async keyword in sync schema");if(X||H||(a+=""+ae+" = null;"),a+="var "+w+" = errors;var "+h+";",_&&q.$data&&(K+="}",a+=" if ("+I+" === undefined) { "+h+" = true; } else { ",re&&(K+="}",a+=" "+h+" = "+k+".validateSchema("+I+"); if ("+h+") { ")),X)q.statements?a+=" "+G.validate+" ":a+=" "+h+" = "+G.validate+"; ";else if(H){var se=r.util.copy(r),K="";se.level++;var de="valid"+se.level;se.schema=G.validate,se.schemaPath="";var we=r.compositeRule;r.compositeRule=se.compositeRule=!0;var ve=r.validate(se).replace(/validate\.schema/g,M);r.compositeRule=se.compositeRule=we,a+=" "+ve}else{var le=le||[];le.push(a),a="",a+="  "+M+".call( ",r.opts.passContext?a+="this":a+="self",Z||q.schema===!1?a+=" , "+S+" ":a+=" , "+I+" , "+S+" , validate.schema"+r.schemaPath+" ",a+=" , (dataPath || '')",r.errorPath!='""'&&(a+=" + "+r.errorPath);var ye=l?"data"+(l-1||""):"parentData",Ue=l?r.dataPathArr[l]:"parentDataProperty";a+=" , "+ye+" , "+Ue+" , rootData )  ";var Ze=a;a=le.pop(),q.errors===!1?(a+=" "+h+" = ",V&&(a+="await "),a+=""+Ze+"; "):V?(ae="customErrors"+o,a+=" var "+ae+" = null; try { "+h+" = await "+Ze+"; } catch (e) { "+h+" = false; if (e instanceof ValidationError) "+ae+" = e.errors; else throw e; } "):a+=" "+ae+" = null; "+h+" = "+Ze+"; "}if(q.modifying&&(a+=" if ("+ye+") "+S+" = "+ye+"["+Ue+"];"),a+=""+K,q.valid)m&&(a+=" if (true) { ");else{a+=" if ( ",q.valid===void 0?(a+=" !",H?a+=""+de:a+=""+h):a+=" "+!q.valid+" ",a+=") { ",v=O.keyword;var le=le||[];le.push(a),a="";var le=le||[];le.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { keyword: '"+O.keyword+"' } ",r.opts.messages!==!1&&(a+=` , message: 'should pass "`+O.keyword+`" keyword validation' `),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+S+" "),a+=" } "):a+=" {} ";var Be=a;a=le.pop(),!r.compositeRule&&m?r.async?a+=" throw new ValidationError(["+Be+"]); ":a+=" validate.errors = ["+Be+"]; return false; ":a+=" var err = "+Be+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var xe=a;a=le.pop(),X?q.errors?q.errors!="full"&&(a+="  for (var "+ee+"="+w+"; "+ee+"<errors; "+ee+"++) { var "+B+" = vErrors["+ee+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+B+".schemaPath === undefined) { "+B+'.schemaPath = "'+d+'"; } ',r.opts.verbose&&(a+=" "+B+".schema = "+I+"; "+B+".data = "+S+"; "),a+=" } "):q.errors===!1?a+=" "+xe+" ":(a+=" if ("+w+" == errors) { "+xe+" } else {  for (var "+ee+"="+w+"; "+ee+"<errors; "+ee+"++) { var "+B+" = vErrors["+ee+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+B+".schemaPath === undefined) { "+B+'.schemaPath = "'+d+'"; } ',r.opts.verbose&&(a+=" "+B+".schema = "+I+"; "+B+".data = "+S+"; "),a+=" } } "):H?(a+="   var err =   ",r.createErrors!==!1?(a+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(d)+" , params: { keyword: '"+O.keyword+"' } ",r.opts.messages!==!1&&(a+=` , message: 'should pass "`+O.keyword+`" keyword validation' `),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+S+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&m&&(r.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):q.errors===!1?a+=" "+xe+" ":(a+=" if (Array.isArray("+ae+")) { if (vErrors === null) vErrors = "+ae+"; else vErrors = vErrors.concat("+ae+"); errors = vErrors.length;  for (var "+ee+"="+w+"; "+ee+"<errors; "+ee+"++) { var "+B+" = vErrors["+ee+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+r.errorPath+";  "+B+'.schemaPath = "'+d+'";  ',r.opts.verbose&&(a+=" "+B+".schema = "+I+"; "+B+".data = "+S+"; "),a+=" } } else { "+xe+" } "),a+=" } ",m&&(a+=" else { ")}return a}});var Xi=Y((NP,iv)=>{iv.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Rl=Y((jP,Dl)=>{"use strict";var _l=Xi();Dl.exports={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:_l.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:_l.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var Al=Y((LP,xl)=>{"use strict";var nv=/^[a-z_$][a-z0-9_$-]*$/i,ov=Il(),fv=Rl();xl.exports={add:lv,get:cv,remove:uv,validate:Zi};function lv(t,r){var e=this.RULES;if(e.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!nv.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(r){this.validateKeyword(r,!0);var i=r.type;if(Array.isArray(i))for(var a=0;a<i.length;a++)l(t,i[a],r);else l(t,i,r);var o=r.metaSchema;o&&(r.$data&&this._opts.$data&&(o={anyOf:[o,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),r.validateSchema=this.compile(o,!0))}e.keywords[t]=e.all[t]=!0;function l(u,g,d){for(var m,v=0;v<e.length;v++){var S=e[v];if(S.type==g){m=S;break}}m||(m={type:g,rules:[]},e.push(m));var h={keyword:u,definition:d,custom:!0,code:ov,implements:d.implements};m.rules.push(h),e.custom[u]=h}return this}function cv(t){var r=this.RULES.custom[t];return r?r.definition:this.RULES.keywords[t]||!1}function uv(t){var r=this.RULES;delete r.keywords[t],delete r.all[t],delete r.custom[t];for(var e=0;e<r.length;e++)for(var i=r[e].rules,a=0;a<i.length;a++)if(i[a].keyword==t){i.splice(a,1);break}return this}function Zi(t,r){Zi.errors=null;var e=this._validateKeyword=this._validateKeyword||this.compile(fv,!0);if(e(t))return!0;if(Zi.errors=e.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(e.errors));return!1}});var Cl=Y((qP,pv)=>{pv.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Ul=Y((MP,kl)=>{"use strict";var Fl=cf(),Ft=ds(),mv=pf(),Tl=qi(),hv=Hi(),dv=$f(),vv=gl(),Nl=Sl(),jl=Ot();kl.exports=Xe;Xe.prototype.validate=yv;Xe.prototype.compile=Ev;Xe.prototype.addSchema=Sv;Xe.prototype.addMetaSchema=Pv;Xe.prototype.validateSchema=wv;Xe.prototype.getSchema=$v;Xe.prototype.removeSchema=_v;Xe.prototype.addFormat=Tv;Xe.prototype.errorsText=Fv;Xe.prototype._addSchema=Dv;Xe.prototype._compile=Rv;Xe.prototype.compileAsync=bl();var $s=Al();Xe.prototype.addKeyword=$s.add;Xe.prototype.getKeyword=$s.get;Xe.prototype.removeKeyword=$s.remove;Xe.prototype.validateKeyword=$s.validate;var Ll=vs();Xe.ValidationError=Ll.Validation;Xe.MissingRefError=Ll.MissingRef;Xe.$dataMetaSchema=Nl;var bs="http://json-schema.org/draft-07/schema",Ol=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],gv=["/properties"];function Xe(t){if(!(this instanceof Xe))return new Xe(t);t=this._opts=jl.copy(t)||{},Mv(this),this._schemas={},this._refs={},this._fragments={},this._formats=dv(t.format),this._cache=t.cache||new mv,this._loadingSchemas={},this._compilations=[],this.RULES=vv(),this._getId=xv(t),t.loopRequired=t.loopRequired||1/0,t.errorDataPath=="property"&&(t._errorDataPathProperty=!0),t.serialize===void 0&&(t.serialize=hv),this._metaOpts=qv(this),t.formats&&Lv(this),Nv(this),typeof t.meta=="object"&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),jv(this)}function yv(t,r){var e;if(typeof t=="string"){if(e=this.getSchema(t),!e)throw new Error('no schema with key or ref "'+t+'"')}else{var i=this._addSchema(t);e=i.validate||this._compile(i)}var a=e(r);return e.$async!==!0&&(this.errors=e.errors),a}function Ev(t,r){var e=this._addSchema(t,void 0,r);return e.validate||this._compile(e)}function Sv(t,r,e,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)this.addSchema(t[a],void 0,e,i);return this}var o=this._getId(t);if(o!==void 0&&typeof o!="string")throw new Error("schema id must be string");return r=Ft.normalizeId(r||o),Ml(this,r),this._schemas[r]=this._addSchema(t,e,i,!0),this}function Pv(t,r,e){return this.addSchema(t,r,e,!0),this}function wv(t,r){var e=t.$schema;if(e!==void 0&&typeof e!="string")throw new Error("$schema must be a string");if(e=e||this._opts.defaultMeta||bv(this),!e)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var i=this.validate(e,t);if(!i&&r){var a="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(a);else throw new Error(a)}return i}function bv(t){var r=t._opts.meta;return t._opts.defaultMeta=typeof r=="object"?t._getId(r)||r:t.getSchema(bs)?bs:void 0,t._opts.defaultMeta}function $v(t){var r=ql(this,t);switch(typeof r){case"object":return r.validate||this._compile(r);case"string":return this.getSchema(r);case"undefined":return Iv(this,t)}}function Iv(t,r){var e=Ft.schema.call(t,{schema:{}},r);if(e){var i=e.schema,a=e.root,o=e.baseId,l=Fl.call(t,i,a,void 0,o);return t._fragments[r]=new Tl({ref:r,fragment:!0,schema:i,root:a,baseId:o,validate:l}),l}}function ql(t,r){return r=Ft.normalizeId(r),t._schemas[r]||t._refs[r]||t._fragments[r]}function _v(t){if(t instanceof RegExp)return ws(this,this._schemas,t),ws(this,this._refs,t),this;switch(typeof t){case"undefined":return ws(this,this._schemas),ws(this,this._refs),this._cache.clear(),this;case"string":var r=ql(this,t);return r&&this._cache.del(r.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var e=this._opts.serialize,i=e?e(t):t;this._cache.del(i);var a=this._getId(t);a&&(a=Ft.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this}function ws(t,r,e){for(var i in r){var a=r[i];!a.meta&&(!e||e.test(i))&&(t._cache.del(a.cacheKey),delete r[i])}}function Dv(t,r,e,i){if(typeof t!="object"&&typeof t!="boolean")throw new Error("schema should be object or boolean");var a=this._opts.serialize,o=a?a(t):t,l=this._cache.get(o);if(l)return l;i=i||this._opts.addUsedSchema!==!1;var u=Ft.normalizeId(this._getId(t));u&&i&&Ml(this,u);var g=this._opts.validateSchema!==!1&&!r,d;g&&!(d=u&&u==Ft.normalizeId(t.$schema))&&this.validateSchema(t,!0);var m=Ft.ids.call(this,t),v=new Tl({id:u,schema:t,localRefs:m,cacheKey:o,meta:e});return u[0]!="#"&&i&&(this._refs[u]=v),this._cache.put(o,v),g&&d&&this.validateSchema(t,!0),v}function Rv(t,r){if(t.compiling)return t.validate=a,a.schema=t.schema,a.errors=null,a.root=r||a,t.schema.$async===!0&&(a.$async=!0),a;t.compiling=!0;var e;t.meta&&(e=this._opts,this._opts=this._metaOpts);var i;try{i=Fl.call(this,t.schema,r,t.localRefs)}catch(o){throw delete t.validate,o}finally{t.compiling=!1,t.meta&&(this._opts=e)}return t.validate=i,t.refs=i.refs,t.refVal=i.refVal,t.root=i.root,i;function a(){var o=t.validate,l=o.apply(this,arguments);return a.errors=o.errors,l}}function xv(t){switch(t.schemaId){case"auto":return Ov;case"id":return Av;default:return Cv}}function Av(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function Cv(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function Ov(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function Fv(t,r){if(t=t||this.errors,!t)return"No errors";r=r||{};for(var e=r.separator===void 0?", ":r.separator,i=r.dataVar===void 0?"data":r.dataVar,a="",o=0;o<t.length;o++){var l=t[o];l&&(a+=i+l.dataPath+" "+l.message+e)}return a.slice(0,-e.length)}function Tv(t,r){return typeof r=="string"&&(r=new RegExp(r)),this._formats[t]=r,this}function Nv(t){var r;if(t._opts.$data&&(r=Cl(),t.addMetaSchema(r,r.$id,!0)),t._opts.meta!==!1){var e=Xi();t._opts.$data&&(e=Nl(e,gv)),t.addMetaSchema(e,bs,!0),t._refs["http://json-schema.org/schema"]=bs}}function jv(t){var r=t._opts.schemas;if(r)if(Array.isArray(r))t.addSchema(r);else for(var e in r)t.addSchema(r[e],e)}function Lv(t){for(var r in t._opts.formats){var e=t._opts.formats[r];t.addFormat(r,e)}}function Ml(t,r){if(t._schemas[r]||t._refs[r])throw new Error('schema with key or id "'+r+'" already exists')}function qv(t){for(var r=jl.copy(t._opts),e=0;e<Ol.length;e++)delete r[Ol[e]];return r}function Mv(t){var r=t._opts.logger;if(r===!1)t.logger={log:en,warn:en,error:en};else{if(r===void 0&&(r=console),!(typeof r=="object"&&r.log&&r.warn&&r.error))throw new Error("logger must implement log, warn and error methods");t.logger=r}}function en(){}});var Hl=Y((UP,kv)=>{kv.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},examples:{type:"array",items:{}},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}}});var Jl=Y((VP,Ql)=>{var Is=require("assert"),Bv=require("stream").Stream,zv=require("util"),Hv=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/;function rn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function vt(t,r,e,i,a){throw new Is.AssertionError({message:zv.format("%s (%s) is required",t,r),actual:a===void 0?typeof i:a(i),expected:r,operator:e||"===",stackStartFunction:vt.caller})}function tn(t){return Object.prototype.toString.call(t).slice(8,-1)}function sa(){}var wa={bool:{check:function(t){return typeof t=="boolean"}},func:{check:function(t){return typeof t=="function"}},string:{check:function(t){return typeof t=="string"}},object:{check:function(t){return typeof t=="object"&&t!==null}},number:{check:function(t){return typeof t=="number"&&!isNaN(t)}},finite:{check:function(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}},buffer:{check:function(t){return Buffer.isBuffer(t)},operator:"Buffer.isBuffer"},array:{check:function(t){return Array.isArray(t)},operator:"Array.isArray"},stream:{check:function(t){return t instanceof Bv},operator:"instanceof",actual:tn},date:{check:function(t){return t instanceof Date},operator:"instanceof",actual:tn},regexp:{check:function(t){return t instanceof RegExp},operator:"instanceof",actual:tn},uuid:{check:function(t){return typeof t=="string"&&Hv.test(t)},operator:"isUUID"}};function Kl(t){var r=Object.keys(wa),e;return process.env.NODE_NDEBUG?e=sa:e=function(i,a){i||vt(a,"true",i)},r.forEach(function(i){if(t){e[i]=sa;return}var a=wa[i];e[i]=function(o,l){a.check(o)||vt(l,i,a.operator,o,a.actual)}}),r.forEach(function(i){var a="optional"+rn(i);if(t){e[a]=sa;return}var o=wa[i];e[a]=function(l,u){l!=null&&(o.check(l)||vt(u,i,o.operator,l,o.actual))}}),r.forEach(function(i){var a="arrayOf"+rn(i);if(t){e[a]=sa;return}var o=wa[i],l="["+i+"]";e[a]=function(u,g){Array.isArray(u)||vt(g,l,o.operator,u,o.actual);var d;for(d=0;d<u.length;d++)o.check(u[d])||vt(g,l,o.operator,u,o.actual)}}),r.forEach(function(i){var a="optionalArrayOf"+rn(i);if(t){e[a]=sa;return}var o=wa[i],l="["+i+"]";e[a]=function(u,g){if(u!=null){Array.isArray(u)||vt(g,l,o.operator,u,o.actual);var d;for(d=0;d<u.length;d++)o.check(u[d])||vt(g,l,o.operator,u,o.actual)}}}),Object.keys(Is).forEach(function(i){if(i==="AssertionError"){e[i]=Is[i];return}if(t){e[i]=sa;return}e[i]=Is[i]}),e._setExports=Kl,e}Ql.exports=Kl(process.env.NODE_NDEBUG)});var Xl=Y(_s=>{var $a=require("assert"),Vv=require("util");_s.sprintf=sn;_s.printf=Gv;_s.fprintf=Wl;function sn(t){var r=["([^%]*)","%","(['\\-+ #0]*?)","([1-9]\\d*)?","(\\.([1-9]\\d*))?","[lhjztL]*?","([diouxXfFeEgGaAcCsSp%jr])"].join(""),e=new RegExp(r),i=Array.prototype.slice.call(arguments,1),a=t,o,l,u,g,d,m,v,S,h,w="",_=1,I=0,O,k;for($a.equal("string",typeof a,"first argument must be a format string");(h=e.exec(a))!==null;){if(w+=h[1],a=a.substring(h[0].length),k=h[0].substring(h[1].length),O=I+h[1].length+1,I+=h[0].length,o=h[2]||"",l=h[3]||0,u=h[4]||"",g=h[6],d=!1,v=!1,m=" ",g=="%"){w+="%";continue}if(i.length===0)throw ba(t,O,k,"has no matching argument (too few arguments passed)");if(S=i.shift(),_++,o.match(/[\' #]/))throw ba(t,O,k,"uses unsupported flags");if(u.length>0)throw ba(t,O,k,"uses non-zero precision (not supported)");switch(o.match(/-/)&&(d=!0),o.match(/0/)&&(m="0"),o.match(/\+/)&&(v=!0),g){case"s":if(S==null)throw ba(t,O,k,"attempted to print undefined or null as a string (argument "+_+" to sprintf)");w+=an(m,l,d,S.toString());break;case"d":S=Math.floor(S);case"f":v=v&&S>0?"+":"",w+=v+an(m,l,d,S.toString());break;case"x":w+=an(m,l,d,S.toString(16));break;case"j":l===0&&(l=10),w+=Vv.inspect(S,!1,l);break;case"r":w+=Yl(S);break;default:throw ba(t,O,k,"is not supported")}}return w+=a,w}function ba(t,r,e,i){return $a.equal(typeof t,"string"),$a.equal(typeof e,"string"),$a.equal(typeof r,"number"),$a.equal(typeof i,"string"),new Error('format string "'+t+'": conversion specifier "'+e+'" at character '+r+" "+i)}function Gv(){var t=Array.prototype.slice.call(arguments);t.unshift(process.stdout),Wl.apply(null,t)}function Wl(t){var r=Array.prototype.slice.call(arguments,1);return t.write(sn.apply(this,r))}function an(t,r,e,i){for(var a=i;a.length<r;)e?a+=t:a=t+a;return a}function Yl(t){var r;if(!(t instanceof Error))throw new Error(sn("invalid type for %%r: %j",t));if(r="EXCEPTION: "+t.constructor.name+": "+t.stack,t.cause&&typeof t.cause=="function"){var e=t.cause();e&&(r+=`
Caused by: `+Yl(e))}return r}});var Zl=Y(gr=>{function Kv(t){return Array.isArray?Array.isArray(t):Ds(t)==="[object Array]"}gr.isArray=Kv;function Qv(t){return typeof t=="boolean"}gr.isBoolean=Qv;function Jv(t){return t===null}gr.isNull=Jv;function Wv(t){return t==null}gr.isNullOrUndefined=Wv;function Yv(t){return typeof t=="number"}gr.isNumber=Yv;function Xv(t){return typeof t=="string"}gr.isString=Xv;function Zv(t){return typeof t=="symbol"}gr.isSymbol=Zv;function eg(t){return t===void 0}gr.isUndefined=eg;function rg(t){return Ds(t)==="[object RegExp]"}gr.isRegExp=rg;function tg(t){return typeof t=="object"&&t!==null}gr.isObject=tg;function ag(t){return Ds(t)==="[object Date]"}gr.isDate=ag;function sg(t){return Ds(t)==="[object Error]"||t instanceof Error}gr.isError=sg;function ig(t){return typeof t=="function"}gr.isFunction=ig;function ng(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}gr.isPrimitive=ng;gr.isBuffer=Buffer.isBuffer;function Ds(t){return Object.prototype.toString.call(t)}});var on=Y((QP,ec)=>{var sr=Jl(),Rs=require("util"),og=Xl(),jr=Zl().isError,fg=og.sprintf;ec.exports=Re;Re.VError=Re;Re.SError=Ia;Re.WError=gt;Re.MultiError=ia;function nn(t){var r,e,i,a,o;if(sr.object(t,"args"),sr.bool(t.strict,"args.strict"),sr.array(t.argv,"args.argv"),r=t.argv,r.length===0)e={},i=[];else if(jr(r[0]))e={cause:r[0]},i=r.slice(1);else if(typeof r[0]=="object"){e={};for(o in r[0])e[o]=r[0][o];i=r.slice(1)}else sr.string(r[0],"first argument to VError, SError, or WError constructor must be a string, object, or Error"),e={},i=r;return sr.object(e),!e.strict&&!t.strict&&(i=i.map(function(l){return l===null?"null":l===void 0?"undefined":l})),i.length===0?a="":a=fg.apply(null,i),{options:e,shortmessage:a}}function Re(){var t,r,e,i,a,o,l;if(t=Array.prototype.slice.call(arguments,0),!(this instanceof Re))return r=Object.create(Re.prototype),Re.apply(r,arguments),r;if(e=nn({argv:t,strict:!1}),e.options.name&&(sr.string(e.options.name,`error's "name" must be a string`),this.name=e.options.name),this.jse_shortmsg=e.shortmessage,o=e.shortmessage,i=e.options.cause,i&&(sr.ok(jr(i),"cause is not an Error"),this.jse_cause=i,e.options.skipCauseMessage||(o+=": "+i.message)),this.jse_info={},e.options.info)for(l in e.options.info)this.jse_info[l]=e.options.info[l];return this.message=o,Error.call(this,o),Error.captureStackTrace&&(a=e.options.constructorOpt||this.constructor,Error.captureStackTrace(this,a)),this}Rs.inherits(Re,Error);Re.prototype.name="VError";Re.prototype.toString=function(){var r=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=": "+this.message),r};Re.prototype.cause=function(){var r=Re.cause(this);return r===null?void 0:r};Re.cause=function(t){return sr.ok(jr(t),"err must be an Error"),jr(t.jse_cause)?t.jse_cause:null};Re.info=function(t){var r,e,i;if(sr.ok(jr(t),"err must be an Error"),e=Re.cause(t),e!==null?r=Re.info(e):r={},typeof t.jse_info=="object"&&t.jse_info!==null)for(i in t.jse_info)r[i]=t.jse_info[i];return r};Re.findCauseByName=function(t,r){var e;for(sr.ok(jr(t),"err must be an Error"),sr.string(r,"name"),sr.ok(r.length>0,"name cannot be empty"),e=t;e!==null;e=Re.cause(e))if(sr.ok(jr(e)),e.name==r)return e;return null};Re.hasCauseWithName=function(t,r){return Re.findCauseByName(t,r)!==null};Re.fullStack=function(t){sr.ok(jr(t),"err must be an Error");var r=Re.cause(t);return r?t.stack+`
caused by: `+Re.fullStack(r):t.stack};Re.errorFromList=function(t){return sr.arrayOfObject(t,"errors"),t.length===0?null:(t.forEach(function(r){sr.ok(jr(r))}),t.length==1?t[0]:new ia(t))};Re.errorForEach=function(t,r){sr.ok(jr(t),"err must be an Error"),sr.func(r,"func"),t instanceof ia?t.errors().forEach(function(i){r(i)}):r(t)};function Ia(){var t,r,e,i;return t=Array.prototype.slice.call(arguments,0),this instanceof Ia?(e=nn({argv:t,strict:!0}),i=e.options,Re.call(this,i,"%s",e.shortmessage),this):(r=Object.create(Ia.prototype),Ia.apply(r,arguments),r)}Rs.inherits(Ia,Re);function ia(t){sr.array(t,"list of errors"),sr.ok(t.length>0,"must be at least one error"),this.ase_errors=t,Re.call(this,{cause:t[0]},"first of %d error%s",t.length,t.length==1?"":"s")}Rs.inherits(ia,Re);ia.prototype.name="MultiError";ia.prototype.errors=function(){return this.ase_errors.slice(0)};function gt(){var t,r,e,i;return t=Array.prototype.slice.call(arguments,0),this instanceof gt?(e=nn({argv:t,strict:!1}),i=e.options,i.skipCauseMessage=!0,Re.call(this,i,"%s",e.shortmessage),this):(r=Object.create(gt.prototype),gt.apply(r,t),r)}Rs.inherits(gt,Re);gt.prototype.name="WError";gt.prototype.toString=function(){var r=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=": "+this.message),this.jse_cause&&this.jse_cause.message&&(r+="; caused by "+this.jse_cause.toString()),r};gt.prototype.cause=function(r){return jr(r)&&(this.jse_cause=r),this.jse_cause}});var gc=Y((ew,vc)=>{"use strict";function Sg(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function Nt(t,r,e,i){this.message=t,this.expected=r,this.found=e,this.location=i,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Nt)}Sg(Nt,Error);Nt.buildMessage=function(t,r){var e={literal:function(d){return'"'+a(d.text)+'"'},class:function(d){var m="",v;for(v=0;v<d.parts.length;v++)m+=d.parts[v]instanceof Array?o(d.parts[v][0])+"-"+o(d.parts[v][1]):o(d.parts[v]);return"["+(d.inverted?"^":"")+m+"]"},any:function(d){return"any character"},end:function(d){return"end of input"},other:function(d){return d.description}};function i(d){return d.charCodeAt(0).toString(16).toUpperCase()}function a(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+i(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+i(m)})}function o(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+i(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+i(m)})}function l(d){return e[d.type](d)}function u(d){var m=new Array(d.length),v,S;for(v=0;v<d.length;v++)m[v]=l(d[v]);if(m.sort(),m.length>0){for(v=1,S=1;v<m.length;v++)m[v-1]!==m[v]&&(m[S]=m[v],S++);m.length=S}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function g(d){return d?'"'+a(d)+'"':"end of input"}return"Expected "+u(t)+" but "+g(r)+" found."};function Pg(t,r){r=r!==void 0?r:{};var e={},i={InputFile:wo,ReactionsFile:Rh,ThermodynamicDataFile:Nh},a=wo,o=pr("whitespace"),l=/^[ \t]/,u=lt([" ","	"],!1,!1),g=pr("auxiliary data"),d=function(s,f){return f},m=function(s,f){return f?[s,...f]:[s]},v=pr("auxiliary keyword"),S="/",h=Ee("/",!1),w=function(s,f,p){return p},_=function(s,f,p){return{type:s,parameters:[f,...p]}},I=function(s){return{type:s,parameters:[]}},O=pr("comment"),k="!",q=Ee("!",!1),K=function(s){return s},Z=/^[0-9]/,X=lt([["0","9"]],!1,!1),H="elements",G=Ee("ELEMENTS",!0),M="elem",re=Ee("ELEM",!0),ae=function(s,f){return f},ee=function(s,f){return f.reduce((c,y)=>c.concat(y),s)},B=function(s,f){return f},V=function(s,f){let p={name:s};return f&&(p.atomicWeight=f),p},se=function(s){return s},de=function(s){return s},we=/^[A-Z]/i,ve=lt([["A","Z"]],!1,!0),le=pr("end of line"),ye="\r",Ue=Ee("\r",!1),Ze=`
`,Be=Ee(`
`,!1),xe="end",Je=Ee("END",!0),Qe="e",dr=Ee("E",!0),ze="+",Le=Ee("+",!1),fr="-",lr=Ee("-",!1),Ae=pr("fall-off species"),Te="(",er=Ee("(",!1),Dr=function(s){return s.nu===void 0},mr=")",Pr=Ee(")",!1),nr=function(s){return s},x=".",Ie=Ee(".",!1),He=function(s,f,p,c){return{elements:s,species:f,thermo:jh(p,[]),reactions:c}},rr=function(){return Xt().trim()},or=function(s){let[f,p]=s.split(/ +/);return!p||p==0?null:Lh(p)?{atom:f,count:parseInt(p)}:di("atom count")},pe=function(){return Xt().toUpperCase()},cr=pr("polynomial block"),vr=/^[ 0-9]/,tr=lt([" ",["0","9"]],!1,!1),Or=function(s,f,p,c){return s.coefficients.high=[...f,p[0],p[1]],s.coefficients.low=[...p.slice(2),...c],s.location=mo(),s},tt=function(s,f,p,c,y,P,C,N,z,J){let fe={};return f&&(fe[f.atom]=f.count),p&&(fe[p.atom]=p.count),c&&(fe[c.atom]=c.count),y&&(fe[y.atom]=y.count),J&&(fe[J.atom]=J.count),{composition:fe,phase:P,type:"NASA7",name:s.name,comment:s.comment,coefficients:{range:{low:C,high:N,common:z}}}},ur=function(s){return s},Ht=function(){let[s,...f]=Xt().split(" ");return{name:s,comment:f.join(" ").trim()}},Vr=pr("number"),wr=function(){return parseFloat(Xt())},br=function(){return Xt()},at=function(s){return qh(s)},Fr=function(s){return Mh(s)},Ce=function(s){return s},va=pr("reactant"),Vt=function(s,f){return s?{name:f,nu:s}:{name:f}},$r=pr("stoichiometric coefficient"),Ga=function(){return parseFloat(Xt())},We=function(s,f){return f},st=function(s,f){return f.fallOff=!0,f},qr=function(s,f){return[s,...f]},Gt=function(s,f,p){return p},ga=function(s,f,p){return s.coefficients=f,s.location=mo(),s.auxiliaryData=[...s.auxiliaryData,...p||[]],s},Gr="reactions",Kt=Ee("REACTIONS",!0),Qt=function(s,f,p){return[s,f,p]},D=function(s){return s},b=function(s,f){return f},R=lh(),j=function(s,f){return{options:s||[],list:f}},T=pr("reactions default"),ne="cal/mole",ge=Ee("CAL/MOLE",!0),$e="kcal/mole",De=Ee("KCAL/MOLE",!0),je="joules/mole",ce=Ee("JOULES/MOLE",!0),Ne="kjoules/mole",qe=Ee("KJOULES/MOLE",!0),ke="evolts",_e=Ee("EVOLTS",!0),Me="kelvins",E=Ee("KELVINS",!0),$="moles",F=Ee("MOLES",!0),L="molecules",W=Ee("MOLECULES",!0),ie="mwoff",me=Ee("MWOFF",!0),ue="mwon",Pe=Ee("MWON",!0),Se=pr("reaction units"),ar=function(s,f){return f},Jt=function(s,f){return f?[s,...f]:[s]},Kr="=>",Qr=Ee("=>",!1),Tr="<=>",xr=Ee("<=>",!1),Jr="=",Wt=Ee("=",!1),Wr=function(s,f,p){return{reactants:s,products:p,reversible:f!=="=>",auxiliaryData:[]}},li=function(s,f,p,c,y){return(f.type!==y.type||f.name!==y.name)&&di("Fall off species do not match"),{reactants:s,products:c,reversible:p!=="=>",auxiliaryData:[{type:"fall_off_species",parameters:[f.name||"M"]}]}},ci=function(s,f){return{sites:s,reactions:f}},Ka=pr("reserved keyword"),Dt="sden",Rt=Ee("SDEN",!0),Qa="site",xt=Ee("SITE",!0),ui=function(s){return s},Ja=function(s,f,p){return{name:s,density:f,species:p}},Wa=function(s,f){return f},Nr=function(s,f){return[s,...f]},it="species",ya=Ee("SPECIES",!0),Yt="spec",nt=Ee("SPEC",!0),ro=/^[^+=\/!(){}[\]<>\t\n\r ]/,ot=lt(["+","=","/","!","(",")","{","}","[","]","<",">","	",`
`,"\r"," "],!0,!1),ft="(+)",Ya=Ee("(+)",!1),pi=function(s){return s},Xa=function(s){return s},mi=function(s,f){return f&&s.push(f),s},to=pr("species name"),ao=/^[0-9\-]/,so=lt([["0","9"],"-"],!1,!1),io="[",no=Ee("[",!1),oo="]",fo=Ee("]",!1),km="{",Um=Ee("{",!1),Bm="}",zm=Ee("}",!1),Hm="<",Vm=Ee("<",!1),Gm=">",Km=Ee(">",!1),Qm=pr("string"),lo=/^[^\t\/ ]/,co=lt(["	","/"," "],!0,!1),Jm="thermo",Wm=Ee("THERMO",!0),Ym="ther",Xm=Ee("THER",!0),Zm=function(s){return s},eh=function(s,f){return s&&(f.range=s),f},uo="all",po=Ee("ALL",!0),rh=function(s){return s},th=function(s){return s},ah=function(s,f){return{range:s,entries:f}},sh=pr("default temperature declaration"),ih=function(s,f,p){return{low:s,common:f,high:p}},nh=pr("any char"),oh=/^[^\n]/,fh=lt([`
`],!0,!1),n=0,te=0,Za=[{line:1,column:1}],Mr=0,hi=[],A=0,es;if("startRule"in r){if(!(r.startRule in i))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');a=i[r.startRule]}function Xt(){return t.substring(te,n)}function mo(){return Ea(te,n)}function di(s,f){throw f=f!==void 0?f:Ea(te,n),vo([pr(s)],t.substring(te,n),f)}function HS(s,f){throw f=f!==void 0?f:Ea(te,n),uh(s,f)}function Ee(s,f){return{type:"literal",text:s,ignoreCase:f}}function lt(s,f,p){return{type:"class",parts:s,inverted:f,ignoreCase:p}}function lh(){return{type:"any"}}function ch(){return{type:"end"}}function pr(s){return{type:"other",description:s}}function ho(s){var f=Za[s],p;if(f)return f;for(p=s-1;!Za[p];)p--;for(f=Za[p],f={line:f.line,column:f.column};p<s;)t.charCodeAt(p)===10?(f.line++,f.column=1):f.column++,p++;return Za[s]=f,f}function Ea(s,f){var p=ho(s),c=ho(f);return{start:{offset:s,line:p.line,column:p.column},end:{offset:f,line:c.line,column:c.column}}}function U(s){n<Mr||(n>Mr&&(Mr=n,hi=[]),hi.push(s))}function uh(s,f){return new Nt(s,null,null,f)}function vo(s,f,p){return new Nt(Nt.buildMessage(s,f),s,f,p)}function Q(){var s,f;if(A++,s=[],l.test(t.charAt(n))?(f=t.charAt(n),n++):(f=e,A===0&&U(u)),f!==e)for(;f!==e;)s.push(f),l.test(t.charAt(n))?(f=t.charAt(n),n++):(f=e,A===0&&U(u));else s=e;return A--,s===e&&(f=e,A===0&&U(o)),s}function Oe(){var s,f;if(A++,s=[],f=be(),f===e&&(f=Q()),f!==e)for(;f!==e;)s.push(f),f=be(),f===e&&(f=Q());else s=e;return A--,s===e&&(f=e,A===0&&U(o)),s}function go(){var s,f,p,c,y,P,C;if(A++,s=n,f=n,A++,p=xo(),A--,p===e?f=void 0:(n=f,f=e),f!==e){for(p=[],c=Q();c!==e;)p.push(c),c=Q();if(p!==e)if(c=ph(),c!==e){for(y=n,P=[],C=be();C!==e;)P.push(C),C=be();if(P!==e?(C=go(),C!==e?(te=y,P=d(c,C),y=P):(n=y,y=e)):(n=y,y=e),y===e&&(y=null),y!==e){for(P=[],C=Q();C!==e;)P.push(C),C=Q();P!==e?(te=s,f=m(c,y),s=f):(n=s,s=e)}else n=s,s=e}else n=s,s=e;else n=s,s=e}else n=s,s=e;return A--,s===e&&(f=e,A===0&&U(g)),s}function yo(){var s,f;return A++,s=as(),A--,s===e&&(f=e,A===0&&U(v)),s}function ph(){var s,f,p,c,y,P,C,N,z,J;if(s=n,f=n,p=yo(),p!==e?f=t.substring(f,n):f=p,f!==e){for(p=[],c=Q();c!==e;)p.push(c),c=Q();if(p!==e)if(t.charCodeAt(n)===47?(c=S,n++):(c=e,A===0&&U(h)),c!==e){for(y=[],P=Q();P!==e;)y.push(P),P=Q();if(y!==e)if(P=ss(),P!==e){for(C=[],N=n,z=Q(),z!==e?(J=ss(),J!==e?(te=N,z=w(f,P,J),N=z):(n=N,N=e)):(n=N,N=e);N!==e;)C.push(N),N=n,z=Q(),z!==e?(J=ss(),J!==e?(te=N,z=w(f,P,J),N=z):(n=N,N=e)):(n=N,N=e);if(C!==e){for(N=[],z=Q();z!==e;)N.push(z),z=Q();N!==e?(t.charCodeAt(n)===47?(z=S,n++):(z=e,A===0&&U(h)),z!==e?(te=s,f=_(f,P,C),s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e}else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e}else n=s,s=e;return s===e&&(s=n,f=n,p=yo(),p!==e?f=t.substring(f,n):f=p,f!==e&&(te=s,f=I(f)),s=f),s}function mh(){var s,f,p,c;if(A++,s=n,t.charCodeAt(n)===33?(f=k,n++):(f=e,A===0&&U(q)),f!==e){for(p=[],c=oe();c!==e;)p.push(c),c=oe();p!==e?(te=s,f=K(p),s=f):(n=s,s=e)}else n=s,s=e;return A--,s===e&&(f=e,A===0&&U(O)),s}function ct(){var s;return Z.test(t.charAt(n))?(s=t.charAt(n),n++):(s=e,A===0&&U(X)),s}function Eo(){var s;return t.substr(n,8).toLowerCase()===H?(s=t.substr(n,8),n+=8):(s=e,A===0&&U(G)),s===e&&(t.substr(n,4).toLowerCase()===M?(s=t.substr(n,4),n+=4):(s=e,A===0&&U(re))),s}function hh(){var s,f,p,c,y,P;if(s=n,f=vi(),f!==e){for(p=[],c=n,y=Oe(),y!==e?(P=vi(),P!==e?(te=c,y=ae(f,P),c=y):(n=c,c=e)):(n=c,c=e);c!==e;)p.push(c),c=n,y=Oe(),y!==e?(P=vi(),P!==e?(te=c,y=ae(f,P),c=y):(n=c,c=e)):(n=c,c=e);p!==e?(te=s,f=ee(f,p),s=f):(n=s,s=e)}else n=s,s=e;return s}function So(){var s,f,p,c,y,P,C,N,z;if(s=n,f=dh(),f!==e){for(p=n,c=[],y=Q();y!==e;)c.push(y),y=Q();if(c!==e)if(t.charCodeAt(n)===47?(y=S,n++):(y=e,A===0&&U(h)),y!==e){for(P=[],C=Q();C!==e;)P.push(C),C=Q();if(P!==e)if(C=ut(),C!==e){for(N=[],z=Q();z!==e;)N.push(z),z=Q();N!==e?(t.charCodeAt(n)===47?(z=S,n++):(z=e,A===0&&U(h)),z!==e?(te=p,c=B(f,C),p=c):(n=p,p=e)):(n=p,p=e)}else n=p,p=e;else n=p,p=e}else n=p,p=e;else n=p,p=e;p===e&&(p=null),p!==e?(te=s,f=V(f,p),s=f):(n=s,s=e)}else n=s,s=e;return s}function vi(){var s,f,p,c,y,P;if(s=n,f=Eo(),f!==e){for(p=[],c=n,y=Oe(),y!==e?(P=So(),P!==e?(te=c,y=se(P),c=y):(n=c,c=e)):(n=c,c=e);c!==e;)p.push(c),c=n,y=Oe(),y!==e?(P=So(),P!==e?(te=c,y=se(P),c=y):(n=c,c=e)):(n=c,c=e);p!==e?(c=n,y=Oe(),y!==e?(P=At(),P!==e?(y=[y,P],c=y):(n=c,c=e)):(n=c,c=e),c===e&&(c=null),c!==e?(te=s,f=de(p),s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;return s}function dh(){var s,f,p,c,y;return s=n,f=n,p=n,A++,c=Zt(),A--,c===e?p=void 0:(n=p,p=e),p!==e?(we.test(t.charAt(n))?(c=t.charAt(n),n++):(c=e,A===0&&U(ve)),c!==e?(we.test(t.charAt(n))?(y=t.charAt(n),n++):(y=e,A===0&&U(ve)),y===e&&(y=null),y!==e?(p=[p,c,y],f=p):(n=f,f=e)):(n=f,f=e)):(n=f,f=e),f!==e?s=t.substring(s,n):s=f,s}function be(){var s,f,p,c,y;for(A++,s=n,f=[],l.test(t.charAt(n))?(p=t.charAt(n),n++):(p=e,A===0&&U(u));p!==e;)f.push(p),l.test(t.charAt(n))?(p=t.charAt(n),n++):(p=e,A===0&&U(u));return f!==e?(p=mh(),p===e&&(p=null),p!==e?(t.charCodeAt(n)===13?(c=ye,n++):(c=e,A===0&&U(Ue)),c===e&&(c=null),c!==e?(t.charCodeAt(n)===10?(y=Ze,n++):(y=e,A===0&&U(Be)),y!==e?(f=[f,p,c,y],s=f):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e),A--,s===e&&(f=e,A===0&&U(le)),s}function At(){var s;return t.substr(n,3).toLowerCase()===xe?(s=t.substr(n,3),n+=3):(s=e,A===0&&U(Je)),s}function vh(){var s,f,p,c,y;if(s=n,t.substr(n,1).toLowerCase()===Qe?(f=t.charAt(n),n++):(f=e,A===0&&U(dr)),f!==e)if(t.charCodeAt(n)===43?(p=ze,n++):(p=e,A===0&&U(Le)),p===e&&(t.charCodeAt(n)===45?(p=fr,n++):(p=e,A===0&&U(lr))),p===e&&(p=null),p!==e){if(c=[],y=ct(),y!==e)for(;y!==e;)c.push(y),y=ct();else c=e;c!==e?(f=[f,p,c],s=f):(n=s,s=e)}else n=s,s=e;else n=s,s=e;return s}function Po(){var s,f,p,c,y,P,C,N,z;if(A++,s=n,t.charCodeAt(n)===40?(f=Te,n++):(f=e,A===0&&U(er)),f!==e){for(p=[],c=Q();c!==e;)p.push(c),c=Q();if(p!==e)if(t.charCodeAt(n)===43?(c=ze,n++):(c=e,A===0&&U(Le)),c!==e){for(y=[],P=Q();P!==e;)y.push(P),P=Q();if(y!==e)if(P=pt(),P!==e)if(te=n,C=Dr(P),C?C=void 0:C=e,C!==e){for(N=[],z=Q();z!==e;)N.push(z),z=Q();N!==e?(t.charCodeAt(n)===41?(z=mr,n++):(z=e,A===0&&U(Pr)),z!==e?(te=s,f=nr(P),s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e}else n=s,s=e;return A--,s===e&&(f=e,A===0&&U(Ae)),s}function rs(){var s,f,p,c;if(s=n,t.charCodeAt(n)===46?(f=x,n++):(f=e,A===0&&U(Ie)),f!==e){for(p=[],c=ct();c!==e;)p.push(c),c=ct();p!==e?(f=[f,p],s=f):(n=s,s=e)}else n=s,s=e;return s}function wo(){var s,f,p,c,y,P,C,N,z,J,fe;for(s=n,f=[],p=Oe();p!==e;)f.push(p),p=Oe();if(f!==e)if(p=hh(),p!==e){for(c=[],y=Oe();y!==e;)c.push(y),y=Oe();if(c!==e)if(y=Oh(),y!==e){for(P=[],C=Oe();C!==e;)P.push(C),C=Oe();if(P!==e)if(C=Fh(),C===e&&(C=null),C!==e){for(N=[],z=Oe();z!==e;)N.push(z),z=Oe();if(N!==e)if(z=Ro(),z!==e){for(J=[],fe=Oe();fe!==e;)J.push(fe),fe=Oe();J!==e?(te=s,f=He(p,y,C,z),s=f):(n=s,s=e)}else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e;return s}function Sa(){var s,f,p,c,y,P,C;return s=n,f=n,p=oe(),p!==e?(c=oe(),c!==e?(y=oe(),y!==e?(P=oe(),P!==e?(C=oe(),C!==e?(te=f,p=rr(),f=p):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e),f!==e&&(te=s,f=or(f)),s=f,s}function gh(){var s,f;return s=n,f=oe(),f!==e&&(te=s,f=pe()),s=f,s}function bo(){var s,f,p,c,y,P,C,N,z,J,fe,he,Ye;if(A++,s=n,f=yh(),f!==e){for(p=[],vr.test(t.charAt(n))?(c=t.charAt(n),n++):(c=e,A===0&&U(tr));c!==e;)p.push(c),vr.test(t.charAt(n))?(c=t.charAt(n),n++):(c=e,A===0&&U(tr));if(p!==e)if(c=be(),c!==e)if(y=Eh(),y!==e){for(P=[],vr.test(t.charAt(n))?(C=t.charAt(n),n++):(C=e,A===0&&U(tr));C!==e;)P.push(C),vr.test(t.charAt(n))?(C=t.charAt(n),n++):(C=e,A===0&&U(tr));if(P!==e)if(C=be(),C!==e)if(N=Sh(),N!==e){for(z=[],vr.test(t.charAt(n))?(J=t.charAt(n),n++):(J=e,A===0&&U(tr));J!==e;)z.push(J),vr.test(t.charAt(n))?(J=t.charAt(n),n++):(J=e,A===0&&U(tr));if(z!==e)if(J=be(),J!==e)if(fe=Ph(),fe!==e){for(he=[],vr.test(t.charAt(n))?(Ye=t.charAt(n),n++):(Ye=e,A===0&&U(tr));Ye!==e;)he.push(Ye),vr.test(t.charAt(n))?(Ye=t.charAt(n),n++):(Ye=e,A===0&&U(tr));he!==e?(te=s,f=Or(f,y,N,fe),s=f):(n=s,s=e)}else n=s,s=e;else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e;else n=s,s=e}else n=s,s=e;return A--,s===e&&(f=e,A===0&&U(cr)),s}function yh(){var s,f,p,c,y,P,C,N,z,J,fe,he;return s=n,f=n,A++,p=Zt(),A--,p===e?f=void 0:(n=f,f=e),f!==e?(p=wh(),p!==e?(c=Sa(),c!==e?(y=Sa(),y!==e?(P=Sa(),P!==e?(C=Sa(),C!==e?(N=gh(),N!==e?(z=$o(),z!==e?(J=$o(),J!==e?(fe=bh(),fe===e&&(fe=null),fe!==e?(he=Sa(),he===e&&(he=null),he!==e?(te=s,f=tt(p,c,y,P,C,N,z,J,fe,he),s=f):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e),s}function Eh(){var s,f,p,c,y,P,C,N;return s=n,f=n,A++,p=Zt(),A--,p===e?f=void 0:(n=f,f=e),f!==e?(p=n,c=Er(),c!==e?(y=Er(),y!==e?(P=Er(),P!==e?(C=Er(),C!==e?(N=Er(),N!==e?(c=[c,y,P,C,N],p=c):(n=p,p=e)):(n=p,p=e)):(n=p,p=e)):(n=p,p=e)):(n=p,p=e),p!==e?(te=s,f=ur(p),s=f):(n=s,s=e)):(n=s,s=e),s}function Sh(){var s,f,p,c,y,P,C,N;return s=n,f=n,A++,p=Zt(),A--,p===e?f=void 0:(n=f,f=e),f!==e?(p=n,c=Er(),c!==e?(y=Er(),y!==e?(P=Er(),P!==e?(C=Er(),C!==e?(N=Er(),N!==e?(c=[c,y,P,C,N],p=c):(n=p,p=e)):(n=p,p=e)):(n=p,p=e)):(n=p,p=e)):(n=p,p=e),p!==e?(te=s,f=ur(p),s=f):(n=s,s=e)):(n=s,s=e),s}function Ph(){var s,f,p,c,y,P,C;return s=n,f=n,A++,p=Zt(),A--,p===e?f=void 0:(n=f,f=e),f!==e?(p=n,c=Er(),c!==e?(y=Er(),y!==e?(P=Er(),P!==e?(C=Er(),C!==e?(c=[c,y,P,C],p=c):(n=p,p=e)):(n=p,p=e)):(n=p,p=e)):(n=p,p=e),p!==e?(c=Er(),c===e&&(c=null),c!==e?(te=s,f=ur(p),s=f):(n=s,s=e)):(n=s,s=e)):(n=s,s=e),s}function wh(){var s,f,p,c,y,P,C,N,z,J,fe,he,Ye,ea,ra,ta,aa,Pi,wi,bi,$i,Ii,_i,Di,Ri,xi;return s=n,f=n,p=oe(),p!==e?(c=oe(),c!==e?(y=oe(),y!==e?(P=oe(),P!==e?(C=oe(),C!==e?(N=oe(),N!==e?(z=oe(),z!==e?(J=oe(),J!==e?(fe=oe(),fe!==e?(he=oe(),he!==e?(Ye=oe(),Ye!==e?(ea=oe(),ea!==e?(ra=oe(),ra!==e?(ta=oe(),ta!==e?(aa=oe(),aa!==e?(Pi=oe(),Pi!==e?(wi=oe(),wi!==e?(bi=oe(),bi!==e?($i=oe(),$i!==e?(Ii=oe(),Ii!==e?(_i=oe(),_i!==e?(Di=oe(),Di!==e?(Ri=oe(),Ri!==e?(xi=oe(),xi!==e?(p=[p,c,y,P,C,N,z,J,fe,he,Ye,ea,ra,ta,aa,Pi,wi,bi,$i,Ii,_i,Di,Ri,xi],f=p):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e),f!==e&&(te=s,f=Ht()),s=f,s}function ut(){var s,f,p,c,y;if(A++,s=n,t.charCodeAt(n)===43?(f=ze,n++):(f=e,A===0&&U(Le)),f===e&&(t.charCodeAt(n)===45?(f=fr,n++):(f=e,A===0&&U(lr))),f===e&&(f=null),f!==e){if(p=n,c=[],y=ct(),y!==e)for(;y!==e;)c.push(y),y=ct();else c=e;c!==e?(y=rs(),y===e&&(y=null),y!==e?(c=[c,y],p=c):(n=p,p=e)):(n=p,p=e),p===e&&(p=rs()),p!==e?(c=vh(),c===e&&(c=null),c!==e?(te=s,f=wr(),s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;return A--,s===e&&(f=e,A===0&&U(Vr)),s}function bh(){var s,f,p,c,y,P,C,N,z,J;return A++,s=n,f=n,p=oe(),p!==e?(c=oe(),c!==e?(y=oe(),y!==e?(P=oe(),P!==e?(C=oe(),C!==e?(N=oe(),N!==e?(z=oe(),z!==e?(J=oe(),J!==e?(te=f,p=br(),f=p):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e),f!==e?(te=n,p=at(f),p?p=void 0:p=e,p!==e?(te=s,f=Fr(f),s=f):(n=s,s=e)):(n=s,s=e),A--,s===e&&(f=e,A===0&&U(Vr)),s}function $o(){var s,f,p,c,y,P,C,N,z,J,fe,he;return A++,s=n,f=n,p=oe(),p!==e?(c=oe(),c!==e?(y=oe(),y!==e?(P=oe(),P!==e?(C=oe(),C!==e?(N=oe(),N!==e?(z=oe(),z!==e?(J=oe(),J!==e?(fe=oe(),fe!==e?(he=oe(),he!==e?(te=f,p=br(),f=p):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e),f!==e?(te=n,p=at(f),p?p=void 0:p=e,p!==e?(te=s,f=Fr(f),s=f):(n=s,s=e)):(n=s,s=e),A--,s===e&&(f=e,A===0&&U(Vr)),s}function Er(){var s,f,p,c,y,P,C,N,z,J,fe,he,Ye,ea,ra,ta,aa;return A++,s=n,f=n,p=oe(),p!==e?(c=oe(),c!==e?(y=oe(),y!==e?(P=oe(),P!==e?(C=oe(),C!==e?(N=oe(),N!==e?(z=oe(),z!==e?(J=oe(),J!==e?(fe=oe(),fe!==e?(he=oe(),he!==e?(Ye=oe(),Ye!==e?(ea=oe(),ea!==e?(ra=oe(),ra!==e?(ta=oe(),ta!==e?(aa=oe(),aa!==e?(te=f,p=br(),f=p):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e)):(n=f,f=e),f!==e?(te=n,p=at(f),p?p=void 0:p=e,p!==e?(te=s,f=Fr(f),s=f):(n=s,s=e)):(n=s,s=e),A--,s===e&&(f=e,A===0&&U(Vr)),s}function $h(){var s,f,p,c,y,P;if(s=n,t.charCodeAt(n)===47?(f=S,n++):(f=e,A===0&&U(h)),f!==e){for(p=[],c=Q();c!==e;)p.push(c),c=Q();if(p!==e)if(c=ss(),c!==e){for(y=[],P=Q();P!==e;)y.push(P),P=Q();y!==e?(t.charCodeAt(n)===47?(P=S,n++):(P=e,A===0&&U(h)),P!==e?(te=s,f=Ce(c),s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;else n=s,s=e}else n=s,s=e;return s}function Ih(){var s,f,p,c,y,P;if(s=n,t.charCodeAt(n)===47?(f=S,n++):(f=e,A===0&&U(h)),f!==e){for(p=[],c=Q();c!==e;)p.push(c),c=Q();if(p!==e)if(c=ut(),c!==e){for(y=[],P=Q();P!==e;)y.push(P),P=Q();y!==e?(t.charCodeAt(n)===47?(P=S,n++):(P=e,A===0&&U(h)),P!==e?(te=s,f=Ce(c),s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;else n=s,s=e}else n=s,s=e;return s}function pt(){var s,f,p,c,y,P,C,N,z,J,fe,he;if(A++,s=n,f=n,A++,p=Do(),A--,p===e?f=void 0:(n=f,f=e),f!==e)if(p=_h(),p===e&&(p=null),p!==e){for(c=[],y=Q();y!==e;)c.push(y),y=Q();if(c!==e){if(y=n,P=n,C=Si(),C!==e){for(N=[],z=n,t.charCodeAt(n)===43?(J=ze,n++):(J=e,A===0&&U(Le)),J!==e?(fe=n,A++,he=pt(),A--,he===e?fe=void 0:(n=fe,fe=e),fe!==e?(J=[J,fe],z=J):(n=z,z=e)):(n=z,z=e);z!==e;)N.push(z),z=n,t.charCodeAt(n)===43?(J=ze,n++):(J=e,A===0&&U(Le)),J!==e?(fe=n,A++,he=pt(),A--,he===e?fe=void 0:(n=fe,fe=e),fe!==e?(J=[J,fe],z=J):(n=z,z=e)):(n=z,z=e);N!==e?(C=[C,N],P=C):(n=P,P=e)}else n=P,P=e;P!==e?y=t.substring(y,n):y=P,y!==e?(te=s,f=Vt(p,y),s=f):(n=s,s=e)}else n=s,s=e}else n=s,s=e;else n=s,s=e;return A--,s===e&&(f=e,A===0&&U(va)),s}function _h(){var s,f,p,c;if(A++,s=n,f=n,p=[],c=ct(),c!==e)for(;c!==e;)p.push(c),c=ct();else p=e;return p!==e?(c=rs(),c===e&&(c=null),c!==e?(p=[p,c],f=p):(n=f,f=e)):(n=f,f=e),f===e&&(f=rs()),f!==e&&(te=s,f=Ga()),s=f,A--,s===e&&(f=e,A===0&&U($r)),s}function ts(){var s,f,p,c,y,P,C,N,z,J,fe,he;if(s=n,f=pt(),f!==e){for(p=[],c=n,y=[],P=Q();P!==e;)y.push(P),P=Q();if(y!==e)if(t.charCodeAt(n)===43?(P=ze,n++):(P=e,A===0&&U(Le)),P!==e){for(C=[],N=Q();N!==e;)C.push(N),N=Q();C!==e?(N=pt(),N!==e?(te=c,y=We(f,N),c=y):(n=c,c=e)):(n=c,c=e)}else n=c,c=e;else n=c,c=e;if(c===e){for(c=n,y=[],P=Q();P!==e;)y.push(P),P=Q();if(y!==e)if(t.charCodeAt(n)===40?(P=Te,n++):(P=e,A===0&&U(er)),P!==e){for(C=[],N=Q();N!==e;)C.push(N),N=Q();if(C!==e)if(t.charCodeAt(n)===43?(N=ze,n++):(N=e,A===0&&U(Le)),N!==e){for(z=[],J=Q();J!==e;)z.push(J),J=Q();if(z!==e)if(J=pt(),J!==e){for(fe=[],he=Q();he!==e;)fe.push(he),he=Q();fe!==e?(t.charCodeAt(n)===41?(he=mr,n++):(he=e,A===0&&U(Pr)),he!==e?(te=c,y=st(f,J),c=y):(n=c,c=e)):(n=c,c=e)}else n=c,c=e;else n=c,c=e}else n=c,c=e;else n=c,c=e}else n=c,c=e;else n=c,c=e}for(;c!==e;){for(p.push(c),c=n,y=[],P=Q();P!==e;)y.push(P),P=Q();if(y!==e)if(t.charCodeAt(n)===43?(P=ze,n++):(P=e,A===0&&U(Le)),P!==e){for(C=[],N=Q();N!==e;)C.push(N),N=Q();C!==e?(N=pt(),N!==e?(te=c,y=We(f,N),c=y):(n=c,c=e)):(n=c,c=e)}else n=c,c=e;else n=c,c=e;if(c===e){for(c=n,y=[],P=Q();P!==e;)y.push(P),P=Q();if(y!==e)if(t.charCodeAt(n)===40?(P=Te,n++):(P=e,A===0&&U(er)),P!==e){for(C=[],N=Q();N!==e;)C.push(N),N=Q();if(C!==e)if(t.charCodeAt(n)===43?(N=ze,n++):(N=e,A===0&&U(Le)),N!==e){for(z=[],J=Q();J!==e;)z.push(J),J=Q();if(z!==e)if(J=pt(),J!==e){for(fe=[],he=Q();he!==e;)fe.push(he),he=Q();fe!==e?(t.charCodeAt(n)===41?(he=mr,n++):(he=e,A===0&&U(Pr)),he!==e?(te=c,y=st(f,J),c=y):(n=c,c=e)):(n=c,c=e)}else n=c,c=e;else n=c,c=e}else n=c,c=e;else n=c,c=e}else n=c,c=e;else n=c,c=e}}p!==e?(te=s,f=qr(f,p),s=f):(n=s,s=e)}else n=s,s=e;return s}function Io(){var s,f,p,c,y,P,C;if(s=n,f=xo(),f!==e)if(p=Q(),p!==e)if(c=Do(),c!==e){if(y=n,P=[],C=be(),C!==e)for(;C!==e;)P.push(C),C=be();else P=e;P!==e?(C=go(),C!==e?(te=y,P=Gt(f,c,C),y=P):(n=y,y=e)):(n=y,y=e),y===e&&(y=null),y!==e?(te=s,f=ga(f,c,y),s=f):(n=s,s=e)}else n=s,s=e;else n=s,s=e;else n=s,s=e;return s}function _o(){var s;return t.substr(n,9).toLowerCase()===Gr?(s=t.substr(n,9),n+=9):(s=e,A===0&&U(Kt)),s}function Do(){var s,f,p,c,y,P;return s=n,f=ut(),f!==e?(p=Q(),p!==e?(c=ut(),c!==e?(y=Q(),y!==e?(P=ut(),P!==e?(te=s,f=Qt(f,c,P),s=f):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e),s}function Ro(){var s,f,p,c,y,P,C,N,z,J;if(s=n,f=_o(),f!==e)if(p=n,c=Q(),c!==e?(y=Dh(),y!==e?(te=p,c=D(y),p=c):(n=p,p=e)):(n=p,p=e),p===e&&(p=null),p!==e){if(c=[],y=n,P=[],C=be(),C!==e)for(;C!==e;)P.push(C),C=be();else P=e;for(P!==e?(C=Io(),C!==e?(te=y,P=b(p,C),y=P):(n=y,y=e)):(n=y,y=e);y!==e;){if(c.push(y),y=n,P=[],C=be(),C!==e)for(;C!==e;)P.push(C),C=be();else P=e;P!==e?(C=Io(),C!==e?(te=y,P=b(p,C),y=P):(n=y,y=e)):(n=y,y=e)}if(c!==e){if(y=n,P=[],C=be(),C!==e)for(;C!==e;)P.push(C),C=be();else P=e;if(P!==e){for(C=[],N=Q();N!==e;)C.push(N),N=Q();if(C!==e)if(N=At(),N!==e){for(z=[],t.length>n?(J=t.charAt(n),n++):(J=e,A===0&&U(R));J!==e;)z.push(J),t.length>n?(J=t.charAt(n),n++):(J=e,A===0&&U(R));z!==e?(P=[P,C,N,z],y=P):(n=y,y=e)}else n=y,y=e;else n=y,y=e}else n=y,y=e;y===e&&(y=null),y!==e?(te=s,f=j(p,c),s=f):(n=s,s=e)}else n=s,s=e}else n=s,s=e;else n=s,s=e;return s}function gi(){var s,f;return A++,s=n,t.substr(n,8).toLowerCase()===ne?(f=t.substr(n,8),n+=8):(f=e,A===0&&U(ge)),f!==e?s=t.substring(s,n):s=f,s===e&&(t.substr(n,9).toLowerCase()===$e?(s=t.substr(n,9),n+=9):(s=e,A===0&&U(De)),s===e&&(t.substr(n,11).toLowerCase()===je?(s=t.substr(n,11),n+=11):(s=e,A===0&&U(ce)),s===e&&(t.substr(n,12).toLowerCase()===Ne?(s=t.substr(n,12),n+=12):(s=e,A===0&&U(qe)),s===e&&(t.substr(n,6).toLowerCase()===ke?(s=t.substr(n,6),n+=6):(s=e,A===0&&U(_e)),s===e&&(t.substr(n,7).toLowerCase()===Me?(s=t.substr(n,7),n+=7):(s=e,A===0&&U(E)),s===e&&(t.substr(n,5).toLowerCase()===$?(s=t.substr(n,5),n+=5):(s=e,A===0&&U(F)),s===e&&(t.substr(n,9).toLowerCase()===L?(s=t.substr(n,9),n+=9):(s=e,A===0&&U(W)),s===e&&(t.substr(n,5).toLowerCase()===ie?(s=t.substr(n,5),n+=5):(s=e,A===0&&U(me)),s===e&&(t.substr(n,4).toLowerCase()===ue?(s=t.substr(n,4),n+=4):(s=e,A===0&&U(Pe))))))))))),A--,s===e&&(f=e,A===0&&U(T)),s}function Dh(){var s,f,p,c,y,P;if(A++,s=n,f=gi(),f!==e){for(p=[],c=n,y=Q(),y!==e?(P=gi(),P!==e?(te=c,y=ar(f,P),c=y):(n=c,c=e)):(n=c,c=e);c!==e;)p.push(c),c=n,y=Q(),y!==e?(P=gi(),P!==e?(te=c,y=ar(f,P),c=y):(n=c,c=e)):(n=c,c=e);p!==e?(te=s,f=Jt(f,p),s=f):(n=s,s=e)}else n=s,s=e;return A--,s===e&&(f=e,A===0&&U(Se)),s}function xo(){var s,f,p,c,y,P,C,N,z,J;if(s=n,f=ts(),f!==e){for(p=[],c=Q();c!==e;)p.push(c),c=Q();if(p!==e)if(t.substr(n,2)===Kr?(c=Kr,n+=2):(c=e,A===0&&U(Qr)),c===e&&(t.substr(n,3)===Tr?(c=Tr,n+=3):(c=e,A===0&&U(xr)),c===e&&(t.charCodeAt(n)===61?(c=Jr,n++):(c=e,A===0&&U(Wt)))),c!==e){for(y=[],P=Q();P!==e;)y.push(P),P=Q();y!==e?(P=ts(),P!==e?(te=s,f=Wr(f,c,P),s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;else n=s,s=e}else n=s,s=e;if(s===e)if(s=n,f=ts(),f!==e){for(p=[],c=Q();c!==e;)p.push(c),c=Q();if(p!==e)if(c=Po(),c!==e){for(y=[],P=Q();P!==e;)y.push(P),P=Q();if(y!==e)if(t.substr(n,2)===Kr?(P=Kr,n+=2):(P=e,A===0&&U(Qr)),P===e&&(t.substr(n,3)===Tr?(P=Tr,n+=3):(P=e,A===0&&U(xr)),P===e&&(t.charCodeAt(n)===61?(P=Jr,n++):(P=e,A===0&&U(Wt)))),P!==e){for(C=[],N=Q();N!==e;)C.push(N),N=Q();if(C!==e)if(N=ts(),N!==e){for(z=[],J=Q();J!==e;)z.push(J),J=Q();z!==e?(J=Po(),J!==e?(te=s,f=li(f,c,P,N,J),s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e}else n=s,s=e;return s}function Rh(){var s,f,p,c,y,P,C;for(s=n,f=[],p=Oe();p!==e;)f.push(p),p=Oe();if(f!==e)if(p=Ah(),p===e&&(p=null),p!==e){for(c=[],y=Oe();y!==e;)c.push(y),y=Oe();if(c!==e)if(y=Ro(),y!==e){for(P=[],C=Oe();C!==e;)P.push(C),C=Oe();P!==e?(te=s,f=ci(p,y),s=f):(n=s,s=e)}else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e;return s}function Zt(){var s,f;return A++,s=Eo(),s===e&&(s=At(),s===e&&(s=_o(),s===e&&(s=Ao(),s===e&&(s=Co(),s===e&&(s=is()))))),A--,s===e&&(f=e,A===0&&U(Ka)),s}function xh(){var s;return t.substr(n,4).toLowerCase()===Dt?(s=t.substr(n,4),n+=4):(s=e,A===0&&U(Rt)),s}function Ao(){var s;return t.substr(n,4).toLowerCase()===Qa?(s=t.substr(n,4),n+=4):(s=e,A===0&&U(xt)),s}function yi(){var s,f,p,c,y,P,C,N,z,J,fe,he,Ye;if(s=n,f=Ao(),f!==e){for(p=n,c=[],y=Q();y!==e;)c.push(y),y=Q();if(c!==e?(y=$h(),y!==e?(te=p,c=ui(y),p=c):(n=p,p=e)):(n=p,p=e),p===e&&(p=null),p!==e)if(c=Q(),c!==e)if(y=xh(),y!==e){for(P=[],C=Q();C!==e;)P.push(C),C=Q();if(P!==e)if(C=Ih(),C!==e){for(N=[],z=Q();z!==e;)N.push(z),z=Q();if(N!==e)if(z=be(),z!==e){for(J=[],fe=Oe();fe!==e;)J.push(fe),fe=Oe();if(J!==e)if(fe=Fo(),fe!==e){for(he=[],Ye=Oe();Ye!==e;)he.push(Ye),Ye=Oe();he!==e?(Ye=At(),Ye===e&&(Ye=null),Ye!==e?(te=s,f=Ja(p,C,fe),s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e;else n=s,s=e}else n=s,s=e;return s}function Ah(){var s,f,p,c,y,P;if(s=n,f=yi(),f!==e){for(p=[],c=n,y=[],P=be();P!==e;)y.push(P),P=be();for(y!==e?(P=yi(),P!==e?(te=c,y=Wa(f,P),c=y):(n=c,c=e)):(n=c,c=e);c!==e;){for(p.push(c),c=n,y=[],P=be();P!==e;)y.push(P),P=be();y!==e?(P=yi(),P!==e?(te=c,y=Wa(f,P),c=y):(n=c,c=e)):(n=c,c=e)}p!==e?(te=s,f=Nr(f,p),s=f):(n=s,s=e)}else n=s,s=e;return s}function Co(){var s;return t.substr(n,7).toLowerCase()===it?(s=t.substr(n,7),n+=7):(s=e,A===0&&U(ya)),s===e&&(t.substr(n,4).toLowerCase()===Yt?(s=t.substr(n,4),n+=4):(s=e,A===0&&U(nt))),s}function as(){var s,f,p,c;return s=n,f=n,p=Si(),p!==e?(c=Ch(),c===e&&(c=null),c!==e?(p=[p,c],f=p):(n=f,f=e)):(n=f,f=e),f!==e?s=t.substring(s,n):s=f,s}function Oo(){var s,f;return s=n,ro.test(t.charAt(n))?(f=t.charAt(n),n++):(f=e,A===0&&U(ot)),f===e&&(t.substr(n,3)===ft?(f=ft,n+=3):(f=e,A===0&&U(Ya))),f!==e?s=t.substring(s,n):s=f,s}function Ch(){var s,f,p,c;if(s=n,f=n,p=[],t.charCodeAt(n)===43?(c=ze,n++):(c=e,A===0&&U(Le)),c!==e)for(;c!==e;)p.push(c),t.charCodeAt(n)===43?(c=ze,n++):(c=e,A===0&&U(Le));else p=e;return p!==e?f=t.substring(f,n):f=p,f!==e?(p=n,A++,c=Si(),A--,c===e?p=void 0:(n=p,p=e),p!==e?(f=[f,p],s=f):(n=s,s=e)):(n=s,s=e),s}function Oh(){var s,f,p,c,y,P;if(s=n,f=Ei(),f!==e){for(p=[],c=n,y=[],P=be();P!==e;)y.push(P),P=be();for(y!==e?(P=Ei(),P!==e?(te=c,y=ae(f,P),c=y):(n=c,c=e)):(n=c,c=e);c!==e;){for(p.push(c),c=n,y=[],P=be();P!==e;)y.push(P),P=be();y!==e?(P=Ei(),P!==e?(te=c,y=ae(f,P),c=y):(n=c,c=e)):(n=c,c=e)}p!==e?(te=s,f=ee(f,p),s=f):(n=s,s=e)}else n=s,s=e;return s}function Ei(){var s,f,p,c,y,P;if(s=n,f=Co(),f!==e){for(p=[],c=Oe();c!==e;)p.push(c),c=Oe();if(p!==e)if(c=Fo(),c!==e){for(y=[],P=Oe();P!==e;)y.push(P),P=Oe();y!==e?(P=At(),P===e&&(P=null),P!==e?(te=s,f=pi(c),s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;else n=s,s=e}else n=s,s=e;return s}function Fo(){var s,f,p,c,y;for(s=n,f=[],p=n,c=as(),c!==e?(y=Oe(),y!==e?(te=p,c=Xa(c),p=c):(n=p,p=e)):(n=p,p=e);p!==e;)f.push(p),p=n,c=as(),c!==e?(y=Oe(),y!==e?(te=p,c=Xa(c),p=c):(n=p,p=e)):(n=p,p=e);return f!==e?(p=as(),p===e&&(p=null),p!==e?(te=s,f=mi(f,p),s=f):(n=s,s=e)):(n=s,s=e),s}function Si(){var s,f,p,c,y,P;if(A++,s=n,f=n,p=n,A++,c=Zt(),A--,c===e?p=void 0:(n=p,p=e),p!==e)if(c=n,A++,ao.test(t.charAt(n))?(y=t.charAt(n),n++):(y=e,A===0&&U(so)),A--,y===e?c=void 0:(n=c,c=e),c!==e){if(y=[],P=kr(),P!==e)for(;P!==e;)y.push(P),P=kr();else y=e;y!==e?(p=[p,c,y],f=p):(n=f,f=e)}else n=f,f=e;else n=f,f=e;return f!==e?s=t.substring(s,n):s=f,A--,s===e&&(f=e,A===0&&U(to)),s}function kr(){var s,f,p,c;if(s=n,f=[],p=Oo(),p!==e)for(;p!==e;)f.push(p),p=Oo();else f=e;if(f!==e?s=t.substring(s,n):s=f,s===e){if(s=n,t.charCodeAt(n)===40?(f=Te,n++):(f=e,A===0&&U(er)),f!==e){for(p=[],c=kr();c!==e;)p.push(c),c=kr();p!==e?(t.charCodeAt(n)===41?(c=mr,n++):(c=e,A===0&&U(Pr)),c!==e?(f=[f,p,c],s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;if(s===e){if(s=n,t.charCodeAt(n)===91?(f=io,n++):(f=e,A===0&&U(no)),f!==e){for(p=[],c=kr();c!==e;)p.push(c),c=kr();p!==e?(t.charCodeAt(n)===93?(c=oo,n++):(c=e,A===0&&U(fo)),c!==e?(f=[f,p,c],s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;if(s===e){if(s=n,t.charCodeAt(n)===123?(f=km,n++):(f=e,A===0&&U(Um)),f!==e){for(p=[],c=kr();c!==e;)p.push(c),c=kr();p!==e?(t.charCodeAt(n)===125?(c=Bm,n++):(c=e,A===0&&U(zm)),c!==e?(f=[f,p,c],s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;if(s===e)if(s=n,t.charCodeAt(n)===60?(f=Hm,n++):(f=e,A===0&&U(Vm)),f!==e){for(p=[],c=kr();c!==e;)p.push(c),c=kr();p!==e?(t.charCodeAt(n)===62?(c=Gm,n++):(c=e,A===0&&U(Km)),c!==e?(f=[f,p,c],s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e}}}return s}function ss(){var s,f,p;if(A++,s=n,f=[],lo.test(t.charAt(n))?(p=t.charAt(n),n++):(p=e,A===0&&U(co)),p!==e)for(;p!==e;)f.push(p),lo.test(t.charAt(n))?(p=t.charAt(n),n++):(p=e,A===0&&U(co));else f=e;return f!==e?s=t.substring(s,n):s=f,A--,s===e&&(f=e,A===0&&U(Qm)),s}function is(){var s;return t.substr(n,6).toLowerCase()===Jm?(s=t.substr(n,6),n+=6):(s=e,A===0&&U(Wm)),s===e&&(t.substr(n,4).toLowerCase()===Ym?(s=t.substr(n,4),n+=4):(s=e,A===0&&U(Xm))),s}function To(){var s,f,p,c,y;if(s=n,f=[],p=n,c=[],y=be(),y!==e)for(;y!==e;)c.push(y),y=be();else c=e;for(c!==e?(y=bo(),y!==e?(te=p,c=se(y),p=c):(n=p,p=e)):(n=p,p=e);p!==e;){if(f.push(p),p=n,c=[],y=be(),y!==e)for(;y!==e;)c.push(y),y=be();else c=e;c!==e?(y=bo(),y!==e?(te=p,c=se(y),p=c):(n=p,p=e)):(n=p,p=e)}return f!==e&&(te=s,f=Zm(f)),s=f,s}function Fh(){var s,f,p,c,y,P,C;if(s=n,f=Th(),f!==e)if(p=To(),p!==e){if(c=[],y=be(),y!==e)for(;y!==e;)c.push(y),y=be();else c=e;if(c!==e){for(y=n,P=[],C=Q();C!==e;)P.push(C),C=Q();P!==e?(C=At(),C!==e?(P=[P,C],y=P):(n=y,y=e)):(n=y,y=e),y===e&&(y=null),y!==e?(te=s,f=eh(f,p),s=f):(n=s,s=e)}else n=s,s=e}else n=s,s=e;else n=s,s=e;return s}function Th(){var s,f,p,c,y,P;if(s=n,f=is(),f!==e)if(p=Q(),p!==e)if(t.substr(n,3).toLowerCase()===uo?(c=t.substr(n,3),n+=3):(c=e,A===0&&U(po)),c!==e){if(y=[],P=be(),P!==e)for(;P!==e;)y.push(P),P=be();else y=e;y!==e?(P=No(),P!==e?(te=s,f=rh(P),s=f):(n=s,s=e)):(n=s,s=e)}else n=s,s=e;else n=s,s=e;else n=s,s=e;if(s===e)if(s=n,f=is(),f!==e){for(p=[],c=Q();c!==e;)p.push(c),c=Q();p!==e?(f=[f,p],s=f):(n=s,s=e)}else n=s,s=e;return s}function Nh(){var s,f,p,c,y,P,C,N,z,J,fe,he;for(s=n,f=[],p=be();p!==e;)f.push(p),p=be();if(f!==e)if(p=is(),p!==e)if(c=n,y=Q(),y!==e?(t.substr(n,3).toLowerCase()===uo?(P=t.substr(n,3),n+=3):(P=e,A===0&&U(po)),P!==e?(y=[y,P],c=y):(n=c,c=e)):(n=c,c=e),c===e&&(c=null),c!==e){if(y=n,P=[],C=be(),C!==e)for(;C!==e;)P.push(C),C=be();else P=e;if(P!==e?(C=No(),C!==e?(te=y,P=th(C),y=P):(n=y,y=e)):(n=y,y=e),y!==e)if(P=To(),P!==e){if(C=[],N=be(),N!==e)for(;N!==e;)C.push(N),N=be();else C=e;if(C!==e){for(N=n,z=[],J=Q();J!==e;)z.push(J),J=Q();if(z!==e)if(J=At(),J!==e){for(fe=[],t.length>n?(he=t.charAt(n),n++):(he=e,A===0&&U(R));he!==e;)fe.push(he),t.length>n?(he=t.charAt(n),n++):(he=e,A===0&&U(R));fe!==e?(z=[z,J,fe],N=z):(n=N,N=e)}else n=N,N=e;else n=N,N=e;N===e&&(N=null),N!==e?(te=s,f=ah(y,P),s=f):(n=s,s=e)}else n=s,s=e}else n=s,s=e;else n=s,s=e}else n=s,s=e;else n=s,s=e;else n=s,s=e;return s}function No(){var s,f,p,c,y,P,C;for(A++,s=n,f=[],p=Q();p!==e;)f.push(p),p=Q();return f!==e?(p=ut(),p!==e?(c=Q(),c!==e?(y=ut(),y!==e?(P=Q(),P!==e?(C=ut(),C!==e?(te=s,f=ih(p,y,C),s=f):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e)):(n=s,s=e),A--,s===e&&(f=e,A===0&&U(sh)),s}function oe(){var s,f;return A++,oh.test(t.charAt(n))?(s=t.charAt(n),n++):(s=e,A===0&&U(fh)),A--,s===e&&(f=e,A===0&&U(nh)),s}let{defaultTo:jh,isNumeric:Lh}=r.utils;function qh(s){try{return r.utils.parseNumber(s),!0}catch{return!1}}function Mh(s){try{return r.utils.parseNumber(s)}catch{di("number")}}if(es=a(),es!==e&&n===t.length)return es;throw es!==e&&n<t.length&&U(ch()),vo(hi,Mr<t.length?t.charAt(Mr):null,Mr<t.length?Ea(Mr,Mr+1):Ea(Mr,Mr))}vc.exports={SyntaxError:Nt,parse:Pg}});var bc=Y((Sw,wc)=>{"use strict";function bg(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function jt(t,r,e,i){this.message=t,this.expected=r,this.found=e,this.location=i,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,jt)}bg(jt,Error);jt.buildMessage=function(t,r){var e={literal:function(d){return'"'+a(d.text)+'"'},class:function(d){var m="",v;for(v=0;v<d.parts.length;v++)m+=d.parts[v]instanceof Array?o(d.parts[v][0])+"-"+o(d.parts[v][1]):o(d.parts[v]);return"["+(d.inverted?"^":"")+m+"]"},any:function(d){return"any character"},end:function(d){return"end of input"},other:function(d){return d.description}};function i(d){return d.charCodeAt(0).toString(16).toUpperCase()}function a(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+i(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+i(m)})}function o(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+i(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+i(m)})}function l(d){return e[d.type](d)}function u(d){var m=new Array(d.length),v,S;for(v=0;v<d.length;v++)m[v]=l(d[v]);if(m.sort(),m.length>0){for(v=1,S=1;v<m.length;v++)m[v-1]!==m[v]&&(m[S]=m[v],S++);m.length=S}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function g(d){return d?'"'+a(d)+'"':"end of input"}return"Expected "+u(t)+" but "+g(r)+" found."};function $g(t,r){r=r!==void 0?r:{};var e={},i={File:Kt},a=Kt,o=br("whitespace"),l=/^[ \t]/,u=Ht([" ","	"],!1,!1),g=br("end of line"),d="\r",m=ur("\r",!1),v=`
`,S=ur(`
`,!1),h=br("comment"),w="****",_=ur("****",!1),I=function(E){return E},O=function(E,$){return E},k=br("END keyword"),q="end",K=ur("END",!0),Z=br("STICK keyword"),X="stick",H=ur("STICK",!0),G="+",M=ur("+",!1),re=">",ae=ur(">",!1),ee="=",B=ur("=",!1),V=" ",se=ur(" ",!1),de=Vr(),we=function(E){return E},ve="MECH",le=ur("MECH",!1),ye="SURF",Ue=ur("SURF",!1),Ze=function(E){return Me(E)},Be=function(){return Me(vr())},xe=function(E){let $=[{name:E[0]}],F=[],L,W=$,ie=1;for(;ie<E.length;)E[ie]===" "?E[ie+1]&&Or("empty species field"):(E[ie]!=="+"&&(W=F,L!==void 0&&tt("Multiple delimiters "+E[ie])),E[ie]===">"&&(L=!1),E[ie]==="="&&(L=!0),E[ie+1]||Or("species name"),W.push({name:E[ie+1]})),ie+=2;return{reactants:$,products:F,reversible:L}},Je=function(E,$,F){return F},Qe=function(E,$,F){return $.location=tr(),E&&$.auxiliaryData.push({type:"STICK",parameters:[]}),F&&F.forEach(L=>$.auxiliaryData.push({type:"COV",parameters:[L.species,"0",L.mu,L.epsilon/.004184]})),$},dr=function(E,$,F){return[E,$,F]},ze="$",Le=ur("$",!1),fr=function(E,$,F){return vr().length>72&&tt(`line exceeds 72 characters (is ${vr().length})`),{species:E,mu:$,epsilon:F}},lr=function(E,$){return vr().length>72&&tt(`line exceeds 72 characters (is ${vr().length})`),E.coefficients=$,E.auxiliaryData=[],E},Ae=function(E,$){return $},Te=function(E,$){return[E,...$]},er=br("species"),Dr=function(E){return E.trim()},mr=br("any char"),Pr=/^[^\r\n]/,nr=Ht(["\r",`
`],!0,!1),x=0,Ie=0,He=[{line:1,column:1}],rr=0,or=[],pe=0,cr;if("startRule"in r){if(!(r.startRule in i))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');a=i[r.startRule]}function vr(){return t.substring(Ie,x)}function tr(){return Fr(Ie,x)}function Or(E,$){throw $=$!==void 0?$:Fr(Ie,x),Vt([br(E)],t.substring(Ie,x),$)}function tt(E,$){throw $=$!==void 0?$:Fr(Ie,x),va(E,$)}function ur(E,$){return{type:"literal",text:E,ignoreCase:$}}function Ht(E,$,F){return{type:"class",parts:E,inverted:$,ignoreCase:F}}function Vr(){return{type:"any"}}function wr(){return{type:"end"}}function br(E){return{type:"other",description:E}}function at(E){var $=He[E],F;if($)return $;for(F=E-1;!He[F];)F--;for($=He[F],$={line:$.line,column:$.column};F<E;)t.charCodeAt(F)===10?($.line++,$.column=1):$.column++,F++;return He[E]=$,$}function Fr(E,$){var F=at(E),L=at($);return{start:{offset:E,line:F.line,column:F.column},end:{offset:$,line:L.line,column:L.column}}}function Ce(E){x<rr||(x>rr&&(rr=x,or=[]),or.push(E))}function va(E,$){return new jt(E,null,null,$)}function Vt(E,$,F){return new jt(jt.buildMessage(E,$),E,$,F)}function $r(){var E,$;return pe++,l.test(t.charAt(x))?(E=t.charAt(x),x++):(E=e,pe===0&&Ce(u)),pe--,E===e&&($=e,pe===0&&Ce(o)),E}function Ga(){var E,$;if(pe++,E=[],$=We(),$===e&&($=$r()),$!==e)for(;$!==e;)E.push($),$=We(),$===e&&($=$r());else E=e;return pe--,E===e&&($=e,pe===0&&Ce(o)),E}function We(){var E,$,F;return pe++,E=x,t.charCodeAt(x)===13?($=d,x++):($=e,pe===0&&Ce(m)),$===e&&($=null),$!==e?(t.charCodeAt(x)===10?(F=v,x++):(F=e,pe===0&&Ce(S)),F!==e?($=[$,F],E=$):(x=E,E=e)):(x=E,E=e),pe--,E===e&&($=e,pe===0&&Ce(g)),E}function st(){var E,$,F,L;if(pe++,E=x,t.substr(x,4)===w?($=w,x+=4):($=e,pe===0&&Ce(_)),$!==e){for(F=[],L=ce();L!==e;)F.push(L),L=ce();F!==e?(Ie=E,$=I(F),E=$):(x=E,E=e)}else x=E,E=e;return pe--,E===e&&($=e,pe===0&&Ce(h)),E}function qr(){var E,$,F,L,W,ie;if(pe++,E=x,$=st(),$!==e){for(F=[],L=x,W=We(),W!==e?(ie=st(),ie!==e?(W=[W,ie],L=W):(x=L,L=e)):(x=L,L=e);L!==e;)F.push(L),L=x,W=We(),W!==e?(ie=st(),ie!==e?(W=[W,ie],L=W):(x=L,L=e)):(x=L,L=e);F!==e?(Ie=E,$=O($,F),E=$):(x=E,E=e)}else x=E,E=e;return pe--,E===e&&($=e,pe===0&&Ce(h)),E}function Gt(){var E,$;return pe++,t.substr(x,3).toLowerCase()===q?(E=t.substr(x,3),x+=3):(E=e,pe===0&&Ce(K)),pe--,E===e&&($=e,pe===0&&Ce(k)),E}function ga(){var E,$;return pe++,t.substr(x,5).toLowerCase()===X?(E=t.substr(x,5),x+=5):(E=e,pe===0&&Ce(H)),pe--,E===e&&($=e,pe===0&&Ce(Z)),E}function Gr(){var E,$;return E=x,t.charCodeAt(x)===43?($=G,x++):($=e,pe===0&&Ce(M)),$===e&&(t.charCodeAt(x)===62?($=re,x++):($=e,pe===0&&Ce(ae)),$===e&&(t.charCodeAt(x)===61?($=ee,x++):($=e,pe===0&&Ce(B)),$===e&&(t.charCodeAt(x)===32?($=V,x++):($=e,pe===0&&Ce(se))))),$!==e?E=t.substring(E,x):E=$,E}function Kt(){var E,$,F,L,W,ie,me,ue,Pe,Se;if(E=x,$=Qt(),$!==e)if(F=We(),F!==e)if(L=De(),L!==e){if(W=x,ie=[],me=We(),me!==e)for(;me!==e;)ie.push(me),me=We();else ie=e;if(ie!==e){if(me=x,ue=Gt(),ue!==e){for(Pe=[],t.length>x?(Se=t.charAt(x),x++):(Se=e,pe===0&&Ce(de));Se!==e;)Pe.push(Se),t.length>x?(Se=t.charAt(x),x++):(Se=e,pe===0&&Ce(de));Pe!==e?(ue=[ue,Pe],me=ue):(x=me,me=e)}else x=me,me=e;me===e&&(me=null),me!==e?(ie=[ie,me],W=ie):(x=W,W=e)}else x=W,W=e;W===e&&(W=null),W!==e?(Ie=E,$=we(L),E=$):(x=E,E=e)}else x=E,E=e;else x=E,E=e;else x=E,E=e;return E}function Qt(){var E,$,F,L;if(E=x,t.substr(x,4)===ve?($=ve,x+=4):($=e,pe===0&&Ce(le)),$!==e){for(F=[],L=ce();L!==e;)F.push(L),L=ce();F!==e?($=[$,F],E=$):(x=E,E=e)}else x=E,E=e;if(E===e)if(E=x,t.substr(x,4)===ye?($=ye,x+=4):($=e,pe===0&&Ce(Ue)),$!==e){for(F=[],L=ce();L!==e;)F.push(L),L=ce();F!==e?($=[$,F],E=$):(x=E,E=e)}else x=E,E=e;return E}function D(){var E,$,F,L;if(E=x,$=x,F=[],L=ce(),L!==e)for(;L!==e;)F.push(L),L=ce();else F=e;return F!==e?$=t.substring($,x):$=F,$!==e&&(Ie=E,$=Ze($)),E=$,E}function b(){var E,$,F,L;return E=x,$=Ne(),$!==e?(F=ce(),F!==e?(L=ce(),L!==e?(Ie=E,$=Be(),E=$):(x=E,E=e)):(x=E,E=e)):(x=E,E=e),E}function R(){var E,$;return E=x,$=qe(),$!==e&&(Ie=E,$=Be()),E=$,E}function j(){var E,$,F,L,W,ie,me,ue,Pe,Se,ar;return E=x,$=x,F=je(),F!==e?(L=Gr(),L!==e?(W=je(),W!==e?(ie=Gr(),ie!==e?(me=je(),me!==e?(ue=Gr(),ue!==e?(Pe=je(),Pe!==e?(Se=Gr(),Se!==e?(ar=je(),ar!==e?(F=[F,L,W,ie,me,ue,Pe,Se,ar],$=F):(x=$,$=e)):(x=$,$=e)):(x=$,$=e)):(x=$,$=e)):(x=$,$=e)):(x=$,$=e)):(x=$,$=e)):(x=$,$=e)):(x=$,$=e),$!==e&&(Ie=E,$=xe($)),E=$,E}function T(){var E,$,F,L,W,ie,me,ue,Pe,Se;if(E=x,$=x,F=qr(),F!==e?(L=We(),L!==e?(F=[F,L],$=F):(x=$,$=e)):(x=$,$=e),$===e&&($=null),$!==e){if(F=x,L=ga(),L!==e){for(W=[],ie=$r();ie!==e;)W.push(ie),ie=$r();W!==e?(ie=We(),ie!==e?(L=[L,W,ie],F=L):(x=F,F=e)):(x=F,F=e)}else x=F,F=e;if(F===e&&(F=null),F!==e)if(L=x,W=qr(),W!==e?(ie=We(),ie!==e?(W=[W,ie],L=W):(x=L,L=e)):(x=L,L=e),L===e&&(L=null),L!==e)if(W=$e(),W!==e)if(ie=x,me=We(),me!==e?(ue=qr(),ue!==e?(me=[me,ue],ie=me):(x=ie,ie=e)):(x=ie,ie=e),ie===e&&(ie=null),ie!==e){for(me=[],ue=x,Pe=We(),Pe!==e?(Se=ge(),Se!==e?(Ie=ue,Pe=Je(F,W,Se),ue=Pe):(x=ue,ue=e)):(x=ue,ue=e);ue!==e;)me.push(ue),ue=x,Pe=We(),Pe!==e?(Se=ge(),Se!==e?(Ie=ue,Pe=Je(F,W,Se),ue=Pe):(x=ue,ue=e)):(x=ue,ue=e);me!==e?(ue=x,Pe=We(),Pe!==e?(Se=qr(),Se!==e?(Pe=[Pe,Se],ue=Pe):(x=ue,ue=e)):(x=ue,ue=e),ue===e&&(ue=null),ue!==e?(Ie=E,$=Qe(F,W,me),E=$):(x=E,E=e)):(x=E,E=e)}else x=E,E=e;else x=E,E=e;else x=E,E=e;else x=E,E=e}else x=E,E=e;return E}function ne(){var E,$,F,L;return E=x,$=R(),$!==e?(F=b(),F!==e?(L=D(),L!==e?(Ie=E,$=dr($,F,L),E=$):(x=E,E=e)):(x=E,E=e)):(x=E,E=e),E}function ge(){var E,$,F,L,W,ie,me,ue,Pe,Se,ar;return E=x,t.charCodeAt(x)===36?($=ze,x++):($=e,pe===0&&Ce(Le)),$!==e?(F=je(),F!==e?(L=ce(),L!==e?(W=qe(),W!==e?(ie=qe(),ie!==e?(me=qe(),me!==e?(ue=Ne(),ue!==e?(Pe=qe(),Pe!==e?(Se=b(),Se!==e?(ar=D(),ar!==e?(Ie=E,$=fr(F,Se,ar),E=$):(x=E,E=e)):(x=E,E=e)):(x=E,E=e)):(x=E,E=e)):(x=E,E=e)):(x=E,E=e)):(x=E,E=e)):(x=E,E=e)):(x=E,E=e)):(x=E,E=e),E}function $e(){var E,$,F,L;return E=x,$=j(),$!==e?(F=$r(),F!==e?(L=ne(),L!==e?(Ie=E,$=lr($,L),E=$):(x=E,E=e)):(x=E,E=e)):(x=E,E=e),E}function De(){var E,$,F,L,W,ie;if(E=x,$=T(),$!==e){for(F=[],L=x,W=We(),W!==e?(ie=T(),ie!==e?(Ie=L,W=Ae($,ie),L=W):(x=L,L=e)):(x=L,L=e);L!==e;)F.push(L),L=x,W=We(),W!==e?(ie=T(),ie!==e?(Ie=L,W=Ae($,ie),L=W):(x=L,L=e)):(x=L,L=e);F!==e?(Ie=E,$=Te($,F),E=$):(x=E,E=e)}else x=E,E=e;return E}function je(){var E,$,F,L,W,ie,me,ue,Pe,Se,ar;return pe++,E=x,$=x,F=x,L=ce(),L!==e?(W=ce(),W!==e?(ie=ce(),ie!==e?(me=ce(),me!==e?(ue=ce(),ue!==e?(Pe=ce(),Pe!==e?(Se=ce(),Se!==e?(ar=ce(),ar!==e?(L=[L,W,ie,me,ue,Pe,Se,ar],F=L):(x=F,F=e)):(x=F,F=e)):(x=F,F=e)):(x=F,F=e)):(x=F,F=e)):(x=F,F=e)):(x=F,F=e)):(x=F,F=e),F!==e?$=t.substring($,x):$=F,$!==e&&(Ie=E,$=Dr($)),E=$,pe--,E===e&&($=e,pe===0&&Ce(er)),E}function ce(){var E,$;return pe++,Pr.test(t.charAt(x))?(E=t.charAt(x),x++):(E=e,pe===0&&Ce(nr)),pe--,E===e&&($=e,pe===0&&Ce(mr)),E}function Ne(){var E,$,F,L,W,ie;return E=x,$=ce(),$!==e?(F=ce(),F!==e?(L=ce(),L!==e?(W=ce(),W!==e?(ie=ce(),ie!==e?($=[$,F,L,W,ie],E=$):(x=E,E=e)):(x=E,E=e)):(x=E,E=e)):(x=E,E=e)):(x=E,E=e),E}function qe(){var E,$,F;return E=x,$=Ne(),$!==e?(F=Ne(),F!==e?($=[$,F],E=$):(x=E,E=e)):(x=E,E=e),E}let{defaultTo:ke,isNumeric:_e}=r.utils;function Me(E){try{return r.utils.parseNumber(E)}catch{Or("number")}}if(cr=a(),cr!==e&&x===t.length)return cr;throw cr!==e&&x<t.length&&Ce(wr()),Vt(or,rr<t.length?t.charAt(rr):null,rr<t.length?Fr(rr,rr+1):Fr(rr,rr))}wc.exports={SyntaxError:jt,parse:$g}});var fu=Y((_a,la)=>{var Cg=200,Og="Expected a function",_n="__lodash_hash_undefined__",zs=1,ca=2,Mc=1/0,kc=9007199254740991,js="[object Arguments]",En="[object Array]",Uc="[object Boolean]",Bc="[object Date]",zc="[object Error]",Hc="[object Function]",Fg="[object GeneratorFunction]",Ls="[object Map]",Vc="[object Number]",fa="[object Object]",Ac="[object Promise]",Gc="[object RegExp]",qs="[object Set]",Kc="[object String]",Qc="[object Symbol]",Sn="[object WeakMap]",Jc="[object ArrayBuffer]",Ms="[object DataView]",Tg="[object Float32Array]",Ng="[object Float64Array]",jg="[object Int8Array]",Lg="[object Int16Array]",qg="[object Int32Array]",Mg="[object Uint8Array]",kg="[object Uint8ClampedArray]",Ug="[object Uint16Array]",Bg="[object Uint32Array]",zg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hg=/^\w*$/,Vg=/^\./,Gg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kg=/[\\^$.*+?()[\]{}|]/g,Qg=/\\(\\)?/g,Jg=/^\[object .+?Constructor\]$/,Wg=/^(?:0|[1-9]\d*)$/,Ve={};Ve[Tg]=Ve[Ng]=Ve[jg]=Ve[Lg]=Ve[qg]=Ve[Mg]=Ve[kg]=Ve[Ug]=Ve[Bg]=!0;Ve[js]=Ve[En]=Ve[Jc]=Ve[Uc]=Ve[Ms]=Ve[Bc]=Ve[zc]=Ve[Hc]=Ve[Ls]=Ve[Vc]=Ve[fa]=Ve[Gc]=Ve[qs]=Ve[Kc]=Ve[Sn]=!1;var Wc=typeof global=="object"&&global&&global.Object===Object&&global,Yg=typeof self=="object"&&self&&self.Object===Object&&self,wt=Wc||Yg||Function("return this")(),Yc=typeof _a=="object"&&_a&&!_a.nodeType&&_a,Cc=Yc&&typeof la=="object"&&la&&!la.nodeType&&la,Xg=Cc&&Cc.exports===Yc,Oc=Xg&&Wc.process,Fc=function(){try{return Oc&&Oc.binding("util")}catch{}}(),Tc=Fc&&Fc.isTypedArray;function Zg(t,r,e,i){for(var a=-1,o=t?t.length:0;++a<o;){var l=t[a];r(i,l,e(l),t)}return i}function ey(t,r){for(var e=-1,i=t?t.length:0;++e<i;)if(r(t[e],e,t))return!0;return!1}function ry(t){return function(r){return r?.[t]}}function ty(t,r){for(var e=-1,i=Array(t);++e<t;)i[e]=r(e);return i}function ay(t){return function(r){return t(r)}}function sy(t,r){return t?.[r]}function Pn(t){var r=!1;if(t!=null&&typeof t.toString!="function")try{r=!!(t+"")}catch{}return r}function iy(t){var r=-1,e=Array(t.size);return t.forEach(function(i,a){e[++r]=[a,i]}),e}function ny(t,r){return function(e){return t(r(e))}}function oy(t){var r=-1,e=Array(t.size);return t.forEach(function(i){e[++r]=i}),e}var fy=Array.prototype,ly=Function.prototype,Hs=Object.prototype,gn=wt["__core-js_shared__"],Nc=function(){var t=/[^.]+$/.exec(gn&&gn.keys&&gn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Xc=ly.toString,Br=Hs.hasOwnProperty,ua=Hs.toString,cy=RegExp("^"+Xc.call(Br).replace(Kg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jc=wt.Symbol,Lc=wt.Uint8Array,uy=Hs.propertyIsEnumerable,py=fy.splice,my=ny(Object.keys,Object),wn=pa(wt,"DataView"),Da=pa(wt,"Map"),bn=pa(wt,"Promise"),$n=pa(wt,"Set"),In=pa(wt,"WeakMap"),Ra=pa(Object,"create"),hy=qt(wn),dy=qt(Da),vy=qt(bn),gy=qt($n),yy=qt(In),ks=jc?jc.prototype:void 0,yn=ks?ks.valueOf:void 0,qc=ks?ks.toString:void 0;function Lt(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var i=t[r];this.set(i[0],i[1])}}function Ey(){this.__data__=Ra?Ra(null):{}}function Sy(t){return this.has(t)&&delete this.__data__[t]}function Py(t){var r=this.__data__;if(Ra){var e=r[t];return e===_n?void 0:e}return Br.call(r,t)?r[t]:void 0}function wy(t){var r=this.__data__;return Ra?r[t]!==void 0:Br.call(r,t)}function by(t,r){var e=this.__data__;return e[t]=Ra&&r===void 0?_n:r,this}Lt.prototype.clear=Ey;Lt.prototype.delete=Sy;Lt.prototype.get=Py;Lt.prototype.has=wy;Lt.prototype.set=by;function et(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var i=t[r];this.set(i[0],i[1])}}function $y(){this.__data__=[]}function Iy(t){var r=this.__data__,e=Vs(r,t);if(e<0)return!1;var i=r.length-1;return e==i?r.pop():py.call(r,e,1),!0}function _y(t){var r=this.__data__,e=Vs(r,t);return e<0?void 0:r[e][1]}function Dy(t){return Vs(this.__data__,t)>-1}function Ry(t,r){var e=this.__data__,i=Vs(e,t);return i<0?e.push([t,r]):e[i][1]=r,this}et.prototype.clear=$y;et.prototype.delete=Iy;et.prototype.get=_y;et.prototype.has=Dy;et.prototype.set=Ry;function rt(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var i=t[r];this.set(i[0],i[1])}}function xy(){this.__data__={hash:new Lt,map:new(Da||et),string:new Lt}}function Ay(t){return Gs(this,t).delete(t)}function Cy(t){return Gs(this,t).get(t)}function Oy(t){return Gs(this,t).has(t)}function Fy(t,r){return Gs(this,t).set(t,r),this}rt.prototype.clear=xy;rt.prototype.delete=Ay;rt.prototype.get=Cy;rt.prototype.has=Oy;rt.prototype.set=Fy;function Us(t){var r=-1,e=t?t.length:0;for(this.__data__=new rt;++r<e;)this.add(t[r])}function Ty(t){return this.__data__.set(t,_n),this}function Ny(t){return this.__data__.has(t)}Us.prototype.add=Us.prototype.push=Ty;Us.prototype.has=Ny;function Zr(t){this.__data__=new et(t)}function jy(){this.__data__=new et}function Ly(t){return this.__data__.delete(t)}function qy(t){return this.__data__.get(t)}function My(t){return this.__data__.has(t)}function ky(t,r){var e=this.__data__;if(e instanceof et){var i=e.__data__;if(!Da||i.length<Cg-1)return i.push([t,r]),this;e=this.__data__=new rt(i)}return e.set(t,r),this}Zr.prototype.clear=jy;Zr.prototype.delete=Ly;Zr.prototype.get=qy;Zr.prototype.has=My;Zr.prototype.set=ky;function Uy(t,r){var e=Pt(t)||nu(t)?ty(t.length,String):[],i=e.length,a=!!i;for(var o in t)(r||Br.call(t,o))&&!(a&&(o=="length"||tu(o,i)))&&e.push(o);return e}function Vs(t,r){for(var e=t.length;e--;)if(iu(t[e][0],r))return e;return-1}function By(t,r,e,i){return zy(t,function(a,o,l){r(i,a,e(a),l)}),i}var zy=i0(Vy),Hy=n0();function Vy(t,r){return t&&Hy(t,r,Bs)}function Zc(t,r){r=Ks(r,t)?[r]:eu(r);for(var e=0,i=r.length;t!=null&&e<i;)t=t[Qs(r[e++])];return e&&e==i?t:void 0}function Gy(t){return ua.call(t)}function Ky(t,r){return t!=null&&r in Object(t)}function Dn(t,r,e,i,a){return t===r?!0:t==null||r==null||!Js(t)&&!Ws(r)?t!==t&&r!==r:Qy(t,r,Dn,e,i,a)}function Qy(t,r,e,i,a,o){var l=Pt(t),u=Pt(r),g=En,d=En;l||(g=St(t),g=g==js?fa:g),u||(d=St(r),d=d==js?fa:d);var m=g==fa&&!Pn(t),v=d==fa&&!Pn(r),S=g==d;if(S&&!m)return o||(o=new Zr),l||g0(t)?ru(t,r,e,i,a,o):o0(t,r,g,e,i,a,o);if(!(a&ca)){var h=m&&Br.call(t,"__wrapped__"),w=v&&Br.call(r,"__wrapped__");if(h||w){var _=h?t.value():t,I=w?r.value():r;return o||(o=new Zr),e(_,I,i,a,o)}}return S?(o||(o=new Zr),f0(t,r,e,i,a,o)):!1}function Jy(t,r,e,i){var a=e.length,o=a,l=!i;if(t==null)return!o;for(t=Object(t);a--;){var u=e[a];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<o;){u=e[a];var g=u[0],d=t[g],m=u[1];if(l&&u[2]){if(d===void 0&&!(g in t))return!1}else{var v=new Zr;if(i)var S=i(d,m,g,t,r,v);if(!(S===void 0?Dn(m,d,i,zs|ca,v):S))return!1}}return!0}function Wy(t){if(!Js(t)||p0(t))return!1;var r=ou(t)||Pn(t)?cy:Jg;return r.test(qt(t))}function Yy(t){return Ws(t)&&An(t.length)&&!!Ve[ua.call(t)]}function Xy(t){return typeof t=="function"?t:t==null?P0:typeof t=="object"?Pt(t)?r0(t[0],t[1]):e0(t):w0(t)}function Zy(t){if(!m0(t))return my(t);var r=[];for(var e in Object(t))Br.call(t,e)&&e!="constructor"&&r.push(e);return r}function e0(t){var r=l0(t);return r.length==1&&r[0][2]?su(r[0][0],r[0][1]):function(e){return e===t||Jy(e,t,r)}}function r0(t,r){return Ks(t)&&au(r)?su(Qs(t),r):function(e){var i=E0(e,t);return i===void 0&&i===r?S0(e,t):Dn(r,i,void 0,zs|ca)}}function t0(t){return function(r){return Zc(r,t)}}function a0(t){if(typeof t=="string")return t;if(Cn(t))return qc?qc.call(t):"";var r=t+"";return r=="0"&&1/t==-Mc?"-0":r}function eu(t){return Pt(t)?t:h0(t)}function s0(t,r){return function(e,i){var a=Pt(e)?Zg:By,o=r?r():{};return a(e,t,Xy(i,2),o)}}function i0(t,r){return function(e,i){if(e==null)return e;if(!xn(e))return t(e,i);for(var a=e.length,o=r?a:-1,l=Object(e);(r?o--:++o<a)&&i(l[o],o,l)!==!1;);return e}}function n0(t){return function(r,e,i){for(var a=-1,o=Object(r),l=i(r),u=l.length;u--;){var g=l[t?u:++a];if(e(o[g],g,o)===!1)break}return r}}function ru(t,r,e,i,a,o){var l=a&ca,u=t.length,g=r.length;if(u!=g&&!(l&&g>u))return!1;var d=o.get(t);if(d&&o.get(r))return d==r;var m=-1,v=!0,S=a&zs?new Us:void 0;for(o.set(t,r),o.set(r,t);++m<u;){var h=t[m],w=r[m];if(i)var _=l?i(w,h,m,r,t,o):i(h,w,m,t,r,o);if(_!==void 0){if(_)continue;v=!1;break}if(S){if(!ey(r,function(I,O){if(!S.has(O)&&(h===I||e(h,I,i,a,o)))return S.add(O)})){v=!1;break}}else if(!(h===w||e(h,w,i,a,o))){v=!1;break}}return o.delete(t),o.delete(r),v}function o0(t,r,e,i,a,o,l){switch(e){case Ms:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case Jc:return!(t.byteLength!=r.byteLength||!i(new Lc(t),new Lc(r)));case Uc:case Bc:case Vc:return iu(+t,+r);case zc:return t.name==r.name&&t.message==r.message;case Gc:case Kc:return t==r+"";case Ls:var u=iy;case qs:var g=o&ca;if(u||(u=oy),t.size!=r.size&&!g)return!1;var d=l.get(t);if(d)return d==r;o|=zs,l.set(t,r);var m=ru(u(t),u(r),i,a,o,l);return l.delete(t),m;case Qc:if(yn)return yn.call(t)==yn.call(r)}return!1}function f0(t,r,e,i,a,o){var l=a&ca,u=Bs(t),g=u.length,d=Bs(r),m=d.length;if(g!=m&&!l)return!1;for(var v=g;v--;){var S=u[v];if(!(l?S in r:Br.call(r,S)))return!1}var h=o.get(t);if(h&&o.get(r))return h==r;var w=!0;o.set(t,r),o.set(r,t);for(var _=l;++v<g;){S=u[v];var I=t[S],O=r[S];if(i)var k=l?i(O,I,S,r,t,o):i(I,O,S,t,r,o);if(!(k===void 0?I===O||e(I,O,i,a,o):k)){w=!1;break}_||(_=S=="constructor")}if(w&&!_){var q=t.constructor,K=r.constructor;q!=K&&"constructor"in t&&"constructor"in r&&!(typeof q=="function"&&q instanceof q&&typeof K=="function"&&K instanceof K)&&(w=!1)}return o.delete(t),o.delete(r),w}function Gs(t,r){var e=t.__data__;return u0(r)?e[typeof r=="string"?"string":"hash"]:e.map}function l0(t){for(var r=Bs(t),e=r.length;e--;){var i=r[e],a=t[i];r[e]=[i,a,au(a)]}return r}function pa(t,r){var e=sy(t,r);return Wy(e)?e:void 0}var St=Gy;(wn&&St(new wn(new ArrayBuffer(1)))!=Ms||Da&&St(new Da)!=Ls||bn&&St(bn.resolve())!=Ac||$n&&St(new $n)!=qs||In&&St(new In)!=Sn)&&(St=function(t){var r=ua.call(t),e=r==fa?t.constructor:void 0,i=e?qt(e):void 0;if(i)switch(i){case hy:return Ms;case dy:return Ls;case vy:return Ac;case gy:return qs;case yy:return Sn}return r});function c0(t,r,e){r=Ks(r,t)?[r]:eu(r);for(var i,a=-1,l=r.length;++a<l;){var o=Qs(r[a]);if(!(i=t!=null&&e(t,o)))break;t=t[o]}if(i)return i;var l=t?t.length:0;return!!l&&An(l)&&tu(o,l)&&(Pt(t)||nu(t))}function tu(t,r){return r=r??kc,!!r&&(typeof t=="number"||Wg.test(t))&&t>-1&&t%1==0&&t<r}function Ks(t,r){if(Pt(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||Cn(t)?!0:Hg.test(t)||!zg.test(t)||r!=null&&t in Object(r)}function u0(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}function p0(t){return!!Nc&&Nc in t}function m0(t){var r=t&&t.constructor,e=typeof r=="function"&&r.prototype||Hs;return t===e}function au(t){return t===t&&!Js(t)}function su(t,r){return function(e){return e==null?!1:e[t]===r&&(r!==void 0||t in Object(e))}}var h0=Rn(function(t){t=y0(t);var r=[];return Vg.test(t)&&r.push(""),t.replace(Gg,function(e,i,a,o){r.push(a?o.replace(Qg,"$1"):i||e)}),r});function Qs(t){if(typeof t=="string"||Cn(t))return t;var r=t+"";return r=="0"&&1/t==-Mc?"-0":r}function qt(t){if(t!=null){try{return Xc.call(t)}catch{}try{return t+""}catch{}}return""}var d0=s0(function(t,r,e){Br.call(t,e)?t[e].push(r):t[e]=[r]});function Rn(t,r){if(typeof t!="function"||r&&typeof r!="function")throw new TypeError(Og);var e=function(){var i=arguments,a=r?r.apply(this,i):i[0],o=e.cache;if(o.has(a))return o.get(a);var l=t.apply(this,i);return e.cache=o.set(a,l),l};return e.cache=new(Rn.Cache||rt),e}Rn.Cache=rt;function iu(t,r){return t===r||t!==t&&r!==r}function nu(t){return v0(t)&&Br.call(t,"callee")&&(!uy.call(t,"callee")||ua.call(t)==js)}var Pt=Array.isArray;function xn(t){return t!=null&&An(t.length)&&!ou(t)}function v0(t){return Ws(t)&&xn(t)}function ou(t){var r=Js(t)?ua.call(t):"";return r==Hc||r==Fg}function An(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kc}function Js(t){var r=typeof t;return!!t&&(r=="object"||r=="function")}function Ws(t){return!!t&&typeof t=="object"}function Cn(t){return typeof t=="symbol"||Ws(t)&&ua.call(t)==Qc}var g0=Tc?ay(Tc):Yy;function y0(t){return t==null?"":a0(t)}function E0(t,r,e){var i=t==null?void 0:Zc(t,r);return i===void 0?e:i}function S0(t,r){return t!=null&&c0(t,r,Ky)}function Bs(t){return xn(t)?Uy(t):Zy(t)}function P0(t){return t}function w0(t){return Ks(t)?ry(Qs(t)):t0(t)}la.exports=d0});var Ir=Y(Fn=>{"use strict";Fn.fromCallback=function(t){return Object.defineProperty(function(){if(typeof arguments[arguments.length-1]=="function")t.apply(this,arguments);else return new Promise((r,e)=>{arguments[arguments.length]=(i,a)=>{if(i)return e(i);r(a)},arguments.length++,t.apply(this,arguments)})},"name",{value:t.name})};Fn.fromPromise=function(t){return Object.defineProperty(function(){let r=arguments[arguments.length-1];if(typeof r!="function")return t.apply(this,arguments);t.apply(this,arguments).then(e=>r(null,e),r)},"name",{value:t.name})}});var hu=Y((rb,mu)=>{var $t=require("constants"),x0=process.cwd,Ys=null,A0=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Ys||(Ys=x0.call(process)),Ys};try{process.cwd()}catch{}var C0=process.chdir;process.chdir=function(t){Ys=null,C0.call(process,t)};mu.exports=O0;function O0(t){$t.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&r(t),t.lutimes||e(t),t.chown=o(t.chown),t.fchown=o(t.fchown),t.lchown=o(t.lchown),t.chmod=i(t.chmod),t.fchmod=i(t.fchmod),t.lchmod=i(t.lchmod),t.chownSync=l(t.chownSync),t.fchownSync=l(t.fchownSync),t.lchownSync=l(t.lchownSync),t.chmodSync=a(t.chmodSync),t.fchmodSync=a(t.fchmodSync),t.lchmodSync=a(t.lchmodSync),t.stat=u(t.stat),t.fstat=u(t.fstat),t.lstat=u(t.lstat),t.statSync=g(t.statSync),t.fstatSync=g(t.fstatSync),t.lstatSync=g(t.lstatSync),t.lchmod||(t.lchmod=function(m,v,S){S&&process.nextTick(S)},t.lchmodSync=function(){}),t.lchown||(t.lchown=function(m,v,S,h){h&&process.nextTick(h)},t.lchownSync=function(){}),A0==="win32"&&(t.rename=function(m){return function(v,S,h){var w=Date.now(),_=0;m(v,S,function I(O){if(O&&(O.code==="EACCES"||O.code==="EPERM")&&Date.now()-w<6e4){setTimeout(function(){t.stat(S,function(k,q){k&&k.code==="ENOENT"?m(v,S,I):h(O)})},_),_<100&&(_+=10);return}h&&h(O)})}}(t.rename)),t.read=function(m){function v(S,h,w,_,I,O){var k;if(O&&typeof O=="function"){var q=0;k=function(K,Z,X){if(K&&K.code==="EAGAIN"&&q<10)return q++,m.call(t,S,h,w,_,I,k);O.apply(this,arguments)}}return m.call(t,S,h,w,_,I,k)}return v.__proto__=m,v}(t.read),t.readSync=function(m){return function(v,S,h,w,_){for(var I=0;;)try{return m.call(t,v,S,h,w,_)}catch(O){if(O.code==="EAGAIN"&&I<10){I++;continue}throw O}}}(t.readSync);function r(m){m.lchmod=function(v,S,h){m.open(v,$t.O_WRONLY|$t.O_SYMLINK,S,function(w,_){if(w){h&&h(w);return}m.fchmod(_,S,function(I){m.close(_,function(O){h&&h(I||O)})})})},m.lchmodSync=function(v,S){var h=m.openSync(v,$t.O_WRONLY|$t.O_SYMLINK,S),w=!0,_;try{_=m.fchmodSync(h,S),w=!1}finally{if(w)try{m.closeSync(h)}catch{}else m.closeSync(h)}return _}}function e(m){$t.hasOwnProperty("O_SYMLINK")?(m.lutimes=function(v,S,h,w){m.open(v,$t.O_SYMLINK,function(_,I){if(_){w&&w(_);return}m.futimes(I,S,h,function(O){m.close(I,function(k){w&&w(O||k)})})})},m.lutimesSync=function(v,S,h){var w=m.openSync(v,$t.O_SYMLINK),_,I=!0;try{_=m.futimesSync(w,S,h),I=!1}finally{if(I)try{m.closeSync(w)}catch{}else m.closeSync(w)}return _}):(m.lutimes=function(v,S,h,w){w&&process.nextTick(w)},m.lutimesSync=function(){})}function i(m){return m&&function(v,S,h){return m.call(t,v,S,function(w){d(w)&&(w=null),h&&h.apply(this,arguments)})}}function a(m){return m&&function(v,S){try{return m.call(t,v,S)}catch(h){if(!d(h))throw h}}}function o(m){return m&&function(v,S,h,w){return m.call(t,v,S,h,function(_){d(_)&&(_=null),w&&w.apply(this,arguments)})}}function l(m){return m&&function(v,S,h){try{return m.call(t,v,S,h)}catch(w){if(!d(w))throw w}}}function u(m){return m&&function(v,S,h){typeof S=="function"&&(h=S,S=null);function w(_,I){I&&(I.uid<0&&(I.uid+=4294967296),I.gid<0&&(I.gid+=4294967296)),h&&h.apply(this,arguments)}return S?m.call(t,v,S,w):m.call(t,v,w)}}function g(m){return m&&function(v,S){var h=S?m.call(t,v,S):m.call(t,v);return h.uid<0&&(h.uid+=4294967296),h.gid<0&&(h.gid+=4294967296),h}}function d(m){if(!m||m.code==="ENOSYS")return!0;var v=!process.getuid||process.getuid()!==0;return!!(v&&(m.code==="EINVAL"||m.code==="EPERM"))}}});var gu=Y((tb,vu)=>{var du=require("stream").Stream;vu.exports=F0;function F0(t){return{ReadStream:r,WriteStream:e};function r(i,a){if(!(this instanceof r))return new r(i,a);du.call(this);var o=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,a=a||{};for(var l=Object.keys(a),u=0,g=l.length;u<g;u++){var d=l[u];this[d]=a[d]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}t.open(this.path,this.flags,this.mode,function(m,v){if(m){o.emit("error",m),o.readable=!1;return}o.fd=v,o.emit("open",v),o._read()})}function e(i,a){if(!(this instanceof e))return new e(i,a);du.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,a=a||{};for(var o=Object.keys(a),l=0,u=o.length;l<u;l++){var g=o[l];this[g]=a[g]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Eu=Y((ab,yu)=>{"use strict";yu.exports=T0;function T0(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var r={__proto__:t.__proto__};else var r=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}),r}});var ir=Y((sb,Nn)=>{var zr=require("fs"),N0=hu(),j0=gu(),L0=Eu(),Xs=require("util"),It,Zs;typeof Symbol=="function"&&typeof Symbol.for=="function"?(It=Symbol.for("graceful-fs.queue"),Zs=Symbol.for("graceful-fs.previous")):(It="___graceful-fs.queue",Zs="___graceful-fs.previous");function q0(){}var Ca=q0;Xs.debuglog?Ca=Xs.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Ca=function(){var t=Xs.format.apply(Xs,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});global[It]||(Su=[],Object.defineProperty(global,It,{get:function(){return Su}}),zr.close=function(t){function r(e,i){return t.call(zr,e,function(a){a||kt(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(r,Zs,{value:t}),r}(zr.close),zr.closeSync=function(t){function r(e){t.apply(zr,arguments),kt()}return Object.defineProperty(r,Zs,{value:t}),r}(zr.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Ca(global[It]),require("assert").equal(global[It].length,0)}));var Su;Nn.exports=Tn(L0(zr));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!zr.__patched&&(Nn.exports=Tn(zr),zr.__patched=!0);function Tn(t){N0(t),t.gracefulify=Tn,t.createReadStream=q,t.createWriteStream=K;var r=t.readFile;t.readFile=e;function e(H,G,M){return typeof G=="function"&&(M=G,G=null),re(H,G,M);function re(ae,ee,B){return r(ae,ee,function(V){V&&(V.code==="EMFILE"||V.code==="ENFILE")?Aa([re,[ae,ee,B]]):(typeof B=="function"&&B.apply(this,arguments),kt())})}}var i=t.writeFile;t.writeFile=a;function a(H,G,M,re){return typeof M=="function"&&(re=M,M=null),ae(H,G,M,re);function ae(ee,B,V,se){return i(ee,B,V,function(de){de&&(de.code==="EMFILE"||de.code==="ENFILE")?Aa([ae,[ee,B,V,se]]):(typeof se=="function"&&se.apply(this,arguments),kt())})}}var o=t.appendFile;o&&(t.appendFile=l);function l(H,G,M,re){return typeof M=="function"&&(re=M,M=null),ae(H,G,M,re);function ae(ee,B,V,se){return o(ee,B,V,function(de){de&&(de.code==="EMFILE"||de.code==="ENFILE")?Aa([ae,[ee,B,V,se]]):(typeof se=="function"&&se.apply(this,arguments),kt())})}}var u=t.readdir;t.readdir=g;function g(H,G,M){var re=[H];return typeof G!="function"?re.push(G):M=G,re.push(ae),d(re);function ae(ee,B){B&&B.sort&&B.sort(),ee&&(ee.code==="EMFILE"||ee.code==="ENFILE")?Aa([d,[re]]):(typeof M=="function"&&M.apply(this,arguments),kt())}}function d(H){return u.apply(t,H)}if(process.version.substr(0,4)==="v0.8"){var m=j0(t);_=m.ReadStream,O=m.WriteStream}var v=t.ReadStream;v&&(_.prototype=Object.create(v.prototype),_.prototype.open=I);var S=t.WriteStream;S&&(O.prototype=Object.create(S.prototype),O.prototype.open=k),Object.defineProperty(t,"ReadStream",{get:function(){return _},set:function(H){_=H},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return O},set:function(H){O=H},enumerable:!0,configurable:!0});var h=_;Object.defineProperty(t,"FileReadStream",{get:function(){return h},set:function(H){h=H},enumerable:!0,configurable:!0});var w=O;Object.defineProperty(t,"FileWriteStream",{get:function(){return w},set:function(H){w=H},enumerable:!0,configurable:!0});function _(H,G){return this instanceof _?(v.apply(this,arguments),this):_.apply(Object.create(_.prototype),arguments)}function I(){var H=this;X(H.path,H.flags,H.mode,function(G,M){G?(H.autoClose&&H.destroy(),H.emit("error",G)):(H.fd=M,H.emit("open",M),H.read())})}function O(H,G){return this instanceof O?(S.apply(this,arguments),this):O.apply(Object.create(O.prototype),arguments)}function k(){var H=this;X(H.path,H.flags,H.mode,function(G,M){G?(H.destroy(),H.emit("error",G)):(H.fd=M,H.emit("open",M))})}function q(H,G){return new t.ReadStream(H,G)}function K(H,G){return new t.WriteStream(H,G)}var Z=t.open;t.open=X;function X(H,G,M,re){return typeof M=="function"&&(re=M,M=null),ae(H,G,M,re);function ae(ee,B,V,se){return Z(ee,B,V,function(de,we){de&&(de.code==="EMFILE"||de.code==="ENFILE")?Aa([ae,[ee,B,V,se]]):(typeof se=="function"&&se.apply(this,arguments),kt())})}}return t}function Aa(t){Ca("ENQUEUE",t[0].name,t[1]),global[It].push(t)}function kt(){var t=global[It].shift();t&&(Ca("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}});var jn=Y(Ut=>{"use strict";var Pu=Ir().fromCallback,Ar=ir(),M0=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>typeof Ar[t]=="function");Object.keys(Ar).forEach(t=>{t!=="promises"&&(Ut[t]=Ar[t])});M0.forEach(t=>{Ut[t]=Pu(Ar[t])});Ut.exists=function(t,r){return typeof r=="function"?Ar.exists(t,r):new Promise(e=>Ar.exists(t,e))};Ut.read=function(t,r,e,i,a,o){return typeof o=="function"?Ar.read(t,r,e,i,a,o):new Promise((l,u)=>{Ar.read(t,r,e,i,a,(g,d,m)=>{if(g)return u(g);l({bytesRead:d,buffer:m})})})};Ut.write=function(t,r,...e){return typeof e[e.length-1]=="function"?Ar.write(t,r,...e):new Promise((i,a)=>{Ar.write(t,r,...e,(o,l,u)=>{if(o)return a(o);i({bytesWritten:l,buffer:u})})})};typeof Ar.realpath.native=="function"&&(Ut.realpath.native=Pu(Ar.realpath.native))});var qn=Y((nb,bu)=>{"use strict";var Ln=require("path");function wu(t){return t=Ln.normalize(Ln.resolve(t)).split(Ln.sep),t.length>0?t[0]:null}var k0=/[<>:"|?*]/;function U0(t){let r=wu(t);return t=t.replace(r,""),k0.test(t)}bu.exports={getRootPath:wu,invalidWin32Path:U0}});var Iu=Y((ob,$u)=>{"use strict";var B0=ir(),Mn=require("path"),z0=qn().invalidWin32Path,H0=parseInt("0777",8);function kn(t,r,e,i){if(typeof r=="function"?(e=r,r={}):(!r||typeof r!="object")&&(r={mode:r}),process.platform==="win32"&&z0(t)){let l=new Error(t+" contains invalid WIN32 path characters.");return l.code="EINVAL",e(l)}let a=r.mode,o=r.fs||B0;a===void 0&&(a=H0&~process.umask()),i||(i=null),e=e||function(){},t=Mn.resolve(t),o.mkdir(t,a,l=>{if(!l)return i=i||t,e(null,i);switch(l.code){case"ENOENT":if(Mn.dirname(t)===t)return e(l);kn(Mn.dirname(t),r,(u,g)=>{u?e(u,g):kn(t,r,e,g)});break;default:o.stat(t,(u,g)=>{u||!g.isDirectory()?e(l,i):e(null,i)});break}})}$u.exports=kn});var Du=Y((fb,_u)=>{"use strict";var V0=ir(),Un=require("path"),G0=qn().invalidWin32Path,K0=parseInt("0777",8);function Bn(t,r,e){(!r||typeof r!="object")&&(r={mode:r});let i=r.mode,a=r.fs||V0;if(process.platform==="win32"&&G0(t)){let o=new Error(t+" contains invalid WIN32 path characters.");throw o.code="EINVAL",o}i===void 0&&(i=K0&~process.umask()),e||(e=null),t=Un.resolve(t);try{a.mkdirSync(t,i),e=e||t}catch(o){if(o.code==="ENOENT"){if(Un.dirname(t)===t)throw o;e=Bn(Un.dirname(t),r,e),Bn(t,r,e)}else{let l;try{l=a.statSync(t)}catch{throw o}if(!l.isDirectory())throw o}}return e}_u.exports=Bn});var Rr=Y((lb,Ru)=>{"use strict";var Q0=Ir().fromCallback,zn=Q0(Iu()),Hn=Du();Ru.exports={mkdirs:zn,mkdirsSync:Hn,mkdirp:zn,mkdirpSync:Hn,ensureDir:zn,ensureDirSync:Hn}});var Vn=Y((cb,Au)=>{"use strict";var yr=ir(),xu=require("os"),ei=require("path");function J0(){let t=ei.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));t=ei.join(xu.tmpdir(),t);let r=new Date(1435410243862);yr.writeFileSync(t,"https://github.com/jprichardson/node-fs-extra/pull/141");let e=yr.openSync(t,"r+");return yr.futimesSync(e,r,r),yr.closeSync(e),yr.statSync(t).mtime>1435410243e3}function W0(t){let r=ei.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));r=ei.join(xu.tmpdir(),r);let e=new Date(1435410243862);yr.writeFile(r,"https://github.com/jprichardson/node-fs-extra/pull/141",i=>{if(i)return t(i);yr.open(r,"r+",(a,o)=>{if(a)return t(a);yr.futimes(o,e,e,l=>{if(l)return t(l);yr.close(o,u=>{if(u)return t(u);yr.stat(r,(g,d)=>{if(g)return t(g);t(null,d.mtime>1435410243e3)})})})})})}function Y0(t){if(typeof t=="number")return Math.floor(t/1e3)*1e3;if(t instanceof Date)return new Date(Math.floor(t.getTime()/1e3)*1e3);throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")}function X0(t,r,e,i){yr.open(t,"r+",(a,o)=>{if(a)return i(a);yr.futimes(o,r,e,l=>{yr.close(o,u=>{i&&i(l||u)})})})}function Z0(t,r,e){let i=yr.openSync(t,"r+");return yr.futimesSync(i,r,e),yr.closeSync(i)}Au.exports={hasMillisRes:W0,hasMillisResSync:J0,timeRemoveMillis:Y0,utimesMillis:X0,utimesMillisSync:Z0}});var Ta=Y((ub,ju)=>{"use strict";var Cr=ir(),_r=require("path"),Cu=10,Ou=5,eE=0,Kn=process.versions.node.split("."),Fu=Number.parseInt(Kn[0],10),Tu=Number.parseInt(Kn[1],10),rE=Number.parseInt(Kn[2],10);function Oa(){if(Fu>Cu)return!0;if(Fu===Cu){if(Tu>Ou)return!0;if(Tu===Ou&&rE>=eE)return!0}return!1}function tE(t,r,e){Oa()?Cr.stat(t,{bigint:!0},(i,a)=>{if(i)return e(i);Cr.stat(r,{bigint:!0},(o,l)=>o?o.code==="ENOENT"?e(null,{srcStat:a,destStat:null}):e(o):e(null,{srcStat:a,destStat:l}))}):Cr.stat(t,(i,a)=>{if(i)return e(i);Cr.stat(r,(o,l)=>o?o.code==="ENOENT"?e(null,{srcStat:a,destStat:null}):e(o):e(null,{srcStat:a,destStat:l}))})}function aE(t,r){let e,i;Oa()?e=Cr.statSync(t,{bigint:!0}):e=Cr.statSync(t);try{Oa()?i=Cr.statSync(r,{bigint:!0}):i=Cr.statSync(r)}catch(a){if(a.code==="ENOENT")return{srcStat:e,destStat:null};throw a}return{srcStat:e,destStat:i}}function sE(t,r,e,i){tE(t,r,(a,o)=>{if(a)return i(a);let{srcStat:l,destStat:u}=o;return u&&u.ino&&u.dev&&u.ino===l.ino&&u.dev===l.dev?i(new Error("Source and destination must not be the same.")):l.isDirectory()&&Qn(t,r)?i(new Error(Fa(t,r,e))):i(null,{srcStat:l,destStat:u})})}function iE(t,r,e){let{srcStat:i,destStat:a}=aE(t,r);if(a&&a.ino&&a.dev&&a.ino===i.ino&&a.dev===i.dev)throw new Error("Source and destination must not be the same.");if(i.isDirectory()&&Qn(t,r))throw new Error(Fa(t,r,e));return{srcStat:i,destStat:a}}function Gn(t,r,e,i,a){let o=_r.resolve(_r.dirname(t)),l=_r.resolve(_r.dirname(e));if(l===o||l===_r.parse(l).root)return a();Oa()?Cr.stat(l,{bigint:!0},(u,g)=>u?u.code==="ENOENT"?a():a(u):g.ino&&g.dev&&g.ino===r.ino&&g.dev===r.dev?a(new Error(Fa(t,e,i))):Gn(t,r,l,i,a)):Cr.stat(l,(u,g)=>u?u.code==="ENOENT"?a():a(u):g.ino&&g.dev&&g.ino===r.ino&&g.dev===r.dev?a(new Error(Fa(t,e,i))):Gn(t,r,l,i,a))}function Nu(t,r,e,i){let a=_r.resolve(_r.dirname(t)),o=_r.resolve(_r.dirname(e));if(o===a||o===_r.parse(o).root)return;let l;try{Oa()?l=Cr.statSync(o,{bigint:!0}):l=Cr.statSync(o)}catch(u){if(u.code==="ENOENT")return;throw u}if(l.ino&&l.dev&&l.ino===r.ino&&l.dev===r.dev)throw new Error(Fa(t,e,i));return Nu(t,r,o,i)}function Qn(t,r){let e=_r.resolve(t).split(_r.sep).filter(a=>a),i=_r.resolve(r).split(_r.sep).filter(a=>a);return e.reduce((a,o,l)=>a&&i[l]===o,!0)}function Fa(t,r,e){return`Cannot ${e} '${t}' to a subdirectory of itself, '${r}'.`}ju.exports={checkPaths:sE,checkPathsSync:iE,checkParentPaths:Gn,checkParentPathsSync:Nu,isSrcSubdir:Qn}});var qu=Y((pb,Lu)=>{"use strict";Lu.exports=function(t){if(typeof Buffer.allocUnsafe=="function")try{return Buffer.allocUnsafe(t)}catch{return new Buffer(t)}return new Buffer(t)}});var zu=Y((mb,Bu)=>{"use strict";var Ke=ir(),Na=require("path"),nE=Rr().mkdirsSync,oE=Vn().utimesMillisSync,ja=Ta();function fE(t,r,e){typeof e=="function"&&(e={filter:e}),e=e||{},e.clobber="clobber"in e?!!e.clobber:!0,e.overwrite="overwrite"in e?!!e.overwrite:e.clobber,e.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);let{srcStat:i,destStat:a}=ja.checkPathsSync(t,r,"copy");return ja.checkParentPathsSync(t,i,r,"copy"),lE(a,t,r,e)}function lE(t,r,e,i){if(i.filter&&!i.filter(r,e))return;let a=Na.dirname(e);return Ke.existsSync(a)||nE(a),Mu(t,r,e,i)}function Mu(t,r,e,i){if(!(i.filter&&!i.filter(r,e)))return cE(t,r,e,i)}function cE(t,r,e,i){let o=(i.dereference?Ke.statSync:Ke.lstatSync)(r);if(o.isDirectory())return hE(o,t,r,e,i);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return uE(o,t,r,e,i);if(o.isSymbolicLink())return gE(t,r,e,i)}function uE(t,r,e,i,a){return r?pE(t,e,i,a):ku(t,e,i,a)}function pE(t,r,e,i){if(i.overwrite)return Ke.unlinkSync(e),ku(t,r,e,i);if(i.errorOnExist)throw new Error(`'${e}' already exists`)}function ku(t,r,e,i){return typeof Ke.copyFileSync=="function"?(Ke.copyFileSync(r,e),Ke.chmodSync(e,t.mode),i.preserveTimestamps?oE(e,t.atime,t.mtime):void 0):mE(t,r,e,i)}function mE(t,r,e,i){let o=qu()(65536),l=Ke.openSync(r,"r"),u=Ke.openSync(e,"w",t.mode),g=0;for(;g<t.size;){let d=Ke.readSync(l,o,0,65536,g);Ke.writeSync(u,o,0,d),g+=d}i.preserveTimestamps&&Ke.futimesSync(u,t.atime,t.mtime),Ke.closeSync(l),Ke.closeSync(u)}function hE(t,r,e,i,a){if(!r)return dE(t,e,i,a);if(r&&!r.isDirectory())throw new Error(`Cannot overwrite non-directory '${i}' with directory '${e}'.`);return Uu(e,i,a)}function dE(t,r,e,i){return Ke.mkdirSync(e),Uu(r,e,i),Ke.chmodSync(e,t.mode)}function Uu(t,r,e){Ke.readdirSync(t).forEach(i=>vE(i,t,r,e))}function vE(t,r,e,i){let a=Na.join(r,t),o=Na.join(e,t),{destStat:l}=ja.checkPathsSync(a,o,"copy");return Mu(l,a,o,i)}function gE(t,r,e,i){let a=Ke.readlinkSync(r);if(i.dereference&&(a=Na.resolve(process.cwd(),a)),t){let o;try{o=Ke.readlinkSync(e)}catch(l){if(l.code==="EINVAL"||l.code==="UNKNOWN")return Ke.symlinkSync(a,e);throw l}if(i.dereference&&(o=Na.resolve(process.cwd(),o)),ja.isSrcSubdir(a,o))throw new Error(`Cannot copy '${a}' to a subdirectory of itself, '${o}'.`);if(Ke.statSync(e).isDirectory()&&ja.isSrcSubdir(o,a))throw new Error(`Cannot overwrite '${o}' with '${a}'.`);return yE(a,e)}else return Ke.symlinkSync(a,e)}function yE(t,r){return Ke.unlinkSync(r),Ke.symlinkSync(t,r)}Bu.exports=fE});var Jn=Y((hb,Hu)=>{"use strict";Hu.exports={copySync:zu()}});var Hr=Y((db,Gu)=>{"use strict";var EE=Ir().fromPromise,Vu=jn();function SE(t){return Vu.access(t).then(()=>!0).catch(()=>!1)}Gu.exports={pathExists:EE(SE),pathExistsSync:Vu.existsSync}});var rp=Y((vb,ep)=>{"use strict";var hr=ir(),La=require("path"),PE=Rr().mkdirs,wE=Hr().pathExists,bE=Vn().utimesMillis,qa=Ta();function $E(t,r,e,i){typeof e=="function"&&!i?(i=e,e={}):typeof e=="function"&&(e={filter:e}),i=i||function(){},e=e||{},e.clobber="clobber"in e?!!e.clobber:!0,e.overwrite="overwrite"in e?!!e.overwrite:e.clobber,e.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),qa.checkPaths(t,r,"copy",(a,o)=>{if(a)return i(a);let{srcStat:l,destStat:u}=o;qa.checkParentPaths(t,l,r,"copy",g=>g?i(g):e.filter?Ju(Ku,u,t,r,e,i):Ku(u,t,r,e,i))})}function Ku(t,r,e,i,a){let o=La.dirname(e);wE(o,(l,u)=>{if(l)return a(l);if(u)return Wn(t,r,e,i,a);PE(o,g=>g?a(g):Wn(t,r,e,i,a))})}function Ju(t,r,e,i,a,o){Promise.resolve(a.filter(e,i)).then(l=>l?t(r,e,i,a,o):o(),l=>o(l))}function Wn(t,r,e,i,a){return i.filter?Ju(Qu,t,r,e,i,a):Qu(t,r,e,i,a)}function Qu(t,r,e,i,a){(i.dereference?hr.stat:hr.lstat)(r,(l,u)=>{if(l)return a(l);if(u.isDirectory())return RE(u,t,r,e,i,a);if(u.isFile()||u.isCharacterDevice()||u.isBlockDevice())return IE(u,t,r,e,i,a);if(u.isSymbolicLink())return CE(t,r,e,i,a)})}function IE(t,r,e,i,a,o){return r?_E(t,e,i,a,o):Wu(t,e,i,a,o)}function _E(t,r,e,i,a){if(i.overwrite)hr.unlink(e,o=>o?a(o):Wu(t,r,e,i,a));else return i.errorOnExist?a(new Error(`'${e}' already exists`)):a()}function Wu(t,r,e,i,a){return typeof hr.copyFile=="function"?hr.copyFile(r,e,o=>o?a(o):Yu(t,e,i,a)):DE(t,r,e,i,a)}function DE(t,r,e,i,a){let o=hr.createReadStream(r);o.on("error",l=>a(l)).once("open",()=>{let l=hr.createWriteStream(e,{mode:t.mode});l.on("error",u=>a(u)).on("open",()=>o.pipe(l)).once("close",()=>Yu(t,e,i,a))})}function Yu(t,r,e,i){hr.chmod(r,t.mode,a=>a?i(a):e.preserveTimestamps?bE(r,t.atime,t.mtime,i):i())}function RE(t,r,e,i,a,o){return r?r&&!r.isDirectory()?o(new Error(`Cannot overwrite non-directory '${i}' with directory '${e}'.`)):Xu(e,i,a,o):xE(t,e,i,a,o)}function xE(t,r,e,i,a){hr.mkdir(e,o=>{if(o)return a(o);Xu(r,e,i,l=>l?a(l):hr.chmod(e,t.mode,a))})}function Xu(t,r,e,i){hr.readdir(t,(a,o)=>a?i(a):Zu(o,t,r,e,i))}function Zu(t,r,e,i,a){let o=t.pop();return o?AE(t,o,r,e,i,a):a()}function AE(t,r,e,i,a,o){let l=La.join(e,r),u=La.join(i,r);qa.checkPaths(l,u,"copy",(g,d)=>{if(g)return o(g);let{destStat:m}=d;Wn(m,l,u,a,v=>v?o(v):Zu(t,e,i,a,o))})}function CE(t,r,e,i,a){hr.readlink(r,(o,l)=>{if(o)return a(o);if(i.dereference&&(l=La.resolve(process.cwd(),l)),t)hr.readlink(e,(u,g)=>u?u.code==="EINVAL"||u.code==="UNKNOWN"?hr.symlink(l,e,a):a(u):(i.dereference&&(g=La.resolve(process.cwd(),g)),qa.isSrcSubdir(l,g)?a(new Error(`Cannot copy '${l}' to a subdirectory of itself, '${g}'.`)):t.isDirectory()&&qa.isSrcSubdir(g,l)?a(new Error(`Cannot overwrite '${g}' with '${l}'.`)):OE(l,e,a)));else return hr.symlink(l,e,a)})}function OE(t,r,e){hr.unlink(r,i=>i?e(i):hr.symlink(t,r,e))}ep.exports=$E});var Yn=Y((gb,tp)=>{"use strict";var FE=Ir().fromCallback;tp.exports={copy:FE(rp())}});var up=Y((yb,cp)=>{"use strict";var ap=ir(),op=require("path"),Fe=require("assert"),Ma=process.platform==="win32";function fp(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{t[e]=t[e]||ap[e],e=e+"Sync",t[e]=t[e]||ap[e]}),t.maxBusyTries=t.maxBusyTries||3}function Xn(t,r,e){let i=0;typeof r=="function"&&(e=r,r={}),Fe(t,"rimraf: missing path"),Fe.strictEqual(typeof t,"string","rimraf: path should be a string"),Fe.strictEqual(typeof e,"function","rimraf: callback function required"),Fe(r,"rimraf: invalid options argument provided"),Fe.strictEqual(typeof r,"object","rimraf: options should be object"),fp(r),sp(t,r,function a(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&i<r.maxBusyTries){i++;let l=i*100;return setTimeout(()=>sp(t,r,a),l)}o.code==="ENOENT"&&(o=null)}e(o)})}function sp(t,r,e){Fe(t),Fe(r),Fe(typeof e=="function"),r.lstat(t,(i,a)=>{if(i&&i.code==="ENOENT")return e(null);if(i&&i.code==="EPERM"&&Ma)return ip(t,r,i,e);if(a&&a.isDirectory())return ri(t,r,i,e);r.unlink(t,o=>{if(o){if(o.code==="ENOENT")return e(null);if(o.code==="EPERM")return Ma?ip(t,r,o,e):ri(t,r,o,e);if(o.code==="EISDIR")return ri(t,r,o,e)}return e(o)})})}function ip(t,r,e,i){Fe(t),Fe(r),Fe(typeof i=="function"),e&&Fe(e instanceof Error),r.chmod(t,438,a=>{a?i(a.code==="ENOENT"?null:e):r.stat(t,(o,l)=>{o?i(o.code==="ENOENT"?null:e):l.isDirectory()?ri(t,r,e,i):r.unlink(t,i)})})}function np(t,r,e){let i;Fe(t),Fe(r),e&&Fe(e instanceof Error);try{r.chmodSync(t,438)}catch(a){if(a.code==="ENOENT")return;throw e}try{i=r.statSync(t)}catch(a){if(a.code==="ENOENT")return;throw e}i.isDirectory()?ti(t,r,e):r.unlinkSync(t)}function ri(t,r,e,i){Fe(t),Fe(r),e&&Fe(e instanceof Error),Fe(typeof i=="function"),r.rmdir(t,a=>{a&&(a.code==="ENOTEMPTY"||a.code==="EEXIST"||a.code==="EPERM")?TE(t,r,i):a&&a.code==="ENOTDIR"?i(e):i(a)})}function TE(t,r,e){Fe(t),Fe(r),Fe(typeof e=="function"),r.readdir(t,(i,a)=>{if(i)return e(i);let o=a.length,l;if(o===0)return r.rmdir(t,e);a.forEach(u=>{Xn(op.join(t,u),r,g=>{if(!l){if(g)return e(l=g);--o===0&&r.rmdir(t,e)}})})})}function lp(t,r){let e;r=r||{},fp(r),Fe(t,"rimraf: missing path"),Fe.strictEqual(typeof t,"string","rimraf: path should be a string"),Fe(r,"rimraf: missing options"),Fe.strictEqual(typeof r,"object","rimraf: options should be object");try{e=r.lstatSync(t)}catch(i){if(i.code==="ENOENT")return;i.code==="EPERM"&&Ma&&np(t,r,i)}try{e&&e.isDirectory()?ti(t,r,null):r.unlinkSync(t)}catch(i){if(i.code==="ENOENT")return;if(i.code==="EPERM")return Ma?np(t,r,i):ti(t,r,i);if(i.code!=="EISDIR")throw i;ti(t,r,i)}}function ti(t,r,e){Fe(t),Fe(r),e&&Fe(e instanceof Error);try{r.rmdirSync(t)}catch(i){if(i.code==="ENOTDIR")throw e;if(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")NE(t,r);else if(i.code!=="ENOENT")throw i}}function NE(t,r){if(Fe(t),Fe(r),r.readdirSync(t).forEach(e=>lp(op.join(t,e),r)),Ma){let e=Date.now();do try{return r.rmdirSync(t,r)}catch{}while(Date.now()-e<500)}else return r.rmdirSync(t,r)}cp.exports=Xn;Xn.sync=lp});var ka=Y((Eb,mp)=>{"use strict";var jE=Ir().fromCallback,pp=up();mp.exports={remove:jE(pp),removeSync:pp.sync}});var Pp=Y((Sb,Sp)=>{"use strict";var LE=Ir().fromCallback,vp=ir(),gp=require("path"),yp=Rr(),Ep=ka(),hp=LE(function(r,e){e=e||function(){},vp.readdir(r,(i,a)=>{if(i)return yp.mkdirs(r,e);a=a.map(l=>gp.join(r,l)),o();function o(){let l=a.pop();if(!l)return e();Ep.remove(l,u=>{if(u)return e(u);o()})}})});function dp(t){let r;try{r=vp.readdirSync(t)}catch{return yp.mkdirsSync(t)}r.forEach(e=>{e=gp.join(t,e),Ep.removeSync(e)})}Sp.exports={emptyDirSync:dp,emptydirSync:dp,emptyDir:hp,emptydir:hp}});var Ip=Y((Pb,$p)=>{"use strict";var qE=Ir().fromCallback,wp=require("path"),Ua=ir(),bp=Rr(),ME=Hr().pathExists;function kE(t,r){function e(){Ua.writeFile(t,"",i=>{if(i)return r(i);r()})}Ua.stat(t,(i,a)=>{if(!i&&a.isFile())return r();let o=wp.dirname(t);ME(o,(l,u)=>{if(l)return r(l);if(u)return e();bp.mkdirs(o,g=>{if(g)return r(g);e()})})})}function UE(t){let r;try{r=Ua.statSync(t)}catch{}if(r&&r.isFile())return;let e=wp.dirname(t);Ua.existsSync(e)||bp.mkdirsSync(e),Ua.writeFileSync(t,"")}$p.exports={createFile:qE(kE),createFileSync:UE}});var Ap=Y((wb,xp)=>{"use strict";var BE=Ir().fromCallback,Dp=require("path"),Bt=ir(),Rp=Rr(),_p=Hr().pathExists;function zE(t,r,e){function i(a,o){Bt.link(a,o,l=>{if(l)return e(l);e(null)})}_p(r,(a,o)=>{if(a)return e(a);if(o)return e(null);Bt.lstat(t,l=>{if(l)return l.message=l.message.replace("lstat","ensureLink"),e(l);let u=Dp.dirname(r);_p(u,(g,d)=>{if(g)return e(g);if(d)return i(t,r);Rp.mkdirs(u,m=>{if(m)return e(m);i(t,r)})})})})}function HE(t,r){if(Bt.existsSync(r))return;try{Bt.lstatSync(t)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let i=Dp.dirname(r);return Bt.existsSync(i)||Rp.mkdirsSync(i),Bt.linkSync(t,r)}xp.exports={createLink:BE(zE),createLinkSync:HE}});var Op=Y((bb,Cp)=>{"use strict";var _t=require("path"),Ba=ir(),VE=Hr().pathExists;function GE(t,r,e){if(_t.isAbsolute(t))return Ba.lstat(t,i=>i?(i.message=i.message.replace("lstat","ensureSymlink"),e(i)):e(null,{toCwd:t,toDst:t}));{let i=_t.dirname(r),a=_t.join(i,t);return VE(a,(o,l)=>o?e(o):l?e(null,{toCwd:a,toDst:t}):Ba.lstat(t,u=>u?(u.message=u.message.replace("lstat","ensureSymlink"),e(u)):e(null,{toCwd:t,toDst:_t.relative(i,t)})))}}function KE(t,r){let e;if(_t.isAbsolute(t)){if(e=Ba.existsSync(t),!e)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{let i=_t.dirname(r),a=_t.join(i,t);if(e=Ba.existsSync(a),e)return{toCwd:a,toDst:t};if(e=Ba.existsSync(t),!e)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:_t.relative(i,t)}}}Cp.exports={symlinkPaths:GE,symlinkPathsSync:KE}});var Np=Y(($b,Tp)=>{"use strict";var Fp=ir();function QE(t,r,e){if(e=typeof r=="function"?r:e,r=typeof r=="function"?!1:r,r)return e(null,r);Fp.lstat(t,(i,a)=>{if(i)return e(null,"file");r=a&&a.isDirectory()?"dir":"file",e(null,r)})}function JE(t,r){let e;if(r)return r;try{e=Fp.lstatSync(t)}catch{return"file"}return e&&e.isDirectory()?"dir":"file"}Tp.exports={symlinkType:QE,symlinkTypeSync:JE}});var Bp=Y((Ib,Up)=>{"use strict";var WE=Ir().fromCallback,Lp=require("path"),ma=ir(),qp=Rr(),YE=qp.mkdirs,XE=qp.mkdirsSync,Mp=Op(),ZE=Mp.symlinkPaths,eS=Mp.symlinkPathsSync,kp=Np(),rS=kp.symlinkType,tS=kp.symlinkTypeSync,jp=Hr().pathExists;function aS(t,r,e,i){i=typeof e=="function"?e:i,e=typeof e=="function"?!1:e,jp(r,(a,o)=>{if(a)return i(a);if(o)return i(null);ZE(t,r,(l,u)=>{if(l)return i(l);t=u.toDst,rS(u.toCwd,e,(g,d)=>{if(g)return i(g);let m=Lp.dirname(r);jp(m,(v,S)=>{if(v)return i(v);if(S)return ma.symlink(t,r,d,i);YE(m,h=>{if(h)return i(h);ma.symlink(t,r,d,i)})})})})})}function sS(t,r,e){if(ma.existsSync(r))return;let a=eS(t,r);t=a.toDst,e=tS(a.toCwd,e);let o=Lp.dirname(r);return ma.existsSync(o)||XE(o),ma.symlinkSync(t,r,e)}Up.exports={createSymlink:WE(aS),createSymlinkSync:sS}});var Hp=Y((_b,zp)=>{"use strict";var ai=Ip(),si=Ap(),ii=Bp();zp.exports={createFile:ai.createFile,createFileSync:ai.createFileSync,ensureFile:ai.createFile,ensureFileSync:ai.createFileSync,createLink:si.createLink,createLinkSync:si.createLinkSync,ensureLink:si.createLink,ensureLinkSync:si.createLinkSync,createSymlink:ii.createSymlink,createSymlinkSync:ii.createSymlinkSync,ensureSymlink:ii.createSymlink,ensureSymlinkSync:ii.createSymlinkSync}});var Qp=Y((Db,Kp)=>{var ha;try{ha=ir()}catch{ha=require("fs")}function iS(t,r,e){e==null&&(e=r,r={}),typeof r=="string"&&(r={encoding:r}),r=r||{};var i=r.fs||ha,a=!0;"throws"in r&&(a=r.throws),i.readFile(t,r,function(o,l){if(o)return e(o);l=Gp(l);var u;try{u=JSON.parse(l,r?r.reviver:null)}catch(g){return a?(g.message=t+": "+g.message,e(g)):e(null,null)}e(null,u)})}function nS(t,r){r=r||{},typeof r=="string"&&(r={encoding:r});var e=r.fs||ha,i=!0;"throws"in r&&(i=r.throws);try{var a=e.readFileSync(t,r);return a=Gp(a),JSON.parse(a,r.reviver)}catch(o){if(i)throw o.message=t+": "+o.message,o;return null}}function Vp(t,r){var e,i=`
`;typeof r=="object"&&r!==null&&(r.spaces&&(e=r.spaces),r.EOL&&(i=r.EOL));var a=JSON.stringify(t,r?r.replacer:null,e);return a.replace(/\n/g,i)+i}function oS(t,r,e,i){i==null&&(i=e,e={}),e=e||{};var a=e.fs||ha,o="";try{o=Vp(r,e)}catch(l){i&&i(l,null);return}a.writeFile(t,o,e,i)}function fS(t,r,e){e=e||{};var i=e.fs||ha,a=Vp(r,e);return i.writeFileSync(t,a,e)}function Gp(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t=t.replace(/^\uFEFF/,""),t}var lS={readFile:iS,readFileSync:nS,writeFile:oS,writeFileSync:fS};Kp.exports=lS});var oi=Y((Rb,Wp)=>{"use strict";var Jp=Ir().fromCallback,ni=Qp();Wp.exports={readJson:Jp(ni.readFile),readJsonSync:ni.readFileSync,writeJson:Jp(ni.writeFile),writeJsonSync:ni.writeFileSync}});var Zp=Y((xb,Xp)=>{"use strict";var cS=require("path"),uS=Rr(),pS=Hr().pathExists,Yp=oi();function mS(t,r,e,i){typeof e=="function"&&(i=e,e={});let a=cS.dirname(t);pS(a,(o,l)=>{if(o)return i(o);if(l)return Yp.writeJson(t,r,e,i);uS.mkdirs(a,u=>{if(u)return i(u);Yp.writeJson(t,r,e,i)})})}Xp.exports=mS});var rm=Y((Ab,em)=>{"use strict";var hS=ir(),dS=require("path"),vS=Rr(),gS=oi();function yS(t,r,e){let i=dS.dirname(t);hS.existsSync(i)||vS.mkdirsSync(i),gS.writeJsonSync(t,r,e)}em.exports=yS});var am=Y((Cb,tm)=>{"use strict";var ES=Ir().fromCallback,Sr=oi();Sr.outputJson=ES(Zp());Sr.outputJsonSync=rm();Sr.outputJSON=Sr.outputJson;Sr.outputJSONSync=Sr.outputJsonSync;Sr.writeJSON=Sr.writeJson;Sr.writeJSONSync=Sr.writeJsonSync;Sr.readJSON=Sr.readJson;Sr.readJSONSync=Sr.readJsonSync;tm.exports=Sr});var lm=Y((Ob,fm)=>{"use strict";var nm=ir(),SS=require("path"),PS=Jn().copySync,om=ka().removeSync,wS=Rr().mkdirpSync,sm=Ta();function bS(t,r,e){e=e||{};let i=e.overwrite||e.clobber||!1,{srcStat:a}=sm.checkPathsSync(t,r,"move");return sm.checkParentPathsSync(t,a,r,"move"),wS(SS.dirname(r)),$S(t,r,i)}function $S(t,r,e){if(e)return om(r),im(t,r,e);if(nm.existsSync(r))throw new Error("dest already exists.");return im(t,r,e)}function im(t,r,e){try{nm.renameSync(t,r)}catch(i){if(i.code!=="EXDEV")throw i;return IS(t,r,e)}}function IS(t,r,e){return PS(t,r,{overwrite:e,errorOnExist:!0}),om(t)}fm.exports=bS});var um=Y((Fb,cm)=>{"use strict";cm.exports={moveSync:lm()}});var vm=Y((Tb,dm)=>{"use strict";var _S=ir(),DS=require("path"),RS=Yn().copy,hm=ka().remove,xS=Rr().mkdirp,AS=Hr().pathExists,pm=Ta();function CS(t,r,e,i){typeof e=="function"&&(i=e,e={});let a=e.overwrite||e.clobber||!1;pm.checkPaths(t,r,"move",(o,l)=>{if(o)return i(o);let{srcStat:u}=l;pm.checkParentPaths(t,u,r,"move",g=>{if(g)return i(g);xS(DS.dirname(r),d=>d?i(d):OS(t,r,a,i))})})}function OS(t,r,e,i){if(e)return hm(r,a=>a?i(a):mm(t,r,e,i));AS(r,(a,o)=>a?i(a):o?i(new Error("dest already exists.")):mm(t,r,e,i))}function mm(t,r,e,i){_S.rename(t,r,a=>a?a.code!=="EXDEV"?i(a):FS(t,r,e,i):i())}function FS(t,r,e,i){RS(t,r,{overwrite:e,errorOnExist:!0},o=>o?i(o):hm(t,i))}dm.exports=CS});var ym=Y((Nb,gm)=>{"use strict";var TS=Ir().fromCallback;gm.exports={move:TS(vm())}});var wm=Y((jb,Pm)=>{"use strict";var NS=Ir().fromCallback,za=ir(),Em=require("path"),Sm=Rr(),jS=Hr().pathExists;function LS(t,r,e,i){typeof e=="function"&&(i=e,e="utf8");let a=Em.dirname(t);jS(a,(o,l)=>{if(o)return i(o);if(l)return za.writeFile(t,r,e,i);Sm.mkdirs(a,u=>{if(u)return i(u);za.writeFile(t,r,e,i)})})}function qS(t,...r){let e=Em.dirname(t);if(za.existsSync(e))return za.writeFileSync(t,...r);Sm.mkdirsSync(e),za.writeFileSync(t,...r)}Pm.exports={outputFile:NS(LS),outputFileSync:qS}});var $m=Y((Lb,Zn)=>{"use strict";Zn.exports=Object.assign({},jn(),Jn(),Yn(),Pp(),Hp(),am(),Rr(),um(),ym(),wm(),Hr(),ka());var bm=require("fs");Object.getOwnPropertyDescriptor(bm,"promises")&&Object.defineProperty(Zn.exports,"promises",{get(){return bm.promises}})});var Gh={errors(t){let r="error:",e=t.toLowerCase().indexOf(r);if(e!==-1)return new Error(t.slice(e+r.length).trim());if(t.includes("Multiphase Tank Reactor")){if(t.includes("Simulation stopped abnormally"))return new Error("Simulation stopped abnormally")}else{let i="error",a=t.toLowerCase().indexOf(i);if(a!==-1)return new Error(t.slice(a).trim())}},warnings(t){let r=t.split(`
`),e="warning:",i=r.reduce((a,o)=>{let l=o.toLowerCase().indexOf(e);return l!==-1&&a.push(o.slice(l+e.length).trim()),a},[]);if(i.length>0)return i}},Lo=Gh;function ns(t,r){let e=Object.keys(t),i={},a=0,o;for(let l=0;l<e.length;++l){let u=r(e[l],{}),g=t[e[l]];if(g==="*"){if(o)throw new Error('Cannot use "*" multiple times');o=u}else a+=g,i[u]=g}if(o){if(a>1+.001)throw new Error("Mole fractions do not add up to unity");i[o]=Math.max(1-a,0)}else if(a<1-.001)throw new Error("Mole fractions do not add up to unity");return i}function Ai(t){return t?"y":"n"}var Vl=Ct(Ul());function Bl(t){let r=Object.keys(t.params).map(e=>`${e}: ${t.params[e]}`).join(", ");return new Error(`Configuration ${t.dataPath.length?`field ${t.dataPath.slice(1)}`:""} ${t.message} (${r})`)}var zl=Bl;var Uv=Hl();function Gl(t){let r=new Vl.default;r.addMetaSchema(Uv);let e=r.compile(t);return function(a){return e(a),e.errors?e.errors.map(zl):[]}}function Ur(t,r){return t==null||t!==t?r:t}var fn=Ct(on());var rc=Ct(on()),Ge=class extends rc.default{constructor(r,...e){!Object.prototype.hasOwnProperty.call(r,"name")&&Object.prototype.hasOwnProperty.call(r,"code")&&(r.name=r.code),super(r,...e)}};function ln(t){return typeof t=="string"?"string":typeof t=="boolean"?"boolean":Array.isArray(t)?"array":t===null?"null":t===void 0?"undefined":"object"}function cn(t,r,e){return t.padStart(r,e)}function Tt(t,r,e){return t.padEnd(r,e)}function na(t){let[r,e]=t.toExponential(8).split("e");if(e.length>3)throw new RangeError("toExponential() arg is out of range: only two exponential digits allowed");let i=t<0?"":" ",a=e[0],o=e.slice(1),l=o.length===1?"0":"";return`${i+r}e${a}${l}${o}`}function Lr(t,r=8){let e=t<0?"-":" ";t=Math.abs(t);let i=r-2;0<t&&t<1&&--i;let a=e+t.toPrecision(i);if(a.length===r)return a;throw new Error(`Could not convert number ${t} to string with fixed length of ${r}`)}function lg(t){let r={name:"CHEMSURF",value:[{name:"time",value:Ur(t.integration_time,10)},{name:"analytical",value:"n"},{name:"write_file",value:"n"}]};return t.initial_integration_step_size!==void 0&&r.value.push({name:"hini",value:t.initial_integration_step_size}),t.absolute_tolerance!==void 0&&r.value.push({name:"atol",value:t.absolute_tolerance}),t.relative_tolerance!==void 0&&r.value.push({name:"rtol",value:t.relative_tolerance}),r}function cg(t,r){return[{name:"MIXED_DIFF",value:[{name:"SOLVER",value:[{name:"time",value:10},{name:"hini",value:1e-12},{name:"atol",value:1e-16},{name:"rtol",value:1e-4}]},{name:"ZONE",value:[{name:"ngrid",value:30},{name:"aspect",value:1.2},{name:"thickness",value:t.thickness}]},{name:"porosity",value:t.porosity},{name:"diameter",value:t.pore_diameter},{name:"tau",value:t.tortuosity}]},{name:"EFF_MODEL",value:t.diffusion_limiting_species.map(e=>({value:r(e,{})}))}]}function tc(t,r,e=!1){var u;let i=t.washcoat?cg(t.washcoat,r):[],o={name:"Fcatgeo",value:t.f_cat_geo===void 0?1:t.f_cat_geo},l=lg((u=t.chem_surf)!=null?u:{});return e?{name:"SURFACE-MODEL",value:[l]}:{name:"SURFACE-MODEL",value:[l,o,...i]}}function ac(t){return t&&typeof t=="object"?ug(t):t}function ug(t){if(Array.isArray(t)){let r=[];for(let e=0;e<t.length;++e){let i=ac(t[e]);Array.isArray(i)?r.push(...i):r.push({value:i})}return r}return Object.keys(t).filter(r=>t[r]!==void 0).map(r=>yt(r,t[r]))}function yt(t,r){return{name:t,value:ac(r)}}function un(t){let r=[];for(let e=0;e<t.length;++e){let i=t[e],a=Math.abs(i.nu);if(a!==i.order||!Number.isInteger(a)||a>3){r.push(i);continue}let{name:o,nu:l}=i;for(let u=0;u<a;++u)r.push({name:o,nu:Math.sign(l),order:1})}return r}function sc(t,r,e,i){let a=i.ford,o=i.third_body_efficiencies,l=[...t.map(({name:v,nu:S,fallOff:h})=>({name:v,nu:-Ur(S,1),fallOff:h})),...r.map(({name:v,nu:S,fallOff:h})=>({name:v,nu:Ur(S,1),fallOff:h}))],u=[],g=[];for(let v=0;v<l.length;++v){let{name:S,nu:h,fallOff:w}=l[v];(w?g:u).push({name:S,nu:h,order:Math.abs(h)})}if(a){let v=u.filter(S=>S.nu<0);Object.keys(a).forEach(S=>{let h=v.map((_,I)=>({index:I,name:_.name})).filter(_=>_.name===S);if(h.length===0)return u.unshift({name:S,nu:0,order:a[S]});if(h.length===1)return u[h[0].index].order=a[S];let{nu:w}=u[h[0].index];for(let _=1;_<h.length;++_){let{index:I}=h[_];w+=u[I].nu,u.splice(I,1)}Object.assign(u[h[0].index],{nu:w,order:a[S]})})}let d;if(g.length>0){if(g.length!==2)throw new Error("Fall-off species do not match");if(g[0].name!==g[1].name)throw new Error("Fall-off species do not match");if(g.find(v=>v.order!==1))throw new Error("Cannot modify stoichiometric coefficients of fall-off species");d=g[0].name}let m=u.filter(v=>e.isThirdBody(v.name));if(m.length>0){if(m.length>2||m.reduce((v,S)=>v+S.nu,0)!==0)throw new Error("Reaction is unbalanced (third-body)");if(m.find(v=>v.order!==1))throw new Error("Reaction order with respect to a third-body species must be one")}if(o&&!m.length&&!(d&&e.isThirdBody(d)))throw new Error("Enhanced third-body efficiencies defined although a third-body species does not appear in the reaction");return{reactants:u,fallOffSpecies:d}}var pg={"J/mol":1,"kJ/mol":1e3,"cal/mol":4.184,"kcal/mol":4184};function ic(t,r){return t*pg[r]}var nc={Ea:"cal/mol",A:["cm","mol"]};function Et(t,r){let e=`Line ${t.start.line}, column ${t.start.column}`;return r?`${e}: ${r}`:e}function xs(t){let r=parseFloat(t);if(isNaN(r))throw new Error("Input is not a number");return r}function Yr(t,r){if(t.length!==3){let e=r?`${r}: `:"";throw new Ge(`${e}Requires 3 parameters, but got ${t.length}`)}try{let e=t.map(i=>xs(i));return{A:e[0],b:e[1],Ea:e[2]}}catch(e){throw r?new Ge(e,r):e}}function oc(t){if(t.length!==4)throw new Error(`Invalid number of arguments: requires 4, but got ${t.length}`);let[r,e,i]=t.slice(1).map(parseFloat);return{[t[0]]:{eta:r,mu:e,epsilon:ic(i,"cal/mol")}}}function fc(t){if(t.length!==4)throw new Error("PLOG requires 4 parameters");return{pressure:parseFloat(t[0]),...Yr(t.slice(1))}}function As(t){if(t.length>1)throw new Error('Too many arguments for reaction option "UNITS"');let r={};for(let e=0;e<t.length;++e)Object.assign(r,mg(t[e]));return r}function mg(t){switch(t.toLowerCase()){case"joul":case"joules":case"joules/mole":return{Ea:"J/mol"};case"kjou":case"kjoules":case"kjoules/mole":return{Ea:"kJ/mol"};case"cal":case"cal/mole":return{Ea:"cal/mol"};case"kcal":return{Ea:"kcal/mol"};case"mole":case"moles":return{A:["cm","mol"]};case"molec":case"molecules":return{A:["cm","1"]}}throw new Error(`Unrecognized unit "${t}"`)}function pn(t){if(t.length!==2)throw new Error(`Invalid number of arguments: requires 2, but got ${t.length}`);return{[t[0]]:parseFloat(t[1])}}function lc(t){if(t.length!==3&&t.length!==4)throw new Ge(`TROE: Requires 3 or 4 parameters, but got ${t.length}`);try{let r=t.map(xs);return{alpha:r[0],T3:r[1],T1:r[2],T2:r[3]}}catch(r){throw new Ge(r,"TROE")}}function cc(t){if(t.length!==3&&t.length!==5)throw new Error(`Must specify 3 or 5 SRI parameters (got: ${t.length})`);let r=t.map(parseFloat);return{a:r[0],b:r[1],c:r[2],d:r[3],e:r[4]}}function uc(t,r){let e={};for(let a=0;a<t.length;++a){let o=hg(t[a]),l=Object.keys(o)[0];if(e[l])switch(l){case"cov":case"ford":case"third_body_efficiencies":case"units":Object.assign(e[l],o[l]);break;case"plog":let[u]=o.plog;e.plog.push(u)}else e[l]=o[l]}let{plog:i}=e;if(i){let a=new Set,o=i[0].pressure;for(let l=0;l<i.length;++l){let{pressure:u}=i[l];if(!r.allowDuplicatePLOG&&a.has(u))throw new Error(`PLOG contains duplicate (${u})`);if(u<o)throw new Error("PLOG pressures are not in ascending order");o=u,a.add(u)}}return e}function hg(t){switch(t.type.toLowerCase()){case"cov":return{cov:oc(t.parameters)};case"dup":case"duplicate":if(t.parameters.length!==0)throw new Error('Reaction option "DUPLICATE" must not specify parameters');return{duplicate:!0};case"ford":return{ford:pn(t.parameters)};case"low":return{low:Yr(t.parameters,"LOW")};case"mwoff":return{MotzWiseCorrection:!1};case"mwon":return{MotzWiseCorrection:!0};case"plog":return{plog:[fc(t.parameters)]};case"rev":return{rev:Yr(t.parameters,"REV")};case"sri":return{sri:cc(t.parameters)};case"stick":if(t.parameters.length!==0)throw new Error('Reaction option "STICK" must not specify parameters');return{stick:!0};case"troe":return{troe:lc(t.parameters)};case"units":return{units:As(t.parameters)};case"high":case"lt":case"rlt":case"jan":case"fit1":case"hv":case"tdep":case"exci":case"mome":case"xsmi":throw new Error(`Reaction option "${t.type}" not supported. Please file a feature request.`)}if(t.parameters.length!==1)throw new Error(`Unknown reaction option ${t.type}`);return{third_body_efficiencies:pn([t.type,t.parameters[0]])}}function pc(t,r,e,i){let{ford:a,third_body_efficiencies:o,...l}=uc(t.auxiliaryData,i),{reactants:u,fallOffSpecies:g}=sc(t.reactants,t.products,e,{ford:a,third_body_efficiencies:o}),{reversible:d,coefficients:m}=t;return{id:String(r),reactants:u,reversible:d,coefficients:m,options:{fallOffSpecies:g,thirdBodyEfficiencies:o,...l}}}function mc(t,r,e,i){let a=pc(t,r,e,i);return a.options.fallOffSpecies?gg(a,e):t.reactants.some(o=>e.dimension(o.name)===2)||t.products.some(o=>e.dimension(o.name)===2)?a.options.stick?yg(a,e):Eg(a,e):dg(a)}function Cs(t,r){Object.keys(t).forEach(e=>{if(e!=="rev"&&t[e]!==void 0)throw new Error(`Option "${e}" cannot be used with ${r} reactions`)})}function Os({id:t,reactants:r,reversible:e,options:i}){var a,o;if(!e&&i.rev)throw new Error('Option "REV" cannot be used with irreversible reactions');return{id:t,reversible:(a=i.rev)!=null?a:e,reactants:r,units:(o=i.units)!=null?o:{}}}function dg(t){let{thirdBodyEfficiencies:r,plog:e,units:i,duplicate:a,...o}=t.options;return Cs(o,"elementary"),{...Os(t),type:"elementary",rateParameters:e!=null?e:Yr(t.coefficients),thirdBodyEfficiencies:r}}function vg(t){if(t.sri&&t.troe)throw new Error("Cannot use both SRI and TROE keywords");return t.sri?{type:"sri",parameters:t.sri}:t.troe?{type:"troe",parameters:t.troe}:{type:"lindemann"}}function gg(t,r){let{fallOffSpecies:e,low:i,sri:a,troe:o,thirdBodyEfficiencies:l,units:u,duplicate:g,...d}=t.options;if(Cs(d,"pressure-dependent"),!e)throw new Error("Pressure-dependent reaction requires fall-off species");if(!i)throw new Error("Pressure-dependent reaction requires LOW parameters");if(t.reactants.find(m=>r.isThirdBody(m.name)))throw new Error("Pressure-dependent reaction: Cannot specify third-body species as reactant");return{...Os(t),type:"pressure_dependent",rateParameters:{pressureDependentFactor:"low",high:Yr(t.coefficients),low:i},fallOffSpecies:e,fallOffFunction:vg({sri:a,troe:o}),thirdBodyEfficiencies:l}}function yg(t,r){let{stick:e,cov:i,MotzWiseCorrection:a,units:o,duplicate:l,...u}=t.options;if(Cs(u,"stick"),t.reactants.filter(v=>v.nu<0&&r.dimension(v.name)!==2).length!==1)throw new Error("Stick reaction: Requires exactly one gas-phase reactant");let[g,d,m]=t.coefficients;return{...Os(t),type:"stick",stickingCoefficients:{a:g,b:d,c:m},coverageDependencyParameters:i,MotzWiseCorrection:a}}function Eg(t,r){let{cov:e,units:i,duplicate:a,...o}=t.options;return Cs(o,"surface"),{...Os(t),type:"surface",rateParameters:Yr(t.coefficients),coverageDependencyParameters:e}}function hc(t,r,e){let i=t.options.map(g=>g.toLowerCase()),a=i.filter(g=>g!=="mwon"&&g!=="mwoff"),[o,...l]=i.filter(g=>g==="mwon"||g==="mwoff");if(l.length>0)throw new Ge("Cannot specify both options MWON and MWOFF on REACTIONS line");let u;return o==="mwon"&&(u=!0),o==="mwoff"&&(u=!1),{options:{units:{...nc,...As(a)},MotzWiseCorrection:u},list:t.list.map((g,d)=>{try{return mc(g,d,r,e)}catch(m){throw new Ge(m,Et(g.location))}})}}function Fs(t){return+t===parseFloat(t)}function Ts(t){if(typeof t=="number")return t;if(typeof t!="string")throw new Error(`parseNumber(): input arg must be of type string or number (got: ${ln(t)})`);let r=t.trim();r.length===0&&dc(t);let e=+r.replace(/[d]/i,"e").replace(/ ?e ?/i,"e");return isNaN(e)&&dc(t),e}function dc(t){throw new Error(`parseNumber(): could not parse input (${t})`)}var yc=Ct(gc());function Ec(t,r){try{return t.startsWith("\uFEFF")&&(t=t.substring(1)),yc.parse(`${t}
`,{utils:{defaultTo:Ur,isNumeric:Fs,parseNumber:Ts},startRule:r!=null?r:"InputFile"})}catch(e){let i=e;throw i.location?new Ge(i,`Syntax error: ${Et(i.location)}`):i}}var mn={H:{mass:1.008},He:{mass:4.0026},Li:{mass:6.94},Be:{mass:9.0122},B:{mass:10.81},C:{mass:12.011},N:{mass:14.007},O:{mass:15.999},F:{mass:18.998},Ne:{mass:20.18},Na:{mass:22.99},Mg:{mass:24.305},Al:{mass:26.982},Si:{mass:28.085},P:{mass:30.974},S:{mass:32.06},Cl:{mass:35.45},Ar:{mass:39.948},K:{mass:39.098},Ca:{mass:40.078},Sc:{mass:44.956},Ti:{mass:47.867},V:{mass:50.942},Cr:{mass:51.996},Mn:{mass:54.938},Fe:{mass:55.845},Co:{mass:58.933},Ni:{mass:58.693},Cu:{mass:63.546},Zn:{mass:65.38},Ga:{mass:69.723},Ge:{mass:72.63},As:{mass:74.922},Se:{mass:78.971},Br:{mass:79.904},Kr:{mass:83.798},Rb:{mass:85.468},Sr:{mass:87.62},Y:{mass:88.906},Zr:{mass:91.224},Nb:{mass:92.906},Mo:{mass:95.95},Ru:{mass:101.07},Rh:{mass:102.91},Pd:{mass:106.42},Ag:{mass:107.87},Cd:{mass:112.41},In:{mass:114.82},Sn:{mass:118.71},Sb:{mass:121.76},Te:{mass:127.6},I:{mass:126.9},Xe:{mass:131.29},Cs:{mass:132.91},Ba:{mass:137.33},La:{mass:138.91},Ce:{mass:140.12},Pr:{mass:140.91},Nd:{mass:144.24},Sm:{mass:150.36},Eu:{mass:151.96},Gd:{mass:157.25},Tb:{mass:158.93},Dy:{mass:162.5},Ho:{mass:164.93},Er:{mass:167.26},Tm:{mass:168.93},Yb:{mass:173.05},Lu:{mass:174.97},Hf:{mass:178.49},Ta:{mass:180.95},W:{mass:183.84},Re:{mass:186.21},Os:{mass:190.23},Ir:{mass:192.22},Pt:{mass:195.08},Au:{mass:196.97},Hg:{mass:200.59},Tl:{mass:204.38},Pb:{mass:207.2},Bi:{mass:208.98}};function hn(t,r){if(r===null||typeof r!="object"||Array.isArray(r))return r;let e=Object.assign({},t),i=Object.keys(r);for(let a=0;a<i.length;++a){let o=i[a],l=r[o];l===null?delete e[o]:typeof e[o]=="object"&&typeof l=="object"?e[o]=hn(e[o],l):e[o]=l}return e}var Xr=class{constructor(r){this.entries={},r&&this.merge(r)}merge(r){(Array.isArray(r)?r:[r]).forEach(e=>{Object.keys(e).forEach(i=>{let a=this.resolve(i);a?this.entries[a]=hn(this.entries[a],e[i]):this.entries[i]=e[i]})})}adsorbent(r){let e=r.split("-");if(e.length<2)return;let i=e[e.length-1];if(i&&this.property(i,"dimension",3)===2)return i}entry(r){let e=this.resolve(r);if(e)return this.entries[e]||void 0}property(r,e,i){let a=this.entry(r);if(!a){if(i!==void 0)return i;throw new Error(`Cannot access ${e} data: Species "${r}" is not defined`)}if(typeof a[e]!="undefined")return a[e];if(a.extends)return this.property(a.extends,e,i);if(i!==void 0)return i;throw new Error(`Cannot access ${e} data: Species "${r}" has no ${e} data defined`)}composition(r){return this.property(r,"composition")}density(r){return this.property(r,"density")}dimension(r){try{return this.property(r,"dimension")}catch{return this.adsorbent(r)?2:3}}isThirdBody(r){return r.toUpperCase()==="M"?!0:r.startsWith("_")&&r[1]==="_"&&r[2]==="M"}isWildcard(r){return r==="*"}mass(r){let e=this.property(r,"mass",-1);if(e!==-1)return e;if(mn[r])return mn[r].mass;let i=this.composition(r);return Object.keys(i).reduce((o,l)=>{if(l===r)throw new Error(`Cannot compute mass for species "${r}"`);return o+this.mass(l)*i[l]},0)}molarMass(r){return this.mass(r)*.001}phase(r){try{return this.property(r,"phase")}catch{let i=this.adsorbent(r);if(i)return this.phase(i);if(this.dimension(r)===2)return"surface";switch(this.state(r)){case"S":return"solid";case"L":return"liquid";default:return"gas"}}}phases(){let r=new Set,e=Object.keys(this.entries);for(let i=0;i<e.length;++i){let a=this.entries[e[i]];a&&typeof a=="object"&&a.phase&&r.add(a.phase)}return Array.from(r)}resolve(r){let e=this.entries[r]||void 0;if(e)return typeof e=="string"?this.resolve(e):r}state(r){return this.isThirdBody(r)?"G":this.property(r,"state")}surfaceSiteDensity(r){return this.property(r,"surfaceSiteDensity")}thermodynamicData(r){return this.property(r,"thermodynamicData")}};var Sc=require("assert");function Pc(t,r=-1,e={}){let i={};for(let a of t){let o=a.name,l=i[o],u=wg(a,r);if(!l){i[o]=u;continue}e.duplicates!=="first_entry"&&Object.keys(u).forEach(g=>{if(g!=="location")try{(0,Sc.deepEqual)(u[g],l[g])}catch{throw new Ge(Et(a.location,`Thermodynamic data contains duplicate entry for species "${o}"`))}})}return i}function wg(t,r=-1){let{phase:e,composition:i,coefficients:a}=t;if(e!=="G"&&e!=="S"&&e!=="L")throw new Ge(`Thermodynamic data contains invalid state for species "${t.name}" (must be G/S/L, but got "${e}")`);let o=typeof a.range.common=="number"?a.range.common:r,{low:l,high:u}=a.range;if(!(u>=o&&o>=l))throw new Ge(`Thermodynamic data contains invalid temperature range for species "${t.name}"`);return{composition:i,state:e,thermodynamicData:[{type:"NASA7",range:{low:a.range.low,high:o},coefficients:a.low},{type:"NASA7",range:{low:o,high:a.range.high},coefficients:a.high}]}}function dn(t,r={}){let{range:e,entries:i}=Ec(t,"ThermodynamicDataFile");return Pc(i,e.common,r)}var $c=Ct(bc());function Ic(t){try{return $c.parse(`${t}
`,{utils:{defaultTo:Ur,isNumeric:Fs,parseNumber:Ts},startRule:"File"})}catch(r){let e=r;throw e.location?new Ge(e,`Syntax error: ${Et(e.location)}`):e}}function vn(t,r=new Xr){let e=Ic(t);return hc({list:e,options:["kjoules/mole"]},r,{})}function _c(t,r){var o,l;let e=un(t.reactants),i={};"thirdBodyEfficiencies"in t&&(i=(o=t.thirdBodyEfficiencies)!=null?o:{});let a={reactants:[],products:[],orders:{}};for(let{nu:u,order:g,name:d}of e){let m=r(d,i);u<0?(Math.abs(u)!==g&&(a.orders[r(d,i)]=g),u!==-1&&(m=`${Math.abs(u)} ${m}`),a.reactants.push(m)):u>0&&(u!==1&&(m=`${u} ${m}`),a.products.push(m))}if(t.type==="pressure_dependent"){let{fallOffSpecies:u}=t,g=r.sdb.isThirdBody(u)?(l=t.thirdBodyEfficiencies)!=null?l:{}:{[u]:1,"*":0},d=r("M",g);a.reactants.push(d),a.products.push(d)}return a}function Ig(t,{sdb:r}){return!t.reactants.some(e=>r.phase(e.name)!=="gas")}function oa(t,r,e){let{reversible:i}=t,{reactants:a,products:o,orders:l}=_c(t,e),u=_g(t,r),g=Dg(a,o,typeof i=="boolean"?i:!1),d=Number.isNaN(+t.id)?t.id:(+t.id+1).toString(),m=[];if(Object.keys(l).length>0||!Ig(t,e)&&(a.length>3||o.length>3)){let v=xg(t);m.push({"#id":d,GLOBAL:[g,{[v]:[l,u]}]})}else if(t.type==="detchem_udf"){let v=Rc(t);m.push({"#id":d,[v]:[g,`variable=${t.variable}`,u]})}else{let v=Rc(t);m.push({"#id":d,[v]:[g,u]})}return typeof i=="object"&&m.push(oa({id:`${d}r`,type:"elementary",reversible:!1,location:t.location,rateParameters:i,reactants:t.reactants.map(v=>({name:v.name,nu:v.nu*-1,order:v.order})),units:t.units},r,e)),m}function _g(t,r){let e=r.units,i=Rg(t,e);switch(t.type){case"elementary":{let{rateParameters:a}=t;return Array.isArray(a)?[{Ea_unit:`1 [${i.Ea}]`},a.map(o=>({PLOG:[o.pressure,o.A,o.b,o.Ea]}))]:Ns(a,i)}case"surface":{let a=Ns(t.rateParameters,i);return t.coverageDependencyParameters?[a,Dc(t.coverageDependencyParameters)]:a}case"stick":{let{stickingCoefficients:a,coverageDependencyParameters:o,MotzWiseCorrection:l}=Ag(t,["stickingCoefficients","coverageDependencyParameters","MotzWiseCorrection"]),{a:u,b:g,c:d}=a,m={S0:u,beta:g,Ea:`${d} [${i.Ea}]`};return l&&(m.MotzWise="y"),o?[m,Dc(o)]:m}case"pressure_dependent":{let{pressureDependentFactor:a,high:o,low:l}=t.rateParameters;if(a!=="low")throw new Error('DETCHEM does not support bimolecular pressure-dependent reactions (using CHEMKIN "HIGH" keyword)');let{fallOffFunction:u}=t,g=[Ns(o,i,"_inf"),Ns(l,i,"_0")];switch(u.type){case"lindemann":return g;case"sri":{let d=u.parameters;return[...g,d]}case"troe":{let d=u.parameters;return d.T2===void 0&&(d.T2=1e30),[...g,{alpha:d.alpha,"T***":d.T3,"T*":d.T1,"T**":d.T2}]}}throw new Error(`Unsupported: Cannot convert pressure-dependent reaction with fall-off functions of type "${u.type}" to DETCHEM format`)}case"detchem_udf":return[]}}function Ns({A:t,b:r,Ea:e},i,a=""){return{[`A${a}/${i.A}`]:t,[`beta${a}`]:r,[`Ea${a}`]:`${e} [${i.Ea}]`}}function Dc(t){return Object.keys(t).map(r=>{let{eta:e,mu:i,epsilon:a}=t[r];if(e!==0)throw new Error("Unsupported: DETCHEM does not support eta parameter in COV");return{COV:[r,{"epsilon/J_mol":a},{mu:i}]}})}function Dg(t,r,e){return`${t.join(" + ")}   ${e?"=":">"}  ${r.join(" + ")}`}function Rg(t,r){var a;let{units:e}=t;if((e.A&&e.A[1]||r.A[1])==="1")throw new Error("Unsupported: Cannot use molecule units for pre-exponential factor");let i={m:"SIunits",cm:"cm_units","J/mol":"J/mol","kJ/mol":"kJ/mol","cal/mol":"cal/mol","kcal/mol":"kcal/mol"};return{A:i[e.A&&e.A[0]||r.A[0]],Ea:i[(a=e.Ea)!=null?a:r.Ea]}}function Rc(t){switch(t.type){case"elementary":return Array.isArray(t.rateParameters)?"PLOG-Reaction":"REACTION";case"stick":return"STICK";case"surface":return"REACTION";case"pressure_dependent":switch(t.fallOffFunction.type){case"lindemann":return"LINDEMANN";case"sri":return"SRI";case"troe":return"TROE"}break;case"detchem_udf":return"UDF-Reaction"}throw new Error(`Could not determine tag name for reaction of type "${t.type}"`)}function xg(t){switch(t.type){case"elementary":case"surface":return"ARRHENIUS";case"stick":return"STICK";case"pressure_dependent":if(t.fallOffFunction.type==="troe")return"TROE"}throw new Error("Unsupported: GLOBAL reaction in combination with LINDEMANN, SRI or PLOG")}function Ag(t,r){return r=["id","reversible","reactants","units","type",...r],Object.keys(t).forEach(e=>{if(!r.includes(e))throw new Error(`Option "${e}" not implemented. Please file a feature request.`)}),t}function xc(t,r){let{gas:e,surface:i,liquid:a,interphase:o,...l}=t,u=Object.keys(l);if(u.length>0)throw new Error(`Cannot render reaction group "${u[0]}"`);let g={PARAMETERS:{}};if(e){let{list:d,options:m}=e,{units:v}=m,S=d.filter(_=>_.type==="pressure_dependent").length,h=S+d.filter(_=>_.type==="elementary").length,w=h;g.PARAMETERS.DCRGMAX=h,g.PARAMETERS.DCRGGMAX=w,g.PARAMETERS.DCRGTMAX=S,g.GASPHASE=[],e.detchemUdfDefinitions&&g.GASPHASE.push({UDF:e.detchemUdfDefinitions}),g.GASPHASE=g.GASPHASE.concat(d.map(_=>oa(_,{units:v},r)))}if(i){let{list:d,options:m}=i,{units:v}=m;g.PARAMETERS.DCRSMAX=d.length,g.SURFACE=[],i.detchemUdfDefinitions&&g.SURFACE.push({UDF:i.detchemUdfDefinitions}),g.SURFACE=g.SURFACE.concat(d.map(S=>oa(S,{units:v},r)))}if(a){let{list:d,options:m}=a,{units:v}=m;g.LIQUID=[],a.detchemUdfDefinitions&&g.LIQUID.push({UDF:a.detchemUdfDefinitions}),g.LIQUID=g.LIQUID.concat(d.map(S=>oa(S,{units:v},r)))}if(o){let{list:d,options:m}=o,{units:v}=m;g.INTERPHASE=[],o.detchemUdfDefinitions&&g.INTERPHASE.push({UDF:o.detchemUdfDefinitions}),g.INTERPHASE=g.INTERPHASE.concat(d.map(S=>oa(S,{units:v},r)))}return yt("MECHANISM",g)}var On=Ct(fu());function lu(t){let r=[],e=(0,On.default)(t.detchemSpecies,u=>t.sdb.isThirdBody(u)?"M":t.sdb.dimension(u)===2?"surface":t.sdb.phase(u)),{gas:i,M:a,surface:o,...l}=e;if(r.push({PARAMETERS:{DCSGMAX:t.detchemSpecies.length*2,DCSMMAX:(a||[]).length,DCSSMAX:(o||[]).length}}),i&&r.push({GASPHASE:i}),a&&r.push(a.map(u=>b0(u,t))),o){let u=(0,On.default)(o,g=>t.sdb.phase(g));Object.keys(u).forEach(g=>{let d=`SURFACE name=${g} mol/m2=${t.sdb.surfaceSiteDensity(g).toExponential(4)}`,m=u[g].map(v=>{let S=t.sdb.adsorbent(v);if(!S)return v;try{let h=t.sdb.composition(v)[S];if(h>1)return`${v} *${h}`}catch{return v}return v});r.push({[d]:[...m,{INITIAL:{[g]:1}}]})})}return Object.keys(l).forEach(u=>{r.push({[`PHASE ${u}`]:l[u].map(g=>{try{return{[g]:t.sdb.density(g)}}catch{return{[g]:t.sdb.density(g)}}})})}),yt("SPECIES",r)}function b0(t,r){let{sdb:e,detchemSpecies:i}=r,a=e.composition(t);if("*"in a){let o=Object.keys(a),l={};for(let d=0;d<o.length;++d){let m=o[d];e.isWildcard(m)||(l[m]=a[m])}let u=a["*"],g={};for(let d=0;d<i.length;++d){let m=i[d];e.phase(m)==="gas"&&!e.isThirdBody(m)&&(g[m]=u)}a={...g,...l}}return{"THIRD-BODY":{[t]:Object.keys(a).map(o=>`${a[o]} ${o}`).join(`
             + `)}}}function $0(t){let r=Object.keys(t);if(r.length>4)throw new Error("DETCHEM does not support species that consist of 5 different atoms");let e=new Array(4);for(let i=0;i<4;++i){let a=r[i];e[i]=a?Tt(a,3)+cn(t[a].toString(),2):"     "}return e.join("")}function I0(t,r){let e=r.thermodynamicData(t),i=r.composition(t),a=r.state(t);if(Object.keys(i).length>4)throw new Error("Atomic composition can only contain four atoms");let o=new Array(4);return o[0]=`${Tt(t,18," ")}      ${$0(i)}${a}${Lr(e[0].range.low,10)}${Lr(e[1].range.high,10)}${Lr(e[0].range.high,8)}      1`,o[1]=`${e[1].coefficients.slice(0,5).map(na).join("")}    2`,o[2]=`${e[1].coefficients.slice(5,7).map(na).join("")+e[0].coefficients.slice(0,3).map(na).join("")}    3`,o[3]=`${e[0].coefficients.slice(3,7).map(na).join("")}                   4`,o.join(`
`)}function cu(t){let{detchemSpecies:r,sdb:e}=t;return r.filter(i=>!e.isThirdBody(i)).map(i=>I0(i,e)).join(`
`)}function _0(t){switch(t){case"atom":return"0";case"linear":return"1";case"nonlinear":return"2"}}function D0(t,r){return[Tt(t,8),`${_0(r.property(t,"geometricalConfiguration"))}   `,Tt("-1",5),Lr(r.property(t,"LennardJonesWellDepth"),10),Lr(r.property(t,"LennardJonesCollisionDiameter"),10),Lr(r.property(t,"dipoleMoment"),10),Lr(r.property(t,"polarizability"),10),Lr(r.property(t,"rotationalRelaxationCollisionNumber"),6)].join(" ")}function uu(t,r=!1){let{detchemSpecies:e,sdb:i}=t,a=[];for(let o=0;o<e.length;++o){let l=e[o];try{if(i.isThirdBody(l)||i.dimension(l)!==3)continue;a.push(D0(l,i))}catch(u){if(r)continue;throw new fn.default(u,"Species %s",l)}}return a.join(`
`)}var pu=10,xa=new Array(pu);for(let t=0;t<pu;++t)xa[t]=new Array(t+1).join("  ");function bt(t,r=0){return Array.isArray(t)||(t=[t]),t.map(e=>{let{name:i,value:a}=e;if(Array.isArray(a)){let o=a.map(g=>bt(g,r+1));if(!i)throw new Error("Cannot render unnamed tag");let[l,...u]=i.split(/\s+/);return`${xa[r]}<${[l,...u].join(" ")}>
${o.join(`
`)}
${xa[r]}</${l}>`}return i?`${xa[r]}${i} = ${R0(a)}`:xa[r]+a}).join(`
`)}function R0(t){switch(typeof t){case"number":return t>1e6?t.toExponential(6):t;case"boolean":return Ai(t);case"object":return Ai(!1)}return t}var Mt=class extends Error{constructor(e,i,a,o,l){super();this.code=i;this.signal=a;this.stdout=o;this.stderr=l;this.message=`The executable "${e}" returned a non-zero exit code: ${i}`}};var Rm=require("child_process"),xm=require("events");var Im=Ct($m()),_m=require("path");function Dm(t,r,e){return(0,Im.writeFile)(typeof t=="string"?t:(0,_m.resolve)(...t),r,e)}var Ha=class extends xm.EventEmitter{spawn(e,i,a){let o=this.childProcess=(0,Rm.spawn)(e,i,a);return new Promise((l,u)=>{this.stdout="",this.stderr="",o.stdout.on("data",g=>this.stdout+=g),o.stderr.on("data",g=>this.stderr+=g),o.on("error",u),o.on("exit",(g,d)=>{if(g!==0)return u(new Mt(e,g,d,this.stdout,this.stderr));l({stdout:this.stdout,stderr:this.stderr})})})}writeFile(e,i,a){return a&&this.emit("resource",{...a,path:e}),Dm(e,i)}};function Cm(t){let r=[],e={},i=0;function a(u,g){let d;if(t.isWildcard(u))return u;if(t.isThirdBody(u)){let m=MS(g);if(d=e[m],!d){d=`__M${Am(++i)}`;let v=Object.keys(g).reduce((S,h)=>(S[a(h,g)]=g[h],S),{});t.merge({[d]:{composition:v}}),e[m]=d,r.push(d)}}else d=e[u],d||(u.length>8||u.startsWith("_")&&u[1]==="_"||u.includes("#")?(d=`__S${Am(r.length+1)}`,t.merge({[d]:u})):d=u,e[u]=d,r.push(d));return d}function o(u=""){let g={},d=Object.keys(e);for(let m=0;m<d.length;++m){let v=d[m];g[u+e[v]]=v}return g}function l(u){return Object.keys(e).filter(g=>t.isThirdBody(e[g])?!1:u?u(g,t):!0)}return Object.assign(a,{detchemSpecies:r,sdb:t,reverseMapping:o,species:l})}function Am(t){return`00000${t}`.slice(-5)}function MS(t){let r=Object.keys(t).sort().reduce((e,i)=>(e[i]=t[i],e),{});return`__${JSON.stringify(r)}`}var Va=class extends Ha{constructor(e){super();this.parameters=e;let{chemical_model:i}=e,a=new Xr((i==null?void 0:i.species_database)||{});this.id=Cm(a)}renderInputFiles(){let e=this.renderApplicationTag(),i=this.renderMechanismTag(),a=this.renderSurfaceModelTag(),l=[this.renderSpeciesTag(),i,a,e].join(`
`);return{[this.inputFileName]:l,moldata:this.renderMoldata(),thermdata:this.renderThermdata()}}writeInputFiles(){let e=this.renderInputFiles(),i=Object.keys(e).map(a=>this.writeFile(a,e[a]));return Promise.all(i)}async run(){let e=process.env.DETCHEM_LICENSE_KEY;if(!e)throw new Error("No DETCHEM license key provided.");await this.writeInputFiles();try{await this.spawn(this.executablePath,["--key",e,"-y"]),await this.spawn(this.executablePath,[this.inputFileName])}catch(i){if(!(i instanceof Mt))throw i;this.emit("error",new Error(`Process exited with non-zero exit code: ${i.stderr}`))}finally{await this.writeStdout();let i=this.getError();i&&this.emit("error",i)}this.resourceDefinitions().forEach(i=>this.emit("resource",i)),this.emit("done")}renderMechanismTag(){return bt(xc(this.parameters.chemical_model.reactions,this.id))}renderSurfaceModelTag(){return bt(tc(this.parameters,this.id))}renderMoldata(){return uu(this.id)}renderSpeciesTag(){return bt(lu(this.id))}renderThermdata(){return cu(this.id)}getError(){var e,i;return Lo.errors((i=(e=this.stdout)!=null?e:this.stderr)!=null?i:"")}validate(){let e=this.validateWithSchema(this.parameters);if(e.length>0)return e;try{this.renderInputFiles()}catch(i){return[i]}return[]}writeStdout(){let e=[];return this.stdout&&e.push(this.writeFile("stdout",this.stdout,{format:"txt"})),this.stderr&&e.push(this.writeFile("stderr",this.stderr,{format:"txt"})),Promise.all(e)}};function Om(t,r){var a,o,l,u,g,d,m,v,S,h,w,_,I,O,k,q,K,Z,X,H;let e=(o=(a=t.chemical_model.reactions.gas)==null?void 0:a.list.length)!=null?o:0,i=(u=(l=t.chemical_model.reactions.surface)==null?void 0:l.list.length)!=null?u:0;return yt("PBR",{GEOMETRY:[{reactor:t.geometry.reactor},{radius:t.geometry.radius},t.geometry.sections.map(G=>{var re;let M={};return G.porosity!==void 0&&(M.porosity=G.porosity),G.area_to_volume_ratio!==void 0&&(M.area_to_volume_ratio=G.area_to_volume_ratio),{SECTION:{length:G.length,particle_geometry:"sphere",particle_diameter:G.particle_diameter,wall_temp:G.wall_temp,gas_chem:e>0,surf_chem:i>0,particle_therm_conductivity:G.particle_thermal_conductivity,radial_thermal_conductivity_solid:G.radial_thermal_conductivity_solid,"Fcat/geo":(re=G.f_cat_geo)!=null?re:1,...M}}}),{WALL:{wall_thickness:t.geometry.wall.wall_thickness,thermal_conductivity_wall:t.geometry.wall.thermal_conductivity_wall,heat_trans_coeff_outside:t.geometry.wall.heat_trans_coeff_outside,...t.geometry.wall.overall_heat_trans_coeff&&{overall_heat_trans_coeff:t.geometry.wall.overall_heat_trans_coeff},heat_flux:t.geometry.wall.heat_flux}}],INITIAL:{T:t.initial.temperature,P:t.initial.pressure,velocity:t.initial.velocity,..."mass_fractions"in t.initial?{MASSFRAC:ns(t.initial.mass_fractions,r)}:{MOLEFRAC:ns(t.initial.mole_fractions,r)}},PROCESS:{isothermal:t.process.isothermal,adiabatic:t.process.adiabatic,mass_transfer:(g=t.process.mass_transfer)!=null?g:!1,cov_relax:(d=t.process.cov_relax)!=null?d:1,pseudo_homogeneous:(m=t.process.pseudo_homogeneous)!=null?m:!1,T_solid_balance:(v=t.process.T_solid_balance)!=null?v:!1},SOLVER:{atol:(h=(S=t.solver)==null?void 0:S.absolute_tolerance)!=null?h:t.process.mass_transfer?1e-6:1e-12,rtol:(_=(w=t.solver)==null?void 0:w.relative_tolerance)!=null?_:1e-6,h:(O=(I=t.solver)==null?void 0:I.initial_integration_step_size)!=null?O:1e-10,hmax:(q=(k=t.solver)==null?void 0:k.max_integration_step_size)!=null?q:10,max_iter:(Z=(K=t.solver)==null?void 0:K.max_iter)!=null?Z:1e6,IPos:(H=(X=t.solver)==null?void 0:X.i_pos)!=null?H:1},OUTPUT:{fileNr:"1",write_molefractions:!0,write_massfractions:!0,write_coverages:!0}})}var Nm=require("path");var Fm={$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/IDetchemPBRConfiguration",definitions:{IDetchemPBRConfiguration:{type:"object",properties:{chemical_model:{$ref:"#/definitions/IDetchemChemicalModel"},f_cat_geo:{type:"number"},chem_surf:{$ref:"#/definitions/IDetchemChemSurf"},washcoat:{$ref:"#/definitions/IDetchemWashcoat"},geometry:{type:"object",properties:{reactor:{type:"string",enum:["cylindrical"]},radius:{type:"number"},sections:{type:"array",items:{type:"object",properties:{length:{type:"number"},wall_temp:{type:"number"},porosity:{type:"number"},particle_thermal_conductivity:{type:"number"},radial_thermal_conductivity_solid:{type:"number"},area_to_volume_ratio:{type:"number"},f_cat_geo:{type:"number"},particle_geometry:{type:"string",enum:["sphere"]},particle_diameter:{type:"number"}},required:["length","particle_diameter","particle_thermal_conductivity","porosity","radial_thermal_conductivity_solid","wall_temp"],additionalProperties:!1}},wall:{type:"object",properties:{wall_thickness:{type:"number"},thermal_conductivity_wall:{type:"number"},heat_trans_coeff_outside:{type:"number"},overall_heat_trans_coeff:{type:"number"},heat_flux:{type:"number"}},required:["wall_thickness","thermal_conductivity_wall","heat_trans_coeff_outside","heat_flux"],additionalProperties:!1}},required:["reactor","radius","sections","wall"],additionalProperties:!1},initial:{anyOf:[{type:"object",properties:{temperature:{type:"number"},pressure:{type:"number"},velocity:{type:"number"},mole_fractions:{$ref:"#/definitions/IDetchemSpeciesComposition"}},required:["mole_fractions","pressure","temperature","velocity"],additionalProperties:!1},{type:"object",properties:{temperature:{type:"number"},pressure:{type:"number"},velocity:{type:"number"},mass_fractions:{$ref:"#/definitions/IDetchemSpeciesComposition"}},required:["mass_fractions","pressure","temperature","velocity"],additionalProperties:!1}]},process:{type:"object",properties:{adiabatic:{type:"boolean"},isothermal:{type:"boolean"},mass_transfer:{type:"boolean"},cov_relax:{type:"number"},pseudo_homogeneous:{type:"boolean"},T_solid_balance:{type:"boolean"}},required:["adiabatic","isothermal"],additionalProperties:!1},solver:{type:"object",properties:{initial_integration_step_size:{type:"number"},max_integration_step_size:{type:"number"},absolute_tolerance:{type:"number"},relative_tolerance:{type:"number"},max_iter:{type:"number"},i_pos:{type:"boolean"}},additionalProperties:!1,required:["absolute_tolerance","initial_integration_step_size","max_integration_step_size","relative_tolerance"]}},required:["chemical_model","geometry","initial","process"],additionalProperties:!1},IDetchemChemicalModel:{type:"object",properties:{species_database:{$ref:"#/definitions/ISpeciesDatabase"},reactions:{$ref:"#/definitions/IReactionGroups"}},required:["species_database","reactions"],additionalProperties:!1},ISpeciesDatabase:{type:"object",additionalProperties:{anyOf:[{type:"object",properties:{extends:{type:"string"},mass:{type:"number"},molarMass:{type:"number"},composition:{type:"object",additionalProperties:{type:"number"}},state:{type:"string",enum:["G","S","L"]},density:{type:"number"},dimension:{type:"number",enum:[1,2,3]},phase:{type:"string"},surfaceSiteDensity:{type:"number"},thermodynamicData:{type:"array",items:{$ref:"#/definitions/IThermodynamicCoefficients"}},geometricalConfiguration:{type:"string",enum:["atom","linear","nonlinear"]},LennardJonesWellDepth:{type:"number"},LennardJonesCollisionDiameter:{type:"number"},dipoleMoment:{type:"number"},polarizability:{type:"number"},rotationalRelaxationCollisionNumber:{type:"number"}},additionalProperties:!1},{type:"string"}]}},IThermodynamicCoefficients:{type:"object",properties:{type:{type:"string",enum:["NASA7"]},range:{type:"object",properties:{low:{type:"number"},high:{type:"number"}},required:["low","high"],additionalProperties:!1},coefficients:{type:"array",minItems:7,items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"},{type:"number"},{type:"number"},{type:"number"}],maxItems:7}},required:["type","range","coefficients"],additionalProperties:!1},IReactionGroups:{type:"object",properties:{gas:{$ref:"#/definitions/IReactions"},surface:{$ref:"#/definitions/IReactions"},liquid:{$ref:"#/definitions/IReactions"},interphase:{$ref:"#/definitions/IReactions"}},additionalProperties:!1},IReactions:{type:"object",properties:{options:{type:"object",properties:{units:{$ref:"#/definitions/IReactionUnits"},MotzWiseCorrection:{type:"boolean"}},required:["units"],additionalProperties:!1},detchemUdfDefinitions:{type:"array",items:{type:"string"}},list:{type:"array",items:{$ref:"#/definitions/IReaction"}}},required:["options","list"],additionalProperties:!1},IReactionUnits:{type:"object",properties:{A:{type:"array",minItems:2,items:[{type:"string",enum:["m","cm"]},{type:"string",enum:["mol","1"]}],maxItems:2},Ea:{type:"string",enum:["J/mol","kJ/mol","cal/mol","kcal/mol"]}},required:["A","Ea"],additionalProperties:!1},IReaction:{anyOf:[{$ref:"#/definitions/IElementaryReaction"},{$ref:"#/definitions/IPressureDependentReaction"},{$ref:"#/definitions/IStickingReaction"},{$ref:"#/definitions/ISurfaceReaction"},{$ref:"#/definitions/IDetchemUserDefinedReaction"}]},IElementaryReaction:{type:"object",properties:{id:{type:"string"},reactants:{type:"array",items:{$ref:"#/definitions/IReactant"}},reversible:{anyOf:[{type:"boolean"},{$ref:"#/definitions/IArrheniusParameters"}]},units:{type:"object",properties:{A:{type:"array",minItems:2,items:[{type:"string",enum:["m","cm"]},{type:"string",enum:["mol","1"]}],maxItems:2},Ea:{type:"string",enum:["J/mol","kJ/mol","cal/mol","kcal/mol"]}},additionalProperties:!1},location:{$ref:"#/definitions/LocationRange"},type:{type:"string",enum:["elementary"]},rateParameters:{anyOf:[{$ref:"#/definitions/IArrheniusParameters"},{type:"array",items:{$ref:"#/definitions/IPLogParameters"}}]},thirdBodyEfficiencies:{$ref:"#/definitions/ISpeciesDict"}},required:["id","rateParameters","reactants","reversible","type","units"],additionalProperties:!1},IReactant:{type:"object",properties:{name:{type:"string"},nu:{type:"number"},order:{type:"number"}},required:["name","nu","order"],additionalProperties:!1},IArrheniusParameters:{type:"object",properties:{A:{type:"number"},b:{type:"number"},Ea:{type:"number"}},required:["A","b","Ea"],additionalProperties:!1},LocationRange:{$ref:"#/definitions/PEG.LocationRange"},"PEG.LocationRange":{type:"object",properties:{start:{$ref:"#/definitions/PEG.Location"},end:{$ref:"#/definitions/PEG.Location"}},required:["start","end"],additionalProperties:!1},"PEG.Location":{type:"object",properties:{line:{type:"number"},column:{type:"number"},offset:{type:"number"}},required:["line","column","offset"],additionalProperties:!1},IPLogParameters:{type:"object",properties:{A:{type:"number"},b:{type:"number"},Ea:{type:"number"},pressure:{type:"number"}},required:["A","Ea","b","pressure"],additionalProperties:!1},ISpeciesDict:{type:"object",additionalProperties:{type:"number"}},IPressureDependentReaction:{type:"object",properties:{id:{type:"string"},reactants:{type:"array",items:{$ref:"#/definitions/IReactant"}},reversible:{anyOf:[{type:"boolean"},{$ref:"#/definitions/IArrheniusParameters"}]},units:{type:"object",properties:{A:{type:"array",minItems:2,items:[{type:"string",enum:["m","cm"]},{type:"string",enum:["mol","1"]}],maxItems:2},Ea:{type:"string",enum:["J/mol","kJ/mol","cal/mol","kcal/mol"]}},additionalProperties:!1},location:{$ref:"#/definitions/LocationRange"},type:{type:"string",enum:["pressure_dependent"]},rateParameters:{type:"object",properties:{pressureDependentFactor:{type:"string",enum:["low"]},high:{$ref:"#/definitions/IArrheniusParameters"},low:{$ref:"#/definitions/IArrheniusParameters"}},required:["pressureDependentFactor","high","low"],additionalProperties:!1},fallOffFunction:{$ref:"#/definitions/IFallOffFunction"},fallOffSpecies:{type:"string"},thirdBodyEfficiencies:{$ref:"#/definitions/ISpeciesDict"}},required:["fallOffFunction","fallOffSpecies","id","rateParameters","reactants","reversible","type","units"],additionalProperties:!1},IFallOffFunction:{anyOf:[{$ref:"#/definitions/IFallOffFunctionLindemann"},{$ref:"#/definitions/IFallOffFunctionTroe"},{$ref:"#/definitions/IFallOffFunctionSri"}]},IFallOffFunctionLindemann:{type:"object",properties:{type:{type:"string",enum:["lindemann"]}},required:["type"],additionalProperties:!1},IFallOffFunctionTroe:{type:"object",properties:{type:{type:"string",enum:["troe"]},parameters:{$ref:"#/definitions/ITroeParameters"}},required:["type","parameters"],additionalProperties:!1},ITroeParameters:{type:"object",properties:{alpha:{type:"number"},T3:{type:"number"},T1:{type:"number"},T2:{type:"number"}},required:["alpha","T3","T1"],additionalProperties:!1},IFallOffFunctionSri:{type:"object",properties:{type:{type:"string",enum:["sri"]},parameters:{$ref:"#/definitions/ISriParameters"}},required:["type","parameters"],additionalProperties:!1},ISriParameters:{anyOf:[{$ref:"#/definitions/ISri3Parameters"},{$ref:"#/definitions/ISri5Parameters"}]},ISri3Parameters:{type:"object",properties:{a:{type:"number"},b:{type:"number"},c:{type:"number"}},required:["a","b","c"],additionalProperties:!1},ISri5Parameters:{type:"object",properties:{a:{type:"number"},b:{type:"number"},c:{type:"number"},d:{type:"number"},e:{type:"number"}},required:["a","b","c","d","e"],additionalProperties:!1},IStickingReaction:{type:"object",properties:{id:{type:"string"},reactants:{type:"array",items:{$ref:"#/definitions/IReactant"}},reversible:{anyOf:[{type:"boolean"},{$ref:"#/definitions/IArrheniusParameters"}]},units:{type:"object",properties:{A:{type:"array",minItems:2,items:[{type:"string",enum:["m","cm"]},{type:"string",enum:["mol","1"]}],maxItems:2},Ea:{type:"string",enum:["J/mol","kJ/mol","cal/mol","kcal/mol"]}},additionalProperties:!1},location:{$ref:"#/definitions/LocationRange"},type:{type:"string",enum:["stick"]},stickingCoefficients:{type:"object",properties:{a:{type:"number"},b:{type:"number"},c:{type:"number"}},required:["a","b","c"],additionalProperties:!1},coverageDependencyParameters:{$ref:"#/definitions/ICoverageDependencyParameters"},MotzWiseCorrection:{type:"boolean"}},required:["id","reactants","reversible","stickingCoefficients","type","units"],additionalProperties:!1},ICoverageDependencyParameters:{type:"object",additionalProperties:{type:"object",properties:{eta:{type:"number"},mu:{type:"number"},epsilon:{type:"number"}},required:["eta","mu","epsilon"],additionalProperties:!1}},ISurfaceReaction:{type:"object",properties:{id:{type:"string"},reactants:{type:"array",items:{$ref:"#/definitions/IReactant"}},reversible:{anyOf:[{type:"boolean"},{$ref:"#/definitions/IArrheniusParameters"}]},units:{type:"object",properties:{A:{type:"array",minItems:2,items:[{type:"string",enum:["m","cm"]},{type:"string",enum:["mol","1"]}],maxItems:2},Ea:{type:"string",enum:["J/mol","kJ/mol","cal/mol","kcal/mol"]}},additionalProperties:!1},location:{$ref:"#/definitions/LocationRange"},type:{type:"string",enum:["surface"]},rateParameters:{$ref:"#/definitions/IArrheniusParameters"},coverageDependencyParameters:{$ref:"#/definitions/ICoverageDependencyParameters"}},required:["id","rateParameters","reactants","reversible","type","units"],additionalProperties:!1},IDetchemUserDefinedReaction:{type:"object",properties:{id:{type:"string"},reactants:{type:"array",items:{$ref:"#/definitions/IReactant"}},reversible:{anyOf:[{type:"boolean"},{$ref:"#/definitions/IArrheniusParameters"}]},units:{type:"object",properties:{A:{type:"array",minItems:2,items:[{type:"string",enum:["m","cm"]},{type:"string",enum:["mol","1"]}],maxItems:2},Ea:{type:"string",enum:["J/mol","kJ/mol","cal/mol","kcal/mol"]}},additionalProperties:!1},location:{$ref:"#/definitions/LocationRange"},type:{type:"string",enum:["detchem_udf"]},variable:{type:"string"}},required:["id","reactants","reversible","type","units","variable"],additionalProperties:!1},IDetchemChemSurf:{type:"object",properties:{initial_integration_step_size:{type:"number"},max_integration_step_size:{type:"number"},absolute_tolerance:{type:"number"},relative_tolerance:{type:"number"},integration_time:{type:"number"}},required:["absolute_tolerance","initial_integration_step_size","integration_time","max_integration_step_size","relative_tolerance"],additionalProperties:!1},IDetchemWashcoat:{type:"object",properties:{thickness:{type:"number"},porosity:{type:"number"},tortuosity:{type:"number"},pore_diameter:{type:"number"},diffusion_limiting_species:{type:"array",items:{type:"string"}}},required:["thickness","porosity","tortuosity","pore_diameter","diffusion_limiting_species"],additionalProperties:!1},IDetchemSpeciesComposition:{type:"object",additionalProperties:{anyOf:[{type:"number"},{type:"string",enum:["*"]}]}}}};var Tm=Gl(Fm);var US=(0,Nm.resolve)(__dirname,"../bin/pbr"),eo=class extends Va{constructor(){super(...arguments);this.executablePath=US;this.inputFileName="pbr.inp";this.validateWithSchema=Tm}renderApplicationTag(){return bt(Om(this.parameters,this.id))}resourceDefinitions(){let{id:e}=this,i=e.reverseMapping("X"),a=e.reverseMapping("Y"),o=e.species((m,v)=>v.phase(m)==="gas"),l="PBR-molefracs001.plt",u="PBR-massfracs001.plt",g="PBR-coverages001.plt",d={delimiter:"	",primaryKey:"z",headerLine:3,dataLine:4,allowInconsistentColumns:!0,ignoreIncompleteRows:!0};return[{path:l,format:"csv",options:d},{name:"./mole_fractions",path:l,format:"csv",options:{...d,columns:i}},{name:"./mole_fractions_dry",loader:"post-process-dry",options:{input:"./mole_fractions",species:o}},{name:"./mass_fractions",path:u,format:"csv",options:{...d,columns:a}},{name:"./coverages",path:g,format:"csv",options:{...d,columns:a}},{name:"./conversions",loader:"post-process-conversions",options:{input:"./mass_fractions",species:o}}]}};var jm=eo;function BS(t){switch(t){case"0":return"atom";case"1":return"linear";case"2":return"nonlinear"}throw new Ge(`Unknown geometrical configuration: ${t}`)}function da(t){let r=+t;if(isNaN(r))throw new Ge(`"${t}" is not a number`);return r}function Lm(t){let r=t.split(`
`),e={};for(let i=0;i<r.length;++i){let o=r[i].split(/\s+/);if(!(o.length<8))try{e[o[0]]={molarMass:da(o[2]),geometricalConfiguration:BS(o[1]),LennardJonesWellDepth:da(o[3]),LennardJonesCollisionDiameter:da(o[4]),dipoleMoment:da(o[5]),polarizability:da(o[6]),rotationalRelaxationCollisionNumber:da(o[7])}}catch(l){throw new Ge(l,`Error importing species "${o[0]}"`)}}return e}var qm=require("fs"),Mm=require("path");function fi(...t){return(0,qm.readFileSync)((0,Mm.resolve)(...t),"utf8")}function zS(t){let r,e,i,a,o;for(let v=0;v<t.length;++v)switch(t[v]){case"--dci":r=fi(t[++v]);continue;case"--ckt":e=fi(t[++v]);continue;case"--moldata":i=fi(t[++v]);continue;case"--surface":{let h=t[++v];if(!h)return zt("Missing argument --surface");let w=h.split("=");if(w.length!==2||(a=w[0],o=+w[1],isNaN(o)))return zt("--surface argument expects species name and surface site density in SI units, e.g. Ni=2.5e-5.")}}if(!e)return zt("Missing required argument --ckt");if(!i)return zt("Missing required argument --moldata");if(!r)return zt("Missing required argument --dci");if(!a)return zt("Missing required argument --surface");let l=new Xr(dn(e));l.merge(Lm(i)),l.merge({[a]:{phase:a,surfaceSiteDensity:o,dimension:2}});let u=vn(r,l),g={species_database:l.entries,reactions:{surface:u}},d={geometry:{reactor:"cylindrical",radius:.2,sections:[{length:1,wall_temp:400,particle_geometry:"sphere",particle_diameter:.01,porosity:.3,particle_thermal_conductivity:.3,radial_thermal_conductivity_solid:.2,area_to_volume_ratio:400,f_cat_geo:1}],wall:{wall_thickness:.03,thermal_conductivity_wall:50,heat_trans_coeff_outside:1,overall_heat_trans_coeff:2,heat_flux:5}},initial:{temperature:420,pressure:1e5,velocity:.2,mole_fractions:{CO2:.5,H2:"*"}},process:{isothermal:!0,adiabatic:!1,mass_transfer:!1,cov_relax:1,pseudo_homogeneous:!1,T_solid_balance:!1},solver:{absolute_tolerance:1e-18,relative_tolerance:1e-6,initial_integration_step_size:1e-16,max_integration_step_size:10,max_iter:1e5},chemical_model:g},m=new jm(d);process.stdout.write(JSON.stringify(m.renderInputFiles(),null,2))}function zt(t){process.stderr.write(`${t}
`),process.exit(1)}zS(process.argv.slice(2));
/*! Bundled license information:

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)
*/
